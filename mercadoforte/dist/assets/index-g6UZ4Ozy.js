(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ax(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var h_={exports:{}},qp={},f_={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=Symbol.for("react.element"),xx=Symbol.for("react.portal"),Ex=Symbol.for("react.fragment"),Px=Symbol.for("react.strict_mode"),Tx=Symbol.for("react.profiler"),Cx=Symbol.for("react.provider"),Nx=Symbol.for("react.context"),Ix=Symbol.for("react.forward_ref"),kx=Symbol.for("react.suspense"),Lx=Symbol.for("react.memo"),Rx=Symbol.for("react.lazy"),uy=Symbol.iterator;function Dx(t){return t===null||typeof t!="object"?null:(t=uy&&t[uy]||t["@@iterator"],typeof t=="function"?t:null)}var d_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p_=Object.assign,m_={};function bc(t,e,n){this.props=t,this.context=e,this.refs=m_,this.updater=n||d_}bc.prototype.isReactComponent={};bc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function g_(){}g_.prototype=bc.prototype;function M0(t,e,n){this.props=t,this.context=e,this.refs=m_,this.updater=n||d_}var V0=M0.prototype=new g_;V0.constructor=M0;p_(V0,bc.prototype);V0.isPureReactComponent=!0;var cy=Array.isArray,v_=Object.prototype.hasOwnProperty,B0={current:null},y_={key:!0,ref:!0,__self:!0,__source:!0};function w_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)v_.call(e,r)&&!y_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:df,type:t,key:o,ref:s,props:i,_owner:B0.current}}function Fx(t,e){return{$$typeof:df,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function U0(t){return typeof t=="object"&&t!==null&&t.$$typeof===df}function Ox(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hy=/\/+/g;function ng(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ox(""+t.key):e.toString(36)}function Nd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case df:case xx:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ng(s,0):r,cy(i)?(n="",t!=null&&(n=t.replace(hy,"$&/")+"/"),Nd(i,e,n,"",function(h){return h})):i!=null&&(U0(i)&&(i=Fx(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(hy,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",cy(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+ng(o,a);s+=Nd(o,e,n,l,i)}else if(l=Dx(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+ng(o,a++),s+=Nd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Jf(t,e,n){if(t==null)return t;var r=[],i=0;return Nd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function jx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vr={current:null},Id={transition:null},Mx={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:Id,ReactCurrentOwner:B0};function __(){throw Error("act(...) is not supported in production builds of React.")}At.Children={map:Jf,forEach:function(t,e,n){Jf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jf(t,function(){e++}),e},toArray:function(t){return Jf(t,function(e){return e})||[]},only:function(t){if(!U0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};At.Component=bc;At.Fragment=Ex;At.Profiler=Tx;At.PureComponent=M0;At.StrictMode=Px;At.Suspense=kx;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mx;At.act=__;At.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=p_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=B0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)v_.call(e,l)&&!y_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:df,type:t.type,key:i,ref:o,props:r,_owner:s}};At.createContext=function(t){return t={$$typeof:Nx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cx,_context:t},t.Consumer=t};At.createElement=w_;At.createFactory=function(t){var e=w_.bind(null,t);return e.type=t,e};At.createRef=function(){return{current:null}};At.forwardRef=function(t){return{$$typeof:Ix,render:t}};At.isValidElement=U0;At.lazy=function(t){return{$$typeof:Rx,_payload:{_status:-1,_result:t},_init:jx}};At.memo=function(t,e){return{$$typeof:Lx,type:t,compare:e===void 0?null:e}};At.startTransition=function(t){var e=Id.transition;Id.transition={};try{t()}finally{Id.transition=e}};At.unstable_act=__;At.useCallback=function(t,e){return Vr.current.useCallback(t,e)};At.useContext=function(t){return Vr.current.useContext(t)};At.useDebugValue=function(){};At.useDeferredValue=function(t){return Vr.current.useDeferredValue(t)};At.useEffect=function(t,e){return Vr.current.useEffect(t,e)};At.useId=function(){return Vr.current.useId()};At.useImperativeHandle=function(t,e,n){return Vr.current.useImperativeHandle(t,e,n)};At.useInsertionEffect=function(t,e){return Vr.current.useInsertionEffect(t,e)};At.useLayoutEffect=function(t,e){return Vr.current.useLayoutEffect(t,e)};At.useMemo=function(t,e){return Vr.current.useMemo(t,e)};At.useReducer=function(t,e,n){return Vr.current.useReducer(t,e,n)};At.useRef=function(t){return Vr.current.useRef(t)};At.useState=function(t){return Vr.current.useState(t)};At.useSyncExternalStore=function(t,e,n){return Vr.current.useSyncExternalStore(t,e,n)};At.useTransition=function(){return Vr.current.useTransition()};At.version="18.3.1";f_.exports=At;var ue=f_.exports;const ec=Sx(ue);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=ue,Bx=Symbol.for("react.element"),Ux=Symbol.for("react.fragment"),zx=Object.prototype.hasOwnProperty,qx=Vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$x={key:!0,ref:!0,__self:!0,__source:!0};function b_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)zx.call(e,r)&&!$x.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Bx,type:t,key:o,ref:s,props:i,_owner:qx.current}}qp.Fragment=Ux;qp.jsx=b_;qp.jsxs=b_;h_.exports=qp;var W=h_.exports,e1={},S_={exports:{}},xi={},A_={exports:{}},x_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,Y){var oe=Q.length;Q.push(Y);e:for(;0<oe;){var ve=oe-1>>>1,O=Q[ve];if(0<i(O,Y))Q[ve]=Y,Q[oe]=O,oe=ve;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var Y=Q[0],oe=Q.pop();if(oe!==Y){Q[0]=oe;e:for(var ve=0,O=Q.length,H=O>>>1;ve<H;){var X=2*(ve+1)-1,ne=Q[X],ie=X+1,pe=Q[ie];if(0>i(ne,oe))ie<O&&0>i(pe,ne)?(Q[ve]=pe,Q[ie]=oe,ve=ie):(Q[ve]=ne,Q[X]=oe,ve=X);else if(ie<O&&0>i(pe,oe))Q[ve]=pe,Q[ie]=oe,ve=ie;else break e}}return Y}function i(Q,Y){var oe=Q.sortIndex-Y.sortIndex;return oe!==0?oe:Q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],h=[],d=1,m=null,g=3,p=!1,P=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Q){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=Q)r(h),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(h)}}function F(Q){if(N=!1,A(Q),!P)if(n(l)!==null)P=!0,ee(V);else{var Y=n(h);Y!==null&&J(F,Y.startTime-Q)}}function V(Q,Y){P=!1,N&&(N=!1,w(b),b=-1),p=!0;var oe=g;try{for(A(Y),m=n(l);m!==null&&(!(m.expirationTime>Y)||Q&&!E());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,g=m.priorityLevel;var O=ve(m.expirationTime<=Y);Y=t.unstable_now(),typeof O=="function"?m.callback=O:m===n(l)&&r(l),A(Y)}else r(l);m=n(l)}if(m!==null)var H=!0;else{var X=n(h);X!==null&&J(F,X.startTime-Y),H=!1}return H}finally{m=null,g=oe,p=!1}}var z=!1,C=null,b=-1,T=5,R=-1;function E(){return!(t.unstable_now()-R<T)}function S(){if(C!==null){var Q=t.unstable_now();R=Q;var Y=!0;try{Y=C(!0,Q)}finally{Y?I():(z=!1,C=null)}}else z=!1}var I;if(typeof y=="function")I=function(){y(S)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ce=K.port2;K.port1.onmessage=S,I=function(){ce.postMessage(null)}}else I=function(){L(S,0)};function ee(Q){C=Q,z||(z=!0,I())}function J(Q,Y){b=L(function(){Q(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){P||p||(P=!0,ee(V))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var oe=g;g=Y;try{return Q()}finally{g=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,Y){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=g;g=Q;try{return Y()}finally{g=oe}},t.unstable_scheduleCallback=function(Q,Y,oe){var ve=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ve+oe:ve):oe=ve,Q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=oe+O,Q={id:d++,callback:Y,priorityLevel:Q,startTime:oe,expirationTime:O,sortIndex:-1},oe>ve?(Q.sortIndex=oe,e(h,Q),n(l)===null&&Q===n(h)&&(N?(w(b),b=-1):N=!0,J(F,oe-ve))):(Q.sortIndex=O,e(l,Q),P||p||(P=!0,ee(V))),Q},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(Q){var Y=g;return function(){var oe=g;g=Y;try{return Q.apply(this,arguments)}finally{g=oe}}}})(x_);A_.exports=x_;var Hx=A_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx=ue,Ai=Hx;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E_=new Set,Oh={};function ql(t,e){tc(t,e),tc(t+"Capture",e)}function tc(t,e){for(Oh[t]=e,t=0;t<e.length;t++)E_.add(e[t])}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t1=Object.prototype.hasOwnProperty,Gx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fy={},dy={};function Kx(t){return t1.call(dy,t)?!0:t1.call(fy,t)?!1:Gx.test(t)?dy[t]=!0:(fy[t]=!0,!1)}function Qx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yx(t,e,n,r){if(e===null||typeof e>"u"||Qx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Br(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hr[t]=new Br(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hr[e]=new Br(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hr[t]=new Br(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hr[t]=new Br(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hr[t]=new Br(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hr[t]=new Br(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hr[t]=new Br(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hr[t]=new Br(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hr[t]=new Br(t,5,!1,t.toLowerCase(),null,!1,!1)});var z0=/[\-:]([a-z])/g;function q0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(z0,q0);hr[e]=new Br(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(z0,q0);hr[e]=new Br(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(z0,q0);hr[e]=new Br(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hr[t]=new Br(t,1,!1,t.toLowerCase(),null,!1,!1)});hr.xlinkHref=new Br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hr[t]=new Br(t,1,!1,t.toLowerCase(),null,!0,!0)});function $0(t,e,n,r){var i=hr.hasOwnProperty(e)?hr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yx(e,n,i,r)&&(n=null),r||i===null?Kx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Is=Wx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zf=Symbol.for("react.element"),Ru=Symbol.for("react.portal"),Du=Symbol.for("react.fragment"),H0=Symbol.for("react.strict_mode"),n1=Symbol.for("react.profiler"),P_=Symbol.for("react.provider"),T_=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),r1=Symbol.for("react.suspense"),i1=Symbol.for("react.suspense_list"),G0=Symbol.for("react.memo"),fa=Symbol.for("react.lazy"),C_=Symbol.for("react.offscreen"),py=Symbol.iterator;function Qc(t){return t===null||typeof t!="object"?null:(t=py&&t[py]||t["@@iterator"],typeof t=="function"?t:null)}var pn=Object.assign,rg;function ah(t){if(rg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rg=e&&e[1]||""}return`
`+rg+t}var ig=!1;function og(t,e){if(!t||ig)return"";ig=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ig=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ah(t):""}function Xx(t){switch(t.tag){case 5:return ah(t.type);case 16:return ah("Lazy");case 13:return ah("Suspense");case 19:return ah("SuspenseList");case 0:case 2:case 15:return t=og(t.type,!1),t;case 11:return t=og(t.type.render,!1),t;case 1:return t=og(t.type,!0),t;default:return""}}function o1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Du:return"Fragment";case Ru:return"Portal";case n1:return"Profiler";case H0:return"StrictMode";case r1:return"Suspense";case i1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case T_:return(t.displayName||"Context")+".Consumer";case P_:return(t._context.displayName||"Context")+".Provider";case W0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G0:return e=t.displayName||null,e!==null?e:o1(t.type)||"Memo";case fa:e=t._payload,t=t._init;try{return o1(t(e))}catch{}}return null}function Jx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return o1(e);case 8:return e===H0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zx(t){var e=N_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ed(t){t._valueTracker||(t._valueTracker=Zx(t))}function I_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=N_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function s1(t,e){var n=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function my(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function k_(t,e){e=e.checked,e!=null&&$0(t,"checked",e,!1)}function a1(t,e){k_(t,e);var n=Fa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?l1(t,e.type,n):e.hasOwnProperty("defaultValue")&&l1(t,e.type,Fa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function l1(t,e,n){(e!=="number"||tp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lh=Array.isArray;function Wu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function u1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(je(92));if(lh(n)){if(1<n.length)throw Error(je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fa(n)}}function L_(t,e){var n=Fa(e.value),r=Fa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function R_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?R_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var td,D_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eE=["Webkit","ms","Moz","O"];Object.keys(gh).forEach(function(t){eE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gh[e]=gh[t]})});function F_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gh.hasOwnProperty(t)&&gh[t]?(""+e).trim():e+"px"}function O_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=F_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tE=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h1(t,e){if(e){if(tE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function f1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d1=null;function K0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var p1=null,Gu=null,Ku=null;function wy(t){if(t=gf(t)){if(typeof p1!="function")throw Error(je(280));var e=t.stateNode;e&&(e=Kp(e),p1(t.stateNode,t.type,e))}}function j_(t){Gu?Ku?Ku.push(t):Ku=[t]:Gu=t}function M_(){if(Gu){var t=Gu,e=Ku;if(Ku=Gu=null,wy(t),e)for(t=0;t<e.length;t++)wy(e[t])}}function V_(t,e){return t(e)}function B_(){}var sg=!1;function U_(t,e,n){if(sg)return t(e,n);sg=!0;try{return V_(t,e,n)}finally{sg=!1,(Gu!==null||Ku!==null)&&(B_(),M_())}}function Mh(t,e){var n=t.stateNode;if(n===null)return null;var r=Kp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(je(231,e,typeof n));return n}var m1=!1;if(Ss)try{var Yc={};Object.defineProperty(Yc,"passive",{get:function(){m1=!0}}),window.addEventListener("test",Yc,Yc),window.removeEventListener("test",Yc,Yc)}catch{m1=!1}function nE(t,e,n,r,i,o,s,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var vh=!1,np=null,rp=!1,g1=null,rE={onError:function(t){vh=!0,np=t}};function iE(t,e,n,r,i,o,s,a,l){vh=!1,np=null,nE.apply(rE,arguments)}function oE(t,e,n,r,i,o,s,a,l){if(iE.apply(this,arguments),vh){if(vh){var h=np;vh=!1,np=null}else throw Error(je(198));rp||(rp=!0,g1=h)}}function $l(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function z_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _y(t){if($l(t)!==t)throw Error(je(188))}function sE(t){var e=t.alternate;if(!e){if(e=$l(t),e===null)throw Error(je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _y(i),t;if(o===r)return _y(i),e;o=o.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?t:e}function q_(t){return t=sE(t),t!==null?$_(t):null}function $_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$_(t);if(e!==null)return e;t=t.sibling}return null}var H_=Ai.unstable_scheduleCallback,by=Ai.unstable_cancelCallback,aE=Ai.unstable_shouldYield,lE=Ai.unstable_requestPaint,Nn=Ai.unstable_now,uE=Ai.unstable_getCurrentPriorityLevel,Q0=Ai.unstable_ImmediatePriority,W_=Ai.unstable_UserBlockingPriority,ip=Ai.unstable_NormalPriority,cE=Ai.unstable_LowPriority,G_=Ai.unstable_IdlePriority,$p=null,Bo=null;function hE(t){if(Bo&&typeof Bo.onCommitFiberRoot=="function")try{Bo.onCommitFiberRoot($p,t,void 0,(t.current.flags&128)===128)}catch{}}var ho=Math.clz32?Math.clz32:pE,fE=Math.log,dE=Math.LN2;function pE(t){return t>>>=0,t===0?32:31-(fE(t)/dE|0)|0}var nd=64,rd=4194304;function uh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function op(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=uh(a):(o&=s,o!==0&&(r=uh(o)))}else s=n&~i,s!==0?r=uh(s):o!==0&&(r=uh(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ho(e),i=1<<n,r|=t[n],e&=~i;return r}function mE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ho(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=mE(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function v1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K_(){var t=nd;return nd<<=1,!(nd&4194240)&&(nd=64),t}function ag(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ho(e),t[e]=n}function vE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ho(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Y0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ho(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ht=0;function Q_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y_,X0,X_,J_,Z_,y1=!1,id=[],Sa=null,Aa=null,xa=null,Vh=new Map,Bh=new Map,pa=[],yE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sy(t,e){switch(t){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Vh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bh.delete(e.pointerId)}}function Xc(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=gf(e),e!==null&&X0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wE(t,e,n,r,i){switch(e){case"focusin":return Sa=Xc(Sa,t,e,n,r,i),!0;case"dragenter":return Aa=Xc(Aa,t,e,n,r,i),!0;case"mouseover":return xa=Xc(xa,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Vh.set(o,Xc(Vh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bh.set(o,Xc(Bh.get(o)||null,t,e,n,r,i)),!0}return!1}function e4(t){var e=_l(t.target);if(e!==null){var n=$l(e);if(n!==null){if(e=n.tag,e===13){if(e=z_(n),e!==null){t.blockedOn=e,Z_(t.priority,function(){X_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=w1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);d1=r,n.target.dispatchEvent(r),d1=null}else return e=gf(n),e!==null&&X0(e),t.blockedOn=n,!1;e.shift()}return!0}function Ay(t,e,n){kd(t)&&n.delete(e)}function _E(){y1=!1,Sa!==null&&kd(Sa)&&(Sa=null),Aa!==null&&kd(Aa)&&(Aa=null),xa!==null&&kd(xa)&&(xa=null),Vh.forEach(Ay),Bh.forEach(Ay)}function Jc(t,e){t.blockedOn===e&&(t.blockedOn=null,y1||(y1=!0,Ai.unstable_scheduleCallback(Ai.unstable_NormalPriority,_E)))}function Uh(t){function e(i){return Jc(i,t)}if(0<id.length){Jc(id[0],t);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sa!==null&&Jc(Sa,t),Aa!==null&&Jc(Aa,t),xa!==null&&Jc(xa,t),Vh.forEach(e),Bh.forEach(e),n=0;n<pa.length;n++)r=pa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pa.length&&(n=pa[0],n.blockedOn===null);)e4(n),n.blockedOn===null&&pa.shift()}var Qu=Is.ReactCurrentBatchConfig,sp=!0;function bE(t,e,n,r){var i=Ht,o=Qu.transition;Qu.transition=null;try{Ht=1,J0(t,e,n,r)}finally{Ht=i,Qu.transition=o}}function SE(t,e,n,r){var i=Ht,o=Qu.transition;Qu.transition=null;try{Ht=4,J0(t,e,n,r)}finally{Ht=i,Qu.transition=o}}function J0(t,e,n,r){if(sp){var i=w1(t,e,n,r);if(i===null)vg(t,e,r,ap,n),Sy(t,r);else if(wE(i,t,e,n,r))r.stopPropagation();else if(Sy(t,r),e&4&&-1<yE.indexOf(t)){for(;i!==null;){var o=gf(i);if(o!==null&&Y_(o),o=w1(t,e,n,r),o===null&&vg(t,e,r,ap,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else vg(t,e,r,null,n)}}var ap=null;function w1(t,e,n,r){if(ap=null,t=K0(r),t=_l(t),t!==null)if(e=$l(t),e===null)t=null;else if(n=e.tag,n===13){if(t=z_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ap=t,null}function t4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uE()){case Q0:return 1;case W_:return 4;case ip:case cE:return 16;case G_:return 536870912;default:return 16}default:return 16}}var ya=null,Z0=null,Ld=null;function n4(){if(Ld)return Ld;var t,e=Z0,n=e.length,r,i="value"in ya?ya.value:ya.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ld=i.slice(t,1<r?1-r:void 0)}function Rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function od(){return!0}function xy(){return!1}function Ei(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?od:xy,this.isPropagationStopped=xy,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),e}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e2=Ei(Sc),mf=pn({},Sc,{view:0,detail:0}),AE=Ei(mf),lg,ug,Zc,Hp=pn({},mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zc&&(Zc&&t.type==="mousemove"?(lg=t.screenX-Zc.screenX,ug=t.screenY-Zc.screenY):ug=lg=0,Zc=t),lg)},movementY:function(t){return"movementY"in t?t.movementY:ug}}),Ey=Ei(Hp),xE=pn({},Hp,{dataTransfer:0}),EE=Ei(xE),PE=pn({},mf,{relatedTarget:0}),cg=Ei(PE),TE=pn({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),CE=Ei(TE),NE=pn({},Sc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IE=Ei(NE),kE=pn({},Sc,{data:0}),Py=Ei(kE),LE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DE[t])?!!e[t]:!1}function t2(){return FE}var OE=pn({},mf,{key:function(t){if(t.key){var e=LE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t2,charCode:function(t){return t.type==="keypress"?Rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jE=Ei(OE),ME=pn({},Hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ty=Ei(ME),VE=pn({},mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t2}),BE=Ei(VE),UE=pn({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),zE=Ei(UE),qE=pn({},Hp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$E=Ei(qE),HE=[9,13,27,32],n2=Ss&&"CompositionEvent"in window,yh=null;Ss&&"documentMode"in document&&(yh=document.documentMode);var WE=Ss&&"TextEvent"in window&&!yh,r4=Ss&&(!n2||yh&&8<yh&&11>=yh),Cy=" ",Ny=!1;function i4(t,e){switch(t){case"keyup":return HE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fu=!1;function GE(t,e){switch(t){case"compositionend":return o4(e);case"keypress":return e.which!==32?null:(Ny=!0,Cy);case"textInput":return t=e.data,t===Cy&&Ny?null:t;default:return null}}function KE(t,e){if(Fu)return t==="compositionend"||!n2&&i4(t,e)?(t=n4(),Ld=Z0=ya=null,Fu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return r4&&e.locale!=="ko"?null:e.data;default:return null}}var QE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QE[t.type]:e==="textarea"}function s4(t,e,n,r){j_(r),e=lp(e,"onChange"),0<e.length&&(n=new e2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wh=null,zh=null;function YE(t){v4(t,0)}function Wp(t){var e=Mu(t);if(I_(e))return t}function XE(t,e){if(t==="change")return e}var a4=!1;if(Ss){var hg;if(Ss){var fg="oninput"in document;if(!fg){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),fg=typeof ky.oninput=="function"}hg=fg}else hg=!1;a4=hg&&(!document.documentMode||9<document.documentMode)}function Ly(){wh&&(wh.detachEvent("onpropertychange",l4),zh=wh=null)}function l4(t){if(t.propertyName==="value"&&Wp(zh)){var e=[];s4(e,zh,t,K0(t)),U_(YE,e)}}function JE(t,e,n){t==="focusin"?(Ly(),wh=e,zh=n,wh.attachEvent("onpropertychange",l4)):t==="focusout"&&Ly()}function ZE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wp(zh)}function e6(t,e){if(t==="click")return Wp(e)}function t6(t,e){if(t==="input"||t==="change")return Wp(e)}function n6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mo=typeof Object.is=="function"?Object.is:n6;function qh(t,e){if(mo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!t1.call(e,i)||!mo(t[i],e[i]))return!1}return!0}function Ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dy(t,e){var n=Ry(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ry(n)}}function u4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function c4(){for(var t=window,e=tp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tp(t.document)}return e}function r2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r6(t){var e=c4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u4(n.ownerDocument.documentElement,n)){if(r!==null&&r2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Dy(n,o);var s=Dy(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i6=Ss&&"documentMode"in document&&11>=document.documentMode,Ou=null,_1=null,_h=null,b1=!1;function Fy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;b1||Ou==null||Ou!==tp(r)||(r=Ou,"selectionStart"in r&&r2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_h&&qh(_h,r)||(_h=r,r=lp(_1,"onSelect"),0<r.length&&(e=new e2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ou)))}function sd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ju={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},dg={},h4={};Ss&&(h4=document.createElement("div").style,"AnimationEvent"in window||(delete ju.animationend.animation,delete ju.animationiteration.animation,delete ju.animationstart.animation),"TransitionEvent"in window||delete ju.transitionend.transition);function Gp(t){if(dg[t])return dg[t];if(!ju[t])return t;var e=ju[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in h4)return dg[t]=e[n];return t}var f4=Gp("animationend"),d4=Gp("animationiteration"),p4=Gp("animationstart"),m4=Gp("transitionend"),g4=new Map,Oy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ha(t,e){g4.set(t,e),ql(e,[t])}for(var pg=0;pg<Oy.length;pg++){var mg=Oy[pg],o6=mg.toLowerCase(),s6=mg[0].toUpperCase()+mg.slice(1);Ha(o6,"on"+s6)}Ha(f4,"onAnimationEnd");Ha(d4,"onAnimationIteration");Ha(p4,"onAnimationStart");Ha("dblclick","onDoubleClick");Ha("focusin","onFocus");Ha("focusout","onBlur");Ha(m4,"onTransitionEnd");tc("onMouseEnter",["mouseout","mouseover"]);tc("onMouseLeave",["mouseout","mouseover"]);tc("onPointerEnter",["pointerout","pointerover"]);tc("onPointerLeave",["pointerout","pointerover"]);ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ql("onBeforeInput",["compositionend","keypress","textInput","paste"]);ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a6=new Set("cancel close invalid load scroll toggle".split(" ").concat(ch));function jy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oE(r,e,void 0,t),t.currentTarget=null}function v4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;jy(i,a,h),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,h=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;jy(i,a,h),o=l}}}if(rp)throw t=g1,rp=!1,g1=null,t}function on(t,e){var n=e[P1];n===void 0&&(n=e[P1]=new Set);var r=t+"__bubble";n.has(r)||(y4(e,t,2,!1),n.add(r))}function gg(t,e,n){var r=0;e&&(r|=4),y4(n,t,r,e)}var ad="_reactListening"+Math.random().toString(36).slice(2);function $h(t){if(!t[ad]){t[ad]=!0,E_.forEach(function(n){n!=="selectionchange"&&(a6.has(n)||gg(n,!1,t),gg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ad]||(e[ad]=!0,gg("selectionchange",!1,e))}}function y4(t,e,n,r){switch(t4(e)){case 1:var i=bE;break;case 4:i=SE;break;default:i=J0}n=i.bind(null,e,n,t),i=void 0,!m1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=_l(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}U_(function(){var h=o,d=K0(n),m=[];e:{var g=g4.get(t);if(g!==void 0){var p=e2,P=t;switch(t){case"keypress":if(Rd(n)===0)break e;case"keydown":case"keyup":p=jE;break;case"focusin":P="focus",p=cg;break;case"focusout":P="blur",p=cg;break;case"beforeblur":case"afterblur":p=cg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=EE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BE;break;case f4:case d4:case p4:p=CE;break;case m4:p=zE;break;case"scroll":p=AE;break;case"wheel":p=$E;break;case"copy":case"cut":case"paste":p=IE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ty}var N=(e&4)!==0,L=!N&&t==="scroll",w=N?g!==null?g+"Capture":null:g;N=[];for(var y=h,A;y!==null;){A=y;var F=A.stateNode;if(A.tag===5&&F!==null&&(A=F,w!==null&&(F=Mh(y,w),F!=null&&N.push(Hh(y,F,A)))),L)break;y=y.return}0<N.length&&(g=new p(g,P,null,n,d),m.push({event:g,listeners:N}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",g&&n!==d1&&(P=n.relatedTarget||n.fromElement)&&(_l(P)||P[As]))break e;if((p||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,p?(P=n.relatedTarget||n.toElement,p=h,P=P?_l(P):null,P!==null&&(L=$l(P),P!==L||P.tag!==5&&P.tag!==6)&&(P=null)):(p=null,P=h),p!==P)){if(N=Ey,F="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(N=Ty,F="onPointerLeave",w="onPointerEnter",y="pointer"),L=p==null?g:Mu(p),A=P==null?g:Mu(P),g=new N(F,y+"leave",p,n,d),g.target=L,g.relatedTarget=A,F=null,_l(d)===h&&(N=new N(w,y+"enter",P,n,d),N.target=A,N.relatedTarget=L,F=N),L=F,p&&P)t:{for(N=p,w=P,y=0,A=N;A;A=Su(A))y++;for(A=0,F=w;F;F=Su(F))A++;for(;0<y-A;)N=Su(N),y--;for(;0<A-y;)w=Su(w),A--;for(;y--;){if(N===w||w!==null&&N===w.alternate)break t;N=Su(N),w=Su(w)}N=null}else N=null;p!==null&&My(m,g,p,N,!1),P!==null&&L!==null&&My(m,L,P,N,!0)}}e:{if(g=h?Mu(h):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var V=XE;else if(Iy(g))if(a4)V=t6;else{V=ZE;var z=JE}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(V=e6);if(V&&(V=V(t,h))){s4(m,V,n,d);break e}z&&z(t,g,h),t==="focusout"&&(z=g._wrapperState)&&z.controlled&&g.type==="number"&&l1(g,"number",g.value)}switch(z=h?Mu(h):window,t){case"focusin":(Iy(z)||z.contentEditable==="true")&&(Ou=z,_1=h,_h=null);break;case"focusout":_h=_1=Ou=null;break;case"mousedown":b1=!0;break;case"contextmenu":case"mouseup":case"dragend":b1=!1,Fy(m,n,d);break;case"selectionchange":if(i6)break;case"keydown":case"keyup":Fy(m,n,d)}var C;if(n2)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fu?i4(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(r4&&n.locale!=="ko"&&(Fu||b!=="onCompositionStart"?b==="onCompositionEnd"&&Fu&&(C=n4()):(ya=d,Z0="value"in ya?ya.value:ya.textContent,Fu=!0)),z=lp(h,b),0<z.length&&(b=new Py(b,t,null,n,d),m.push({event:b,listeners:z}),C?b.data=C:(C=o4(n),C!==null&&(b.data=C)))),(C=WE?GE(t,n):KE(t,n))&&(h=lp(h,"onBeforeInput"),0<h.length&&(d=new Py("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:h}),d.data=C))}v4(m,e)})}function Hh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Mh(t,n),o!=null&&r.unshift(Hh(t,o,i)),o=Mh(t,e),o!=null&&r.push(Hh(t,o,i))),t=t.return}return r}function Su(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function My(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,h=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&h!==null&&(a=h,i?(l=Mh(n,o),l!=null&&s.unshift(Hh(n,l,a))):i||(l=Mh(n,o),l!=null&&s.push(Hh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var l6=/\r\n?/g,u6=/\u0000|\uFFFD/g;function Vy(t){return(typeof t=="string"?t:""+t).replace(l6,`
`).replace(u6,"")}function ld(t,e,n){if(e=Vy(e),Vy(t)!==e&&n)throw Error(je(425))}function up(){}var S1=null,A1=null;function x1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var E1=typeof setTimeout=="function"?setTimeout:void 0,c6=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,h6=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(t){return By.resolve(null).then(t).catch(f6)}:E1;function f6(t){setTimeout(function(){throw t})}function yg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Uh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Uh(e)}function Ea(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ac=Math.random().toString(36).slice(2),jo="__reactFiber$"+Ac,Wh="__reactProps$"+Ac,As="__reactContainer$"+Ac,P1="__reactEvents$"+Ac,d6="__reactListeners$"+Ac,p6="__reactHandles$"+Ac;function _l(t){var e=t[jo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[As]||n[jo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uy(t);t!==null;){if(n=t[jo])return n;t=Uy(t)}return e}t=n,n=t.parentNode}return null}function gf(t){return t=t[jo]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function Kp(t){return t[Wh]||null}var T1=[],Vu=-1;function Wa(t){return{current:t}}function un(t){0>Vu||(t.current=T1[Vu],T1[Vu]=null,Vu--)}function en(t,e){Vu++,T1[Vu]=t.current,t.current=e}var Oa={},Nr=Wa(Oa),ei=Wa(!1),Ol=Oa;function nc(t,e){var n=t.type.contextTypes;if(!n)return Oa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ti(t){return t=t.childContextTypes,t!=null}function cp(){un(ei),un(Nr)}function zy(t,e,n){if(Nr.current!==Oa)throw Error(je(168));en(Nr,e),en(ei,n)}function w4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(je(108,Jx(t)||"Unknown",i));return pn({},n,r)}function hp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oa,Ol=Nr.current,en(Nr,t),en(ei,ei.current),!0}function qy(t,e,n){var r=t.stateNode;if(!r)throw Error(je(169));n?(t=w4(t,e,Ol),r.__reactInternalMemoizedMergedChildContext=t,un(ei),un(Nr),en(Nr,t)):un(ei),en(ei,n)}var gs=null,Qp=!1,wg=!1;function _4(t){gs===null?gs=[t]:gs.push(t)}function m6(t){Qp=!0,_4(t)}function Ga(){if(!wg&&gs!==null){wg=!0;var t=0,e=Ht;try{var n=gs;for(Ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gs=null,Qp=!1}catch(i){throw gs!==null&&(gs=gs.slice(t+1)),H_(Q0,Ga),i}finally{Ht=e,wg=!1}}return null}var Bu=[],Uu=0,fp=null,dp=0,Oi=[],ji=0,jl=null,vs=1,ys="";function gl(t,e){Bu[Uu++]=dp,Bu[Uu++]=fp,fp=t,dp=e}function b4(t,e,n){Oi[ji++]=vs,Oi[ji++]=ys,Oi[ji++]=jl,jl=t;var r=vs;t=ys;var i=32-ho(r)-1;r&=~(1<<i),n+=1;var o=32-ho(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,vs=1<<32-ho(e)+i|n<<i|r,ys=o+t}else vs=1<<o|n<<i|r,ys=t}function i2(t){t.return!==null&&(gl(t,1),b4(t,1,0))}function o2(t){for(;t===fp;)fp=Bu[--Uu],Bu[Uu]=null,dp=Bu[--Uu],Bu[Uu]=null;for(;t===jl;)jl=Oi[--ji],Oi[ji]=null,ys=Oi[--ji],Oi[ji]=null,vs=Oi[--ji],Oi[ji]=null}var Si=null,yi=null,cn=!1,co=null;function S4(t,e){var n=Vi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $y(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Si=t,yi=Ea(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Si=t,yi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jl!==null?{id:vs,overflow:ys}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Si=t,yi=null,!0):!1;default:return!1}}function C1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function N1(t){if(cn){var e=yi;if(e){var n=e;if(!$y(t,e)){if(C1(t))throw Error(je(418));e=Ea(n.nextSibling);var r=Si;e&&$y(t,e)?S4(r,n):(t.flags=t.flags&-4097|2,cn=!1,Si=t)}}else{if(C1(t))throw Error(je(418));t.flags=t.flags&-4097|2,cn=!1,Si=t}}}function Hy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Si=t}function ud(t){if(t!==Si)return!1;if(!cn)return Hy(t),cn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!x1(t.type,t.memoizedProps)),e&&(e=yi)){if(C1(t))throw A4(),Error(je(418));for(;e;)S4(t,e),e=Ea(e.nextSibling)}if(Hy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yi=Ea(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yi=null}}else yi=Si?Ea(t.stateNode.nextSibling):null;return!0}function A4(){for(var t=yi;t;)t=Ea(t.nextSibling)}function rc(){yi=Si=null,cn=!1}function s2(t){co===null?co=[t]:co.push(t)}var g6=Is.ReactCurrentBatchConfig;function eh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,t))}return t}function cd(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wy(t){var e=t._init;return e(t._payload)}function x4(t){function e(w,y){if(t){var A=w.deletions;A===null?(w.deletions=[y],w.flags|=16):A.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=Na(w,y),w.index=0,w.sibling=null,w}function o(w,y,A){return w.index=A,t?(A=w.alternate,A!==null?(A=A.index,A<y?(w.flags|=2,y):A):(w.flags|=2,y)):(w.flags|=1048576,y)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,A,F){return y===null||y.tag!==6?(y=Pg(A,w.mode,F),y.return=w,y):(y=i(y,A),y.return=w,y)}function l(w,y,A,F){var V=A.type;return V===Du?d(w,y,A.props.children,F,A.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===fa&&Wy(V)===y.type)?(F=i(y,A.props),F.ref=eh(w,y,A),F.return=w,F):(F=Bd(A.type,A.key,A.props,null,w.mode,F),F.ref=eh(w,y,A),F.return=w,F)}function h(w,y,A,F){return y===null||y.tag!==4||y.stateNode.containerInfo!==A.containerInfo||y.stateNode.implementation!==A.implementation?(y=Tg(A,w.mode,F),y.return=w,y):(y=i(y,A.children||[]),y.return=w,y)}function d(w,y,A,F,V){return y===null||y.tag!==7?(y=Tl(A,w.mode,F,V),y.return=w,y):(y=i(y,A),y.return=w,y)}function m(w,y,A){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Pg(""+y,w.mode,A),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zf:return A=Bd(y.type,y.key,y.props,null,w.mode,A),A.ref=eh(w,null,y),A.return=w,A;case Ru:return y=Tg(y,w.mode,A),y.return=w,y;case fa:var F=y._init;return m(w,F(y._payload),A)}if(lh(y)||Qc(y))return y=Tl(y,w.mode,A,null),y.return=w,y;cd(w,y)}return null}function g(w,y,A,F){var V=y!==null?y.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return V!==null?null:a(w,y,""+A,F);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Zf:return A.key===V?l(w,y,A,F):null;case Ru:return A.key===V?h(w,y,A,F):null;case fa:return V=A._init,g(w,y,V(A._payload),F)}if(lh(A)||Qc(A))return V!==null?null:d(w,y,A,F,null);cd(w,A)}return null}function p(w,y,A,F,V){if(typeof F=="string"&&F!==""||typeof F=="number")return w=w.get(A)||null,a(y,w,""+F,V);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Zf:return w=w.get(F.key===null?A:F.key)||null,l(y,w,F,V);case Ru:return w=w.get(F.key===null?A:F.key)||null,h(y,w,F,V);case fa:var z=F._init;return p(w,y,A,z(F._payload),V)}if(lh(F)||Qc(F))return w=w.get(A)||null,d(y,w,F,V,null);cd(y,F)}return null}function P(w,y,A,F){for(var V=null,z=null,C=y,b=y=0,T=null;C!==null&&b<A.length;b++){C.index>b?(T=C,C=null):T=C.sibling;var R=g(w,C,A[b],F);if(R===null){C===null&&(C=T);break}t&&C&&R.alternate===null&&e(w,C),y=o(R,y,b),z===null?V=R:z.sibling=R,z=R,C=T}if(b===A.length)return n(w,C),cn&&gl(w,b),V;if(C===null){for(;b<A.length;b++)C=m(w,A[b],F),C!==null&&(y=o(C,y,b),z===null?V=C:z.sibling=C,z=C);return cn&&gl(w,b),V}for(C=r(w,C);b<A.length;b++)T=p(C,w,b,A[b],F),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?b:T.key),y=o(T,y,b),z===null?V=T:z.sibling=T,z=T);return t&&C.forEach(function(E){return e(w,E)}),cn&&gl(w,b),V}function N(w,y,A,F){var V=Qc(A);if(typeof V!="function")throw Error(je(150));if(A=V.call(A),A==null)throw Error(je(151));for(var z=V=null,C=y,b=y=0,T=null,R=A.next();C!==null&&!R.done;b++,R=A.next()){C.index>b?(T=C,C=null):T=C.sibling;var E=g(w,C,R.value,F);if(E===null){C===null&&(C=T);break}t&&C&&E.alternate===null&&e(w,C),y=o(E,y,b),z===null?V=E:z.sibling=E,z=E,C=T}if(R.done)return n(w,C),cn&&gl(w,b),V;if(C===null){for(;!R.done;b++,R=A.next())R=m(w,R.value,F),R!==null&&(y=o(R,y,b),z===null?V=R:z.sibling=R,z=R);return cn&&gl(w,b),V}for(C=r(w,C);!R.done;b++,R=A.next())R=p(C,w,b,R.value,F),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?b:R.key),y=o(R,y,b),z===null?V=R:z.sibling=R,z=R);return t&&C.forEach(function(S){return e(w,S)}),cn&&gl(w,b),V}function L(w,y,A,F){if(typeof A=="object"&&A!==null&&A.type===Du&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Zf:e:{for(var V=A.key,z=y;z!==null;){if(z.key===V){if(V=A.type,V===Du){if(z.tag===7){n(w,z.sibling),y=i(z,A.props.children),y.return=w,w=y;break e}}else if(z.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===fa&&Wy(V)===z.type){n(w,z.sibling),y=i(z,A.props),y.ref=eh(w,z,A),y.return=w,w=y;break e}n(w,z);break}else e(w,z);z=z.sibling}A.type===Du?(y=Tl(A.props.children,w.mode,F,A.key),y.return=w,w=y):(F=Bd(A.type,A.key,A.props,null,w.mode,F),F.ref=eh(w,y,A),F.return=w,w=F)}return s(w);case Ru:e:{for(z=A.key;y!==null;){if(y.key===z)if(y.tag===4&&y.stateNode.containerInfo===A.containerInfo&&y.stateNode.implementation===A.implementation){n(w,y.sibling),y=i(y,A.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=Tg(A,w.mode,F),y.return=w,w=y}return s(w);case fa:return z=A._init,L(w,y,z(A._payload),F)}if(lh(A))return P(w,y,A,F);if(Qc(A))return N(w,y,A,F);cd(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,A),y.return=w,w=y):(n(w,y),y=Pg(A,w.mode,F),y.return=w,w=y),s(w)):n(w,y)}return L}var ic=x4(!0),E4=x4(!1),pp=Wa(null),mp=null,zu=null,a2=null;function l2(){a2=zu=mp=null}function u2(t){var e=pp.current;un(pp),t._currentValue=e}function I1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yu(t,e){mp=t,a2=zu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jr=!0),t.firstContext=null)}function qi(t){var e=t._currentValue;if(a2!==t)if(t={context:t,memoizedValue:e,next:null},zu===null){if(mp===null)throw Error(je(308));zu=t,mp.dependencies={lanes:0,firstContext:t}}else zu=zu.next=t;return e}var bl=null;function c2(t){bl===null?bl=[t]:bl.push(t)}function P4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,c2(e)):(n.next=i.next,i.next=n),e.interleaved=n,xs(t,r)}function xs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var da=!1;function h2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Dt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xs(t,n)}return i=r.interleaved,i===null?(e.next=e,c2(r)):(e.next=i.next,i.next=e),r.interleaved=e,xs(t,n)}function Dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Y0(t,n)}}function Gy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gp(t,e,n,r){var i=t.updateQueue;da=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,h=l.next;l.next=null,s===null?o=h:s.next=h,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=h:a.next=h,d.lastBaseUpdate=l))}if(o!==null){var m=i.baseState;s=0,d=h=l=null,a=o;do{var g=a.lane,p=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var P=t,N=a;switch(g=e,p=n,N.tag){case 1:if(P=N.payload,typeof P=="function"){m=P.call(p,m,g);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=N.payload,g=typeof P=="function"?P.call(p,m,g):P,g==null)break e;m=pn({},m,g);break e;case 2:da=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else p={eventTime:p,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(h=d=p,l=m):d=d.next=p,s|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(l=m),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Vl|=s,t.lanes=s,t.memoizedState=m}}function Ky(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var vf={},Uo=Wa(vf),Gh=Wa(vf),Kh=Wa(vf);function Sl(t){if(t===vf)throw Error(je(174));return t}function f2(t,e){switch(en(Kh,e),en(Gh,t),en(Uo,vf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:c1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=c1(e,t)}un(Uo),en(Uo,e)}function oc(){un(Uo),un(Gh),un(Kh)}function C4(t){Sl(Kh.current);var e=Sl(Uo.current),n=c1(e,t.type);e!==n&&(en(Gh,t),en(Uo,n))}function d2(t){Gh.current===t&&(un(Uo),un(Gh))}var hn=Wa(0);function vp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _g=[];function p2(){for(var t=0;t<_g.length;t++)_g[t]._workInProgressVersionPrimary=null;_g.length=0}var Fd=Is.ReactCurrentDispatcher,bg=Is.ReactCurrentBatchConfig,Ml=0,fn=null,Hn=null,Zn=null,yp=!1,bh=!1,Qh=0,v6=0;function vr(){throw Error(je(321))}function m2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mo(t[n],e[n]))return!1;return!0}function g2(t,e,n,r,i,o){if(Ml=o,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fd.current=t===null||t.memoizedState===null?b6:S6,t=n(r,i),bh){o=0;do{if(bh=!1,Qh=0,25<=o)throw Error(je(301));o+=1,Zn=Hn=null,e.updateQueue=null,Fd.current=A6,t=n(r,i)}while(bh)}if(Fd.current=wp,e=Hn!==null&&Hn.next!==null,Ml=0,Zn=Hn=fn=null,yp=!1,e)throw Error(je(300));return t}function v2(){var t=Qh!==0;return Qh=0,t}function Fo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?fn.memoizedState=Zn=t:Zn=Zn.next=t,Zn}function $i(){if(Hn===null){var t=fn.alternate;t=t!==null?t.memoizedState:null}else t=Hn.next;var e=Zn===null?fn.memoizedState:Zn.next;if(e!==null)Zn=e,Hn=t;else{if(t===null)throw Error(je(310));Hn=t,t={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},Zn===null?fn.memoizedState=Zn=t:Zn=Zn.next=t}return Zn}function Yh(t,e){return typeof e=="function"?e(t):e}function Sg(t){var e=$i(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=Hn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,h=o;do{var d=h.lane;if((Ml&d)===d)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=m,s=r):l=l.next=m,fn.lanes|=d,Vl|=d}h=h.next}while(h!==null&&h!==o);l===null?s=r:l.next=a,mo(r,e.memoizedState)||(Jr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,fn.lanes|=o,Vl|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ag(t){var e=$i(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);mo(o,e.memoizedState)||(Jr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function N4(){}function I4(t,e){var n=fn,r=$i(),i=e(),o=!mo(r.memoizedState,i);if(o&&(r.memoizedState=i,Jr=!0),r=r.queue,y2(R4.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Zn!==null&&Zn.memoizedState.tag&1){if(n.flags|=2048,Xh(9,L4.bind(null,n,r,i,e),void 0,null),tr===null)throw Error(je(349));Ml&30||k4(n,e,i)}return i}function k4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function L4(t,e,n,r){e.value=n,e.getSnapshot=r,D4(e)&&F4(t)}function R4(t,e,n){return n(function(){D4(e)&&F4(t)})}function D4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mo(t,n)}catch{return!0}}function F4(t){var e=xs(t,1);e!==null&&fo(e,t,1,-1)}function Qy(t){var e=Fo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:t},e.queue=t,t=t.dispatch=_6.bind(null,fn,t),[e.memoizedState,t]}function Xh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function O4(){return $i().memoizedState}function Od(t,e,n,r){var i=Fo();fn.flags|=t,i.memoizedState=Xh(1|e,n,void 0,r===void 0?null:r)}function Yp(t,e,n,r){var i=$i();r=r===void 0?null:r;var o=void 0;if(Hn!==null){var s=Hn.memoizedState;if(o=s.destroy,r!==null&&m2(r,s.deps)){i.memoizedState=Xh(e,n,o,r);return}}fn.flags|=t,i.memoizedState=Xh(1|e,n,o,r)}function Yy(t,e){return Od(8390656,8,t,e)}function y2(t,e){return Yp(2048,8,t,e)}function j4(t,e){return Yp(4,2,t,e)}function M4(t,e){return Yp(4,4,t,e)}function V4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B4(t,e,n){return n=n!=null?n.concat([t]):null,Yp(4,4,V4.bind(null,e,t),n)}function w2(){}function U4(t,e){var n=$i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&m2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function z4(t,e){var n=$i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&m2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function q4(t,e,n){return Ml&21?(mo(n,e)||(n=K_(),fn.lanes|=n,Vl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jr=!0),t.memoizedState=n)}function y6(t,e){var n=Ht;Ht=n!==0&&4>n?n:4,t(!0);var r=bg.transition;bg.transition={};try{t(!1),e()}finally{Ht=n,bg.transition=r}}function $4(){return $i().memoizedState}function w6(t,e,n){var r=Ca(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},H4(t))W4(e,n);else if(n=P4(t,e,n,r),n!==null){var i=Mr();fo(n,t,r,i),G4(n,e,r)}}function _6(t,e,n){var r=Ca(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(H4(t))W4(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,mo(a,s)){var l=e.interleaved;l===null?(i.next=i,c2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=P4(t,e,i,r),n!==null&&(i=Mr(),fo(n,t,r,i),G4(n,e,r))}}function H4(t){var e=t.alternate;return t===fn||e!==null&&e===fn}function W4(t,e){bh=yp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function G4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Y0(t,n)}}var wp={readContext:qi,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},b6={readContext:qi,useCallback:function(t,e){return Fo().memoizedState=[t,e===void 0?null:e],t},useContext:qi,useEffect:Yy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,V4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=Fo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=w6.bind(null,fn,t),[r.memoizedState,t]},useRef:function(t){var e=Fo();return t={current:t},e.memoizedState=t},useState:Qy,useDebugValue:w2,useDeferredValue:function(t){return Fo().memoizedState=t},useTransition:function(){var t=Qy(!1),e=t[0];return t=y6.bind(null,t[1]),Fo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fn,i=Fo();if(cn){if(n===void 0)throw Error(je(407));n=n()}else{if(n=e(),tr===null)throw Error(je(349));Ml&30||k4(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Yy(R4.bind(null,r,o,t),[t]),r.flags|=2048,Xh(9,L4.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Fo(),e=tr.identifierPrefix;if(cn){var n=ys,r=vs;n=(r&~(1<<32-ho(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=v6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},S6={readContext:qi,useCallback:U4,useContext:qi,useEffect:y2,useImperativeHandle:B4,useInsertionEffect:j4,useLayoutEffect:M4,useMemo:z4,useReducer:Sg,useRef:O4,useState:function(){return Sg(Yh)},useDebugValue:w2,useDeferredValue:function(t){var e=$i();return q4(e,Hn.memoizedState,t)},useTransition:function(){var t=Sg(Yh)[0],e=$i().memoizedState;return[t,e]},useMutableSource:N4,useSyncExternalStore:I4,useId:$4,unstable_isNewReconciler:!1},A6={readContext:qi,useCallback:U4,useContext:qi,useEffect:y2,useImperativeHandle:B4,useInsertionEffect:j4,useLayoutEffect:M4,useMemo:z4,useReducer:Ag,useRef:O4,useState:function(){return Ag(Yh)},useDebugValue:w2,useDeferredValue:function(t){var e=$i();return Hn===null?e.memoizedState=t:q4(e,Hn.memoizedState,t)},useTransition:function(){var t=Ag(Yh)[0],e=$i().memoizedState;return[t,e]},useMutableSource:N4,useSyncExternalStore:I4,useId:$4,unstable_isNewReconciler:!1};function ao(t,e){if(t&&t.defaultProps){e=pn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function k1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xp={isMounted:function(t){return(t=t._reactInternals)?$l(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mr(),i=Ca(t),o=ws(r,i);o.payload=e,n!=null&&(o.callback=n),e=Pa(t,o,i),e!==null&&(fo(e,t,i,r),Dd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mr(),i=Ca(t),o=ws(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Pa(t,o,i),e!==null&&(fo(e,t,i,r),Dd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mr(),r=Ca(t),i=ws(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pa(t,i,r),e!==null&&(fo(e,t,r,n),Dd(e,t,r))}};function Xy(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!qh(n,r)||!qh(i,o):!0}function K4(t,e,n){var r=!1,i=Oa,o=e.contextType;return typeof o=="object"&&o!==null?o=qi(o):(i=ti(e)?Ol:Nr.current,r=e.contextTypes,o=(r=r!=null)?nc(t,i):Oa),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Jy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xp.enqueueReplaceState(e,e.state,null)}function L1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},h2(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=qi(o):(o=ti(e)?Ol:Nr.current,i.context=nc(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(k1(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xp.enqueueReplaceState(i,i.state,null),gp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function sc(t,e){try{var n="",r=e;do n+=Xx(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function xg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function R1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var x6=typeof WeakMap=="function"?WeakMap:Map;function Q4(t,e,n){n=ws(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bp||(bp=!0,q1=r),R1(t,e)},n}function Y4(t,e,n){n=ws(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){R1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){R1(t,e),typeof r!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Zy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new x6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=M6.bind(null,t,e,n),e.then(t,t))}function e5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ws(-1,1),e.tag=2,Pa(n,e,1))),n.lanes|=1),t)}var E6=Is.ReactCurrentOwner,Jr=!1;function jr(t,e,n,r){e.child=t===null?E4(e,null,n,r):ic(e,t.child,n,r)}function n5(t,e,n,r,i){n=n.render;var o=e.ref;return Yu(e,i),r=g2(t,e,n,r,o,i),n=v2(),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Es(t,e,i)):(cn&&n&&i2(e),e.flags|=1,jr(t,e,r,i),e.child)}function r5(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!T2(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,X4(t,e,o,r,i)):(t=Bd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:qh,n(s,r)&&t.ref===e.ref)return Es(t,e,i)}return e.flags|=1,t=Na(o,r),t.ref=e.ref,t.return=e,e.child=t}function X4(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(qh(o,r)&&t.ref===e.ref)if(Jr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Jr=!0);else return e.lanes=t.lanes,Es(t,e,i)}return D1(t,e,n,r,i)}function J4(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},en($u,gi),gi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,en($u,gi),gi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,en($u,gi),gi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,en($u,gi),gi|=r;return jr(t,e,i,n),e.child}function Z4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function D1(t,e,n,r,i){var o=ti(n)?Ol:Nr.current;return o=nc(e,o),Yu(e,i),n=g2(t,e,n,r,o,i),r=v2(),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Es(t,e,i)):(cn&&r&&i2(e),e.flags|=1,jr(t,e,n,i),e.child)}function i5(t,e,n,r,i){if(ti(n)){var o=!0;hp(e)}else o=!1;if(Yu(e,i),e.stateNode===null)jd(t,e),K4(e,n,r),L1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=qi(h):(h=ti(n)?Ol:Nr.current,h=nc(e,h));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==h)&&Jy(e,s,r,h),da=!1;var g=e.memoizedState;s.state=g,gp(e,r,s,i),l=e.memoizedState,a!==r||g!==l||ei.current||da?(typeof d=="function"&&(k1(e,n,d,r),l=e.memoizedState),(a=da||Xy(e,n,a,r,g,l,h))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=h,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,T4(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:ao(e.type,a),s.props=h,m=e.pendingProps,g=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=qi(l):(l=ti(n)?Ol:Nr.current,l=nc(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||g!==l)&&Jy(e,s,r,l),da=!1,g=e.memoizedState,s.state=g,gp(e,r,s,i);var P=e.memoizedState;a!==m||g!==P||ei.current||da?(typeof p=="function"&&(k1(e,n,p,r),P=e.memoizedState),(h=da||Xy(e,n,h,r,g,P,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,P,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,P,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),s.props=r,s.state=P,s.context=l,r=h):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return F1(t,e,n,r,o,i)}function F1(t,e,n,r,i,o){Z4(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&qy(e,n,!1),Es(t,e,o);r=e.stateNode,E6.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ic(e,t.child,null,o),e.child=ic(e,null,a,o)):jr(t,e,a,o),e.memoizedState=r.state,i&&qy(e,n,!0),e.child}function e3(t){var e=t.stateNode;e.pendingContext?zy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zy(t,e.context,!1),f2(t,e.containerInfo)}function o5(t,e,n,r,i){return rc(),s2(i),e.flags|=256,jr(t,e,n,r),e.child}var O1={dehydrated:null,treeContext:null,retryLane:0};function j1(t){return{baseLanes:t,cachePool:null,transitions:null}}function t3(t,e,n){var r=e.pendingProps,i=hn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),en(hn,i&1),t===null)return N1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=em(s,r,0,null),t=Tl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=j1(n),e.memoizedState=O1,t):_2(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return P6(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Na(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Na(a,o):(o=Tl(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?j1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=O1,r}return o=t.child,t=o.sibling,r=Na(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _2(t,e){return e=em({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hd(t,e,n,r){return r!==null&&s2(r),ic(e,t.child,null,n),t=_2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function P6(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=xg(Error(je(422))),hd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=em({mode:"visible",children:r.children},i,0,null),o=Tl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ic(e,t.child,null,s),e.child.memoizedState=j1(s),e.memoizedState=O1,o);if(!(e.mode&1))return hd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(je(419)),r=xg(o,r,void 0),hd(t,e,s,r)}if(a=(s&t.childLanes)!==0,Jr||a){if(r=tr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xs(t,i),fo(r,t,i,-1))}return P2(),r=xg(Error(je(421))),hd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=V6.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,yi=Ea(i.nextSibling),Si=e,cn=!0,co=null,t!==null&&(Oi[ji++]=vs,Oi[ji++]=ys,Oi[ji++]=jl,vs=t.id,ys=t.overflow,jl=e),e=_2(e,r.children),e.flags|=4096,e)}function s5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),I1(t.return,e,n)}function Eg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function n3(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(jr(t,e,r.children,n),r=hn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s5(t,n,e);else if(t.tag===19)s5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(en(hn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Eg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Eg(e,!0,n,null,o);break;case"together":Eg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Es(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,n=Na(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Na(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function T6(t,e,n){switch(e.tag){case 3:e3(e),rc();break;case 5:C4(e);break;case 1:ti(e.type)&&hp(e);break;case 4:f2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;en(pp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(en(hn,hn.current&1),e.flags|=128,null):n&e.child.childLanes?t3(t,e,n):(en(hn,hn.current&1),t=Es(t,e,n),t!==null?t.sibling:null);en(hn,hn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return n3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),en(hn,hn.current),r)break;return null;case 22:case 23:return e.lanes=0,J4(t,e,n)}return Es(t,e,n)}var r3,M1,i3,o3;r3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};M1=function(){};i3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Sl(Uo.current);var o=null;switch(n){case"input":i=s1(t,i),r=s1(t,r),o=[];break;case"select":i=pn({},i,{value:void 0}),r=pn({},r,{value:void 0}),o=[];break;case"textarea":i=u1(t,i),r=u1(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=up)}h1(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Oh.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var l=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Oh.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&on("scroll",t),o||a===l||(o=[])):(o=o||[]).push(h,l))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};o3=function(t,e,n,r){n!==r&&(e.flags|=4)};function th(t,e){if(!cn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C6(t,e,n){var r=e.pendingProps;switch(o2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(e),null;case 1:return ti(e.type)&&cp(),yr(e),null;case 3:return r=e.stateNode,oc(),un(ei),un(Nr),p2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ud(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,co!==null&&(W1(co),co=null))),M1(t,e),yr(e),null;case 5:d2(e);var i=Sl(Kh.current);if(n=e.type,t!==null&&e.stateNode!=null)i3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(je(166));return yr(e),null}if(t=Sl(Uo.current),ud(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[jo]=e,r[Wh]=o,t=(e.mode&1)!==0,n){case"dialog":on("cancel",r),on("close",r);break;case"iframe":case"object":case"embed":on("load",r);break;case"video":case"audio":for(i=0;i<ch.length;i++)on(ch[i],r);break;case"source":on("error",r);break;case"img":case"image":case"link":on("error",r),on("load",r);break;case"details":on("toggle",r);break;case"input":my(r,o),on("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},on("invalid",r);break;case"textarea":vy(r,o),on("invalid",r)}h1(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",""+a]):Oh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&on("scroll",r)}switch(n){case"input":ed(r),gy(r,o,!0);break;case"textarea":ed(r),yy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=up)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=R_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[jo]=e,t[Wh]=r,r3(t,e,!1,!1),e.stateNode=t;e:{switch(s=f1(n,r),n){case"dialog":on("cancel",t),on("close",t),i=r;break;case"iframe":case"object":case"embed":on("load",t),i=r;break;case"video":case"audio":for(i=0;i<ch.length;i++)on(ch[i],t);i=r;break;case"source":on("error",t),i=r;break;case"img":case"image":case"link":on("error",t),on("load",t),i=r;break;case"details":on("toggle",t),i=r;break;case"input":my(t,r),i=s1(t,r),on("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pn({},r,{value:void 0}),on("invalid",t);break;case"textarea":vy(t,r),i=u1(t,r),on("invalid",t);break;default:i=r}h1(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?O_(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&D_(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jh(t,l):typeof l=="number"&&jh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Oh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&on("scroll",t):l!=null&&$0(t,o,l,s))}switch(n){case"input":ed(t),gy(t,r,!1);break;case"textarea":ed(t),yy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fa(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Wu(t,!!r.multiple,o,!1):r.defaultValue!=null&&Wu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=up)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yr(e),null;case 6:if(t&&e.stateNode!=null)o3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(je(166));if(n=Sl(Kh.current),Sl(Uo.current),ud(e)){if(r=e.stateNode,n=e.memoizedProps,r[jo]=e,(o=r.nodeValue!==n)&&(t=Si,t!==null))switch(t.tag){case 3:ld(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jo]=e,e.stateNode=r}return yr(e),null;case 13:if(un(hn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cn&&yi!==null&&e.mode&1&&!(e.flags&128))A4(),rc(),e.flags|=98560,o=!1;else if(o=ud(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(je(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(je(317));o[jo]=e}else rc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yr(e),o=!1}else co!==null&&(W1(co),co=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||hn.current&1?Gn===0&&(Gn=3):P2())),e.updateQueue!==null&&(e.flags|=4),yr(e),null);case 4:return oc(),M1(t,e),t===null&&$h(e.stateNode.containerInfo),yr(e),null;case 10:return u2(e.type._context),yr(e),null;case 17:return ti(e.type)&&cp(),yr(e),null;case 19:if(un(hn),o=e.memoizedState,o===null)return yr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)th(o,!1);else{if(Gn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=vp(t),s!==null){for(e.flags|=128,th(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return en(hn,hn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Nn()>ac&&(e.flags|=128,r=!0,th(o,!1),e.lanes=4194304)}else{if(!r)if(t=vp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),th(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!cn)return yr(e),null}else 2*Nn()-o.renderingStartTime>ac&&n!==1073741824&&(e.flags|=128,r=!0,th(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Nn(),e.sibling=null,n=hn.current,en(hn,r?n&1|2:n&1),e):(yr(e),null);case 22:case 23:return E2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gi&1073741824&&(yr(e),e.subtreeFlags&6&&(e.flags|=8192)):yr(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function N6(t,e){switch(o2(e),e.tag){case 1:return ti(e.type)&&cp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oc(),un(ei),un(Nr),p2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return d2(e),null;case 13:if(un(hn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));rc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return un(hn),null;case 4:return oc(),null;case 10:return u2(e.type._context),null;case 22:case 23:return E2(),null;case 24:return null;default:return null}}var fd=!1,Er=!1,I6=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function qu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bn(t,e,r)}else n.current=null}function V1(t,e,n){try{n()}catch(r){bn(t,e,r)}}var a5=!1;function k6(t,e){if(S1=sp,t=c4(),r2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,h=0,d=0,m=t,g=null;t:for(;;){for(var p;m!==n||i!==0&&m.nodeType!==3||(a=s+i),m!==o||r!==0&&m.nodeType!==3||(l=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(p=m.firstChild)!==null;)g=m,m=p;for(;;){if(m===t)break t;if(g===n&&++h===i&&(a=s),g===o&&++d===r&&(l=s),(p=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(A1={focusedElem:t,selectionRange:n},sp=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var N=P.memoizedProps,L=P.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?N:ao(e.type,N),L);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(F){bn(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return P=a5,a5=!1,P}function Sh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&V1(e,n,o)}i=i.next}while(i!==r)}}function Jp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function B1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function s3(t){var e=t.alternate;e!==null&&(t.alternate=null,s3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jo],delete e[Wh],delete e[P1],delete e[d6],delete e[p6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a3(t){return t.tag===5||t.tag===3||t.tag===4}function l5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function U1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=up));else if(r!==4&&(t=t.child,t!==null))for(U1(t,e,n),t=t.sibling;t!==null;)U1(t,e,n),t=t.sibling}function z1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(z1(t,e,n),t=t.sibling;t!==null;)z1(t,e,n),t=t.sibling}var ar=null,uo=!1;function aa(t,e,n){for(n=n.child;n!==null;)l3(t,e,n),n=n.sibling}function l3(t,e,n){if(Bo&&typeof Bo.onCommitFiberUnmount=="function")try{Bo.onCommitFiberUnmount($p,n)}catch{}switch(n.tag){case 5:Er||qu(n,e);case 6:var r=ar,i=uo;ar=null,aa(t,e,n),ar=r,uo=i,ar!==null&&(uo?(t=ar,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ar.removeChild(n.stateNode));break;case 18:ar!==null&&(uo?(t=ar,n=n.stateNode,t.nodeType===8?yg(t.parentNode,n):t.nodeType===1&&yg(t,n),Uh(t)):yg(ar,n.stateNode));break;case 4:r=ar,i=uo,ar=n.stateNode.containerInfo,uo=!0,aa(t,e,n),ar=r,uo=i;break;case 0:case 11:case 14:case 15:if(!Er&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&V1(n,e,s),i=i.next}while(i!==r)}aa(t,e,n);break;case 1:if(!Er&&(qu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bn(n,e,a)}aa(t,e,n);break;case 21:aa(t,e,n);break;case 22:n.mode&1?(Er=(r=Er)||n.memoizedState!==null,aa(t,e,n),Er=r):aa(t,e,n);break;default:aa(t,e,n)}}function u5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new I6),e.forEach(function(r){var i=B6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ro(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:ar=a.stateNode,uo=!1;break e;case 3:ar=a.stateNode.containerInfo,uo=!0;break e;case 4:ar=a.stateNode.containerInfo,uo=!0;break e}a=a.return}if(ar===null)throw Error(je(160));l3(o,s,i),ar=null,uo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){bn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)u3(e,t),e=e.sibling}function u3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ro(e,t),Ro(t),r&4){try{Sh(3,t,t.return),Jp(3,t)}catch(N){bn(t,t.return,N)}try{Sh(5,t,t.return)}catch(N){bn(t,t.return,N)}}break;case 1:ro(e,t),Ro(t),r&512&&n!==null&&qu(n,n.return);break;case 5:if(ro(e,t),Ro(t),r&512&&n!==null&&qu(n,n.return),t.flags&32){var i=t.stateNode;try{jh(i,"")}catch(N){bn(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&k_(i,o),f1(a,s);var h=f1(a,o);for(s=0;s<l.length;s+=2){var d=l[s],m=l[s+1];d==="style"?O_(i,m):d==="dangerouslySetInnerHTML"?D_(i,m):d==="children"?jh(i,m):$0(i,d,m,h)}switch(a){case"input":a1(i,o);break;case"textarea":L_(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Wu(i,!!o.multiple,p,!1):g!==!!o.multiple&&(o.defaultValue!=null?Wu(i,!!o.multiple,o.defaultValue,!0):Wu(i,!!o.multiple,o.multiple?[]:"",!1))}i[Wh]=o}catch(N){bn(t,t.return,N)}}break;case 6:if(ro(e,t),Ro(t),r&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(N){bn(t,t.return,N)}}break;case 3:if(ro(e,t),Ro(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uh(e.containerInfo)}catch(N){bn(t,t.return,N)}break;case 4:ro(e,t),Ro(t);break;case 13:ro(e,t),Ro(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(A2=Nn())),r&4&&u5(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Er=(h=Er)||d,ro(e,t),Er=h):ro(e,t),Ro(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(Ye=t,d=t.child;d!==null;){for(m=Ye=d;Ye!==null;){switch(g=Ye,p=g.child,g.tag){case 0:case 11:case 14:case 15:Sh(4,g,g.return);break;case 1:qu(g,g.return);var P=g.stateNode;if(typeof P.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(N){bn(r,n,N)}}break;case 5:qu(g,g.return);break;case 22:if(g.memoizedState!==null){h5(m);continue}}p!==null?(p.return=g,Ye=p):h5(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=m.stateNode,l=m.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=F_("display",s))}catch(N){bn(t,t.return,N)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(N){bn(t,t.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ro(e,t),Ro(t),r&4&&u5(t);break;case 21:break;default:ro(e,t),Ro(t)}}function Ro(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(a3(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jh(i,""),r.flags&=-33);var o=l5(t);z1(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=l5(t);U1(t,a,s);break;default:throw Error(je(161))}}catch(l){bn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function L6(t,e,n){Ye=t,c3(t)}function c3(t,e,n){for(var r=(t.mode&1)!==0;Ye!==null;){var i=Ye,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||fd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Er;a=fd;var h=Er;if(fd=s,(Er=l)&&!h)for(Ye=i;Ye!==null;)s=Ye,l=s.child,s.tag===22&&s.memoizedState!==null?f5(i):l!==null?(l.return=s,Ye=l):f5(i);for(;o!==null;)Ye=o,c3(o),o=o.sibling;Ye=i,fd=a,Er=h}c5(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ye=o):c5(t)}}function c5(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Er||Jp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Er)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ao(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ky(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ky(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Uh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}Er||e.flags&512&&B1(e)}catch(g){bn(e,e.return,g)}}if(e===t){Ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function h5(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function f5(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jp(4,e)}catch(l){bn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bn(e,i,l)}}var o=e.return;try{B1(e)}catch(l){bn(e,o,l)}break;case 5:var s=e.return;try{B1(e)}catch(l){bn(e,s,l)}}}catch(l){bn(e,e.return,l)}if(e===t){Ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}var R6=Math.ceil,_p=Is.ReactCurrentDispatcher,b2=Is.ReactCurrentOwner,Bi=Is.ReactCurrentBatchConfig,Dt=0,tr=null,Un=null,cr=0,gi=0,$u=Wa(0),Gn=0,Jh=null,Vl=0,Zp=0,S2=0,Ah=null,Yr=null,A2=0,ac=1/0,ps=null,bp=!1,q1=null,Ta=null,dd=!1,wa=null,Sp=0,xh=0,$1=null,Md=-1,Vd=0;function Mr(){return Dt&6?Nn():Md!==-1?Md:Md=Nn()}function Ca(t){return t.mode&1?Dt&2&&cr!==0?cr&-cr:g6.transition!==null?(Vd===0&&(Vd=K_()),Vd):(t=Ht,t!==0||(t=window.event,t=t===void 0?16:t4(t.type)),t):1}function fo(t,e,n,r){if(50<xh)throw xh=0,$1=null,Error(je(185));pf(t,n,r),(!(Dt&2)||t!==tr)&&(t===tr&&(!(Dt&2)&&(Zp|=n),Gn===4&&ma(t,cr)),ni(t,r),n===1&&Dt===0&&!(e.mode&1)&&(ac=Nn()+500,Qp&&Ga()))}function ni(t,e){var n=t.callbackNode;gE(t,e);var r=op(t,t===tr?cr:0);if(r===0)n!==null&&by(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&by(n),e===1)t.tag===0?m6(d5.bind(null,t)):_4(d5.bind(null,t)),h6(function(){!(Dt&6)&&Ga()}),n=null;else{switch(Q_(r)){case 1:n=Q0;break;case 4:n=W_;break;case 16:n=ip;break;case 536870912:n=G_;break;default:n=ip}n=y3(n,h3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h3(t,e){if(Md=-1,Vd=0,Dt&6)throw Error(je(327));var n=t.callbackNode;if(Xu()&&t.callbackNode!==n)return null;var r=op(t,t===tr?cr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ap(t,r);else{e=r;var i=Dt;Dt|=2;var o=d3();(tr!==t||cr!==e)&&(ps=null,ac=Nn()+500,Pl(t,e));do try{O6();break}catch(a){f3(t,a)}while(!0);l2(),_p.current=o,Dt=i,Un!==null?e=0:(tr=null,cr=0,e=Gn)}if(e!==0){if(e===2&&(i=v1(t),i!==0&&(r=i,e=H1(t,i))),e===1)throw n=Jh,Pl(t,0),ma(t,r),ni(t,Nn()),n;if(e===6)ma(t,r);else{if(i=t.current.alternate,!(r&30)&&!D6(i)&&(e=Ap(t,r),e===2&&(o=v1(t),o!==0&&(r=o,e=H1(t,o))),e===1))throw n=Jh,Pl(t,0),ma(t,r),ni(t,Nn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(je(345));case 2:vl(t,Yr,ps);break;case 3:if(ma(t,r),(r&130023424)===r&&(e=A2+500-Nn(),10<e)){if(op(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=E1(vl.bind(null,t,Yr,ps),e);break}vl(t,Yr,ps);break;case 4:if(ma(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ho(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R6(r/1960))-r,10<r){t.timeoutHandle=E1(vl.bind(null,t,Yr,ps),r);break}vl(t,Yr,ps);break;case 5:vl(t,Yr,ps);break;default:throw Error(je(329))}}}return ni(t,Nn()),t.callbackNode===n?h3.bind(null,t):null}function H1(t,e){var n=Ah;return t.current.memoizedState.isDehydrated&&(Pl(t,e).flags|=256),t=Ap(t,e),t!==2&&(e=Yr,Yr=n,e!==null&&W1(e)),t}function W1(t){Yr===null?Yr=t:Yr.push.apply(Yr,t)}function D6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!mo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ma(t,e){for(e&=~S2,e&=~Zp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ho(e),r=1<<n;t[n]=-1,e&=~r}}function d5(t){if(Dt&6)throw Error(je(327));Xu();var e=op(t,0);if(!(e&1))return ni(t,Nn()),null;var n=Ap(t,e);if(t.tag!==0&&n===2){var r=v1(t);r!==0&&(e=r,n=H1(t,r))}if(n===1)throw n=Jh,Pl(t,0),ma(t,e),ni(t,Nn()),n;if(n===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vl(t,Yr,ps),ni(t,Nn()),null}function x2(t,e){var n=Dt;Dt|=1;try{return t(e)}finally{Dt=n,Dt===0&&(ac=Nn()+500,Qp&&Ga())}}function Bl(t){wa!==null&&wa.tag===0&&!(Dt&6)&&Xu();var e=Dt;Dt|=1;var n=Bi.transition,r=Ht;try{if(Bi.transition=null,Ht=1,t)return t()}finally{Ht=r,Bi.transition=n,Dt=e,!(Dt&6)&&Ga()}}function E2(){gi=$u.current,un($u)}function Pl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,c6(n)),Un!==null)for(n=Un.return;n!==null;){var r=n;switch(o2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cp();break;case 3:oc(),un(ei),un(Nr),p2();break;case 5:d2(r);break;case 4:oc();break;case 13:un(hn);break;case 19:un(hn);break;case 10:u2(r.type._context);break;case 22:case 23:E2()}n=n.return}if(tr=t,Un=t=Na(t.current,null),cr=gi=e,Gn=0,Jh=null,S2=Zp=Vl=0,Yr=Ah=null,bl!==null){for(e=0;e<bl.length;e++)if(n=bl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}bl=null}return t}function f3(t,e){do{var n=Un;try{if(l2(),Fd.current=wp,yp){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yp=!1}if(Ml=0,Zn=Hn=fn=null,bh=!1,Qh=0,b2.current=null,n===null||n.return===null){Gn=1,Jh=e,Un=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=cr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,d=a,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=e5(s);if(p!==null){p.flags&=-257,t5(p,s,a,o,e),p.mode&1&&Zy(o,h,e),e=p,l=h;var P=e.updateQueue;if(P===null){var N=new Set;N.add(l),e.updateQueue=N}else P.add(l);break e}else{if(!(e&1)){Zy(o,h,e),P2();break e}l=Error(je(426))}}else if(cn&&a.mode&1){var L=e5(s);if(L!==null){!(L.flags&65536)&&(L.flags|=256),t5(L,s,a,o,e),s2(sc(l,a));break e}}o=l=sc(l,a),Gn!==4&&(Gn=2),Ah===null?Ah=[o]:Ah.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=Q4(o,l,e);Gy(o,w);break e;case 1:a=l;var y=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ta===null||!Ta.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var F=Y4(o,a,e);Gy(o,F);break e}}o=o.return}while(o!==null)}m3(n)}catch(V){e=V,Un===n&&n!==null&&(Un=n=n.return);continue}break}while(!0)}function d3(){var t=_p.current;return _p.current=wp,t===null?wp:t}function P2(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),tr===null||!(Vl&268435455)&&!(Zp&268435455)||ma(tr,cr)}function Ap(t,e){var n=Dt;Dt|=2;var r=d3();(tr!==t||cr!==e)&&(ps=null,Pl(t,e));do try{F6();break}catch(i){f3(t,i)}while(!0);if(l2(),Dt=n,_p.current=r,Un!==null)throw Error(je(261));return tr=null,cr=0,Gn}function F6(){for(;Un!==null;)p3(Un)}function O6(){for(;Un!==null&&!aE();)p3(Un)}function p3(t){var e=v3(t.alternate,t,gi);t.memoizedProps=t.pendingProps,e===null?m3(t):Un=e,b2.current=null}function m3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=N6(n,e),n!==null){n.flags&=32767,Un=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gn=6,Un=null;return}}else if(n=C6(n,e,gi),n!==null){Un=n;return}if(e=e.sibling,e!==null){Un=e;return}Un=e=t}while(e!==null);Gn===0&&(Gn=5)}function vl(t,e,n){var r=Ht,i=Bi.transition;try{Bi.transition=null,Ht=1,j6(t,e,n,r)}finally{Bi.transition=i,Ht=r}return null}function j6(t,e,n,r){do Xu();while(wa!==null);if(Dt&6)throw Error(je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(vE(t,o),t===tr&&(Un=tr=null,cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dd||(dd=!0,y3(ip,function(){return Xu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Bi.transition,Bi.transition=null;var s=Ht;Ht=1;var a=Dt;Dt|=4,b2.current=null,k6(t,n),u3(n,t),r6(A1),sp=!!S1,A1=S1=null,t.current=n,L6(n),lE(),Dt=a,Ht=s,Bi.transition=o}else t.current=n;if(dd&&(dd=!1,wa=t,Sp=i),o=t.pendingLanes,o===0&&(Ta=null),hE(n.stateNode),ni(t,Nn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bp)throw bp=!1,t=q1,q1=null,t;return Sp&1&&t.tag!==0&&Xu(),o=t.pendingLanes,o&1?t===$1?xh++:(xh=0,$1=t):xh=0,Ga(),null}function Xu(){if(wa!==null){var t=Q_(Sp),e=Bi.transition,n=Ht;try{if(Bi.transition=null,Ht=16>t?16:t,wa===null)var r=!1;else{if(t=wa,wa=null,Sp=0,Dt&6)throw Error(je(331));var i=Dt;for(Dt|=4,Ye=t.current;Ye!==null;){var o=Ye,s=o.child;if(Ye.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(Ye=h;Ye!==null;){var d=Ye;switch(d.tag){case 0:case 11:case 15:Sh(8,d,o)}var m=d.child;if(m!==null)m.return=d,Ye=m;else for(;Ye!==null;){d=Ye;var g=d.sibling,p=d.return;if(s3(d),d===h){Ye=null;break}if(g!==null){g.return=p,Ye=g;break}Ye=p}}}var P=o.alternate;if(P!==null){var N=P.child;if(N!==null){P.child=null;do{var L=N.sibling;N.sibling=null,N=L}while(N!==null)}}Ye=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ye=s;else e:for(;Ye!==null;){if(o=Ye,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Sh(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Ye=w;break e}Ye=o.return}}var y=t.current;for(Ye=y;Ye!==null;){s=Ye;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,Ye=A;else e:for(s=y;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Jp(9,a)}}catch(V){bn(a,a.return,V)}if(a===s){Ye=null;break e}var F=a.sibling;if(F!==null){F.return=a.return,Ye=F;break e}Ye=a.return}}if(Dt=i,Ga(),Bo&&typeof Bo.onPostCommitFiberRoot=="function")try{Bo.onPostCommitFiberRoot($p,t)}catch{}r=!0}return r}finally{Ht=n,Bi.transition=e}}return!1}function p5(t,e,n){e=sc(n,e),e=Q4(t,e,1),t=Pa(t,e,1),e=Mr(),t!==null&&(pf(t,1,e),ni(t,e))}function bn(t,e,n){if(t.tag===3)p5(t,t,n);else for(;e!==null;){if(e.tag===3){p5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ta===null||!Ta.has(r))){t=sc(n,t),t=Y4(e,t,1),e=Pa(e,t,1),t=Mr(),e!==null&&(pf(e,1,t),ni(e,t));break}}e=e.return}}function M6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mr(),t.pingedLanes|=t.suspendedLanes&n,tr===t&&(cr&n)===n&&(Gn===4||Gn===3&&(cr&130023424)===cr&&500>Nn()-A2?Pl(t,0):S2|=n),ni(t,e)}function g3(t,e){e===0&&(t.mode&1?(e=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):e=1);var n=Mr();t=xs(t,e),t!==null&&(pf(t,e,n),ni(t,n))}function V6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),g3(t,n)}function B6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(e),g3(t,n)}var v3;v3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ei.current)Jr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jr=!1,T6(t,e,n);Jr=!!(t.flags&131072)}else Jr=!1,cn&&e.flags&1048576&&b4(e,dp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jd(t,e),t=e.pendingProps;var i=nc(e,Nr.current);Yu(e,n),i=g2(null,e,r,t,i,n);var o=v2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ti(r)?(o=!0,hp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,h2(e),i.updater=Xp,e.stateNode=i,i._reactInternals=e,L1(e,r,t,n),e=F1(null,e,r,!0,o,n)):(e.tag=0,cn&&o&&i2(e),jr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=z6(r),t=ao(r,t),i){case 0:e=D1(null,e,r,t,n);break e;case 1:e=i5(null,e,r,t,n);break e;case 11:e=n5(null,e,r,t,n);break e;case 14:e=r5(null,e,r,ao(r.type,t),n);break e}throw Error(je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ao(r,i),D1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ao(r,i),i5(t,e,r,i,n);case 3:e:{if(e3(e),t===null)throw Error(je(387));r=e.pendingProps,o=e.memoizedState,i=o.element,T4(t,e),gp(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=sc(Error(je(423)),e),e=o5(t,e,r,n,i);break e}else if(r!==i){i=sc(Error(je(424)),e),e=o5(t,e,r,n,i);break e}else for(yi=Ea(e.stateNode.containerInfo.firstChild),Si=e,cn=!0,co=null,n=E4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rc(),r===i){e=Es(t,e,n);break e}jr(t,e,r,n)}e=e.child}return e;case 5:return C4(e),t===null&&N1(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,x1(r,i)?s=null:o!==null&&x1(r,o)&&(e.flags|=32),Z4(t,e),jr(t,e,s,n),e.child;case 6:return t===null&&N1(e),null;case 13:return t3(t,e,n);case 4:return f2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ic(e,null,r,n):jr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ao(r,i),n5(t,e,r,i,n);case 7:return jr(t,e,e.pendingProps,n),e.child;case 8:return jr(t,e,e.pendingProps.children,n),e.child;case 12:return jr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,en(pp,r._currentValue),r._currentValue=s,o!==null)if(mo(o.value,s)){if(o.children===i.children&&!ei.current){e=Es(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ws(-1,n&-n),l.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?l.next=l:(l.next=d.next,d.next=l),h.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),I1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(je(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),I1(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}jr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yu(e,n),i=qi(i),r=r(i),e.flags|=1,jr(t,e,r,n),e.child;case 14:return r=e.type,i=ao(r,e.pendingProps),i=ao(r.type,i),r5(t,e,r,i,n);case 15:return X4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ao(r,i),jd(t,e),e.tag=1,ti(r)?(t=!0,hp(e)):t=!1,Yu(e,n),K4(e,r,i),L1(e,r,i,n),F1(null,e,r,!0,t,n);case 19:return n3(t,e,n);case 22:return J4(t,e,n)}throw Error(je(156,e.tag))};function y3(t,e){return H_(t,e)}function U6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(t,e,n,r){return new U6(t,e,n,r)}function T2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function z6(t){if(typeof t=="function")return T2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===W0)return 11;if(t===G0)return 14}return 2}function Na(t,e){var n=t.alternate;return n===null?(n=Vi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bd(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")T2(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Du:return Tl(n.children,i,o,e);case H0:s=8,i|=8;break;case n1:return t=Vi(12,n,e,i|2),t.elementType=n1,t.lanes=o,t;case r1:return t=Vi(13,n,e,i),t.elementType=r1,t.lanes=o,t;case i1:return t=Vi(19,n,e,i),t.elementType=i1,t.lanes=o,t;case C_:return em(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P_:s=10;break e;case T_:s=9;break e;case W0:s=11;break e;case G0:s=14;break e;case fa:s=16,r=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=Vi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Tl(t,e,n,r){return t=Vi(7,t,r,e),t.lanes=n,t}function em(t,e,n,r){return t=Vi(22,t,r,e),t.elementType=C_,t.lanes=n,t.stateNode={isHidden:!1},t}function Pg(t,e,n){return t=Vi(6,t,null,e),t.lanes=n,t}function Tg(t,e,n){return e=Vi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ag(0),this.expirationTimes=ag(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ag(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function C2(t,e,n,r,i,o,s,a,l){return t=new q6(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Vi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},h2(o),t}function $6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ru,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function w3(t){if(!t)return Oa;t=t._reactInternals;e:{if($l(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ti(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var n=t.type;if(ti(n))return w4(t,n,e)}return e}function _3(t,e,n,r,i,o,s,a,l){return t=C2(n,r,!0,t,i,o,s,a,l),t.context=w3(null),n=t.current,r=Mr(),i=Ca(n),o=ws(r,i),o.callback=e??null,Pa(n,o,i),t.current.lanes=i,pf(t,i,r),ni(t,r),t}function tm(t,e,n,r){var i=e.current,o=Mr(),s=Ca(i);return n=w3(n),e.context===null?e.context=n:e.pendingContext=n,e=ws(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pa(i,e,s),t!==null&&(fo(t,i,s,o),Dd(t,i,s)),s}function xp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function N2(t,e){m5(t,e),(t=t.alternate)&&m5(t,e)}function H6(){return null}var b3=typeof reportError=="function"?reportError:function(t){console.error(t)};function I2(t){this._internalRoot=t}nm.prototype.render=I2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));tm(t,e,null,null)};nm.prototype.unmount=I2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bl(function(){tm(null,t,null,null)}),e[As]=null}};function nm(t){this._internalRoot=t}nm.prototype.unstable_scheduleHydration=function(t){if(t){var e=J_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pa.length&&e!==0&&e<pa[n].priority;n++);pa.splice(n,0,t),n===0&&e4(t)}};function k2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g5(){}function W6(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=xp(s);o.call(h)}}var s=_3(e,r,t,0,null,!1,!1,"",g5);return t._reactRootContainer=s,t[As]=s.current,$h(t.nodeType===8?t.parentNode:t),Bl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=xp(l);a.call(h)}}var l=C2(t,0,!1,null,null,!1,!1,"",g5);return t._reactRootContainer=l,t[As]=l.current,$h(t.nodeType===8?t.parentNode:t),Bl(function(){tm(e,l,n,r)}),l}function im(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=xp(s);a.call(l)}}tm(e,s,t,i)}else s=W6(n,e,t,i,r);return xp(s)}Y_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uh(e.pendingLanes);n!==0&&(Y0(e,n|1),ni(e,Nn()),!(Dt&6)&&(ac=Nn()+500,Ga()))}break;case 13:Bl(function(){var r=xs(t,1);if(r!==null){var i=Mr();fo(r,t,1,i)}}),N2(t,1)}};X0=function(t){if(t.tag===13){var e=xs(t,134217728);if(e!==null){var n=Mr();fo(e,t,134217728,n)}N2(t,134217728)}};X_=function(t){if(t.tag===13){var e=Ca(t),n=xs(t,e);if(n!==null){var r=Mr();fo(n,t,e,r)}N2(t,e)}};J_=function(){return Ht};Z_=function(t,e){var n=Ht;try{return Ht=t,e()}finally{Ht=n}};p1=function(t,e,n){switch(e){case"input":if(a1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Kp(r);if(!i)throw Error(je(90));I_(r),a1(r,i)}}}break;case"textarea":L_(t,n);break;case"select":e=n.value,e!=null&&Wu(t,!!n.multiple,e,!1)}};V_=x2;B_=Bl;var G6={usingClientEntryPoint:!1,Events:[gf,Mu,Kp,j_,M_,x2]},nh={findFiberByHostInstance:_l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K6={bundleType:nh.bundleType,version:nh.version,rendererPackageName:nh.rendererPackageName,rendererConfig:nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q_(t),t===null?null:t.stateNode},findFiberByHostInstance:nh.findFiberByHostInstance||H6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{$p=pd.inject(K6),Bo=pd}catch{}}xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G6;xi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k2(e))throw Error(je(200));return $6(t,e,null,n)};xi.createRoot=function(t,e){if(!k2(t))throw Error(je(299));var n=!1,r="",i=b3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=C2(t,1,!1,null,null,n,!1,r,i),t[As]=e.current,$h(t.nodeType===8?t.parentNode:t),new I2(e)};xi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=q_(e),t=t===null?null:t.stateNode,t};xi.flushSync=function(t){return Bl(t)};xi.hydrate=function(t,e,n){if(!rm(e))throw Error(je(200));return im(null,t,e,!0,n)};xi.hydrateRoot=function(t,e,n){if(!k2(t))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=b3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=_3(e,null,t,1,n??null,i,!1,o,s),t[As]=e.current,$h(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new nm(e)};xi.render=function(t,e,n){if(!rm(e))throw Error(je(200));return im(null,t,e,!1,n)};xi.unmountComponentAtNode=function(t){if(!rm(t))throw Error(je(40));return t._reactRootContainer?(Bl(function(){im(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1};xi.unstable_batchedUpdates=x2;xi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rm(n))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return im(t,e,n,!1,r)};xi.version="18.3.1-next-f1338f8080-20240426";function S3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S3)}catch(t){console.error(t)}}S3(),S_.exports=xi;var Q6=S_.exports,v5=Q6;e1.createRoot=v5.createRoot,e1.hydrateRoot=v5.hydrateRoot;var L2={};Object.defineProperty(L2,"__esModule",{value:!0});L2.parse=nP;L2.serialize=rP;const Y6=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,X6=/^[\u0021-\u003A\u003C-\u007E]*$/,J6=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Z6=/^[\u0020-\u003A\u003D-\u007E]*$/,eP=Object.prototype.toString,tP=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function nP(t,e){const n=new tP,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||iP;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const a=t.indexOf(";",o),l=a===-1?r:a;if(s>l){o=t.lastIndexOf(";",s-1)+1;continue}const h=y5(t,o,s),d=w5(t,s,h),m=t.slice(h,d);if(n[m]===void 0){let g=y5(t,s+1,l),p=w5(t,l,g);const P=i(t.slice(g,p));n[m]=P}o=l+1}while(o<r);return n}function y5(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function w5(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function rP(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Y6.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!X6.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!J6.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!Z6.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!oP(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function iP(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function oP(t){return eP.call(t)==="[object Date]"}/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _5="popstate";function sP(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return G1("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zh(i)}return lP(e,n,null,t)}function dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ho(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aP(){return Math.random().toString(36).substring(2,10)}function b5(t,e){return{usr:t.state,key:t.key,idx:e}}function G1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xc(e):e,state:n,key:e&&e.key||r||aP()}}function Zh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function lP(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,h=d();h==null&&(h=0,s.replaceState({...s.state,idx:h},""));function d(){return(s.state||{idx:null}).idx}function m(){a="POP";let L=d(),w=L==null?null:L-h;h=L,l&&l({action:a,location:N.location,delta:w})}function g(L,w){a="PUSH";let y=G1(N.location,L,w);h=d()+1;let A=b5(y,h),F=N.createHref(y);try{s.pushState(A,"",F)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(F)}o&&l&&l({action:a,location:N.location,delta:1})}function p(L,w){a="REPLACE";let y=G1(N.location,L,w);h=d();let A=b5(y,h),F=N.createHref(y);s.replaceState(A,"",F),o&&l&&l({action:a,location:N.location,delta:0})}function P(L){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof L=="string"?L:Zh(L);return y=y.replace(/ $/,"%20"),dn(w,`No window.location.(origin|href) available to create URL for href: ${y}`),new URL(y,w)}let N={get action(){return a},get location(){return t(i,s)},listen(L){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_5,m),l=L,()=>{i.removeEventListener(_5,m),l=null}},createHref(L){return e(i,L)},createURL:P,encodeLocation(L){let w=P(L);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:p,go(L){return s.go(L)}};return N}function A3(t,e,n="/"){return uP(t,e,n,!1)}function uP(t,e,n,r){let i=typeof e=="string"?xc(e):e,o=ja(i.pathname||"/",n);if(o==null)return null;let s=x3(t);cP(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let h=bP(o);a=wP(s[l],h,r)}return a}function x3(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(dn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let h=_s([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(dn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),x3(o.children,e,d,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:vP(h,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of E3(o.path))i(o,s,l)}),e}function E3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=E3(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var hP=/^:[\w-]+$/,fP=3,dP=2,pP=1,mP=10,gP=-2,S5=t=>t==="*";function vP(t,e){let n=t.split("/"),r=n.length;return n.some(S5)&&(r+=gP),e&&(r+=dP),n.filter(i=>!S5(i)).reduce((i,o)=>i+(hP.test(o)?fP:o===""?pP:mP),r)}function yP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wP(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],h=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",m=Ep({path:l.relativePath,caseSensitive:l.caseSensitive,end:h},d),g=l.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=Ep({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:_s([o,m.pathname]),pathnameBase:EP(_s([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=_s([o,m.pathnameBase]))}return s}function Ep(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_P(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:m},g)=>{if(d==="*"){let P=a[g]||"";s=o.slice(0,o.length-P.length).replace(/(.)\/+$/,"$1")}const p=a[g];return m&&!p?h[d]=void 0:h[d]=(p||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:s,pattern:t}}function _P(t,e=!1,n=!0){Ho(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ho(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ja(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SP(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xc(t):t;return{pathname:n?n.startsWith("/")?n:AP(n,e):e,search:PP(r),hash:TP(i)}}function AP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function P3(t){let e=xP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function T3(t,e,n,r=!1){let i;typeof t=="string"?i=xc(t):(i={...t},dn(!i.pathname||!i.pathname.includes("?"),Cg("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),Cg("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),Cg("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}a=m>=0?e[m]:"/"}let l=SP(i,a),h=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||d)&&(l.pathname+="/"),l}var _s=t=>t.join("/").replace(/\/\/+/g,"/"),EP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var C3=["POST","PUT","PATCH","DELETE"];new Set(C3);var NP=["GET",...C3];new Set(NP);var Ec=ue.createContext(null);Ec.displayName="DataRouter";var om=ue.createContext(null);om.displayName="DataRouterState";var N3=ue.createContext({isTransitioning:!1});N3.displayName="ViewTransition";var IP=ue.createContext(new Map);IP.displayName="Fetchers";var kP=ue.createContext(null);kP.displayName="Await";var Go=ue.createContext(null);Go.displayName="Navigation";var yf=ue.createContext(null);yf.displayName="Location";var ks=ue.createContext({outlet:null,matches:[],isDataRoute:!1});ks.displayName="Route";var R2=ue.createContext(null);R2.displayName="RouteError";function LP(t,{relative:e}={}){dn(wf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=ue.useContext(Go),{hash:i,pathname:o,search:s}=_f(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:_s([n,o])),r.createHref({pathname:a,search:s,hash:i})}function wf(){return ue.useContext(yf)!=null}function Hl(){return dn(wf(),"useLocation() may be used only in the context of a <Router> component."),ue.useContext(yf).location}var I3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k3(t){ue.useContext(Go).static||ue.useLayoutEffect(t)}function L3(){let{isDataRoute:t}=ue.useContext(ks);return t?HP():RP()}function RP(){dn(wf(),"useNavigate() may be used only in the context of a <Router> component.");let t=ue.useContext(Ec),{basename:e,navigator:n}=ue.useContext(Go),{matches:r}=ue.useContext(ks),{pathname:i}=Hl(),o=JSON.stringify(P3(r)),s=ue.useRef(!1);return k3(()=>{s.current=!0}),ue.useCallback((l,h={})=>{if(Ho(s.current,I3),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=T3(l,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_s([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,o,i,t])}ue.createContext(null);function _f(t,{relative:e}={}){let{matches:n}=ue.useContext(ks),{pathname:r}=Hl(),i=JSON.stringify(P3(n));return ue.useMemo(()=>T3(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function DP(t,e){return R3(t,e)}function R3(t,e,n,r){var w;dn(wf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ue.useContext(Go),{matches:o}=ue.useContext(ks),s=o[o.length-1],a=s?s.params:{},l=s?s.pathname:"/",h=s?s.pathnameBase:"/",d=s&&s.route;{let y=d&&d.path||"";D3(l,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let m=Hl(),g;if(e){let y=typeof e=="string"?xc(e):e;dn(h==="/"||((w=y.pathname)==null?void 0:w.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${y.pathname}" was given in the \`location\` prop.`),g=y}else g=m;let p=g.pathname||"/",P=p;if(h!=="/"){let y=h.replace(/^\//,"").split("/");P="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let N=A3(t,{pathname:P});Ho(d||N!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ho(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=VP(N&&N.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:_s([h,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?h:_s([h,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&L?ue.createElement(yf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},L):L}function FP(){let t=$P(),e=CP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=ue.createElement(ue.Fragment,null,ue.createElement("p",null," Hey developer "),ue.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ue.createElement("code",{style:o},"ErrorBoundary")," or"," ",ue.createElement("code",{style:o},"errorElement")," prop on your route.")),ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),n?ue.createElement("pre",{style:i},n):null,s)}var OP=ue.createElement(FP,null),jP=class extends ue.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?ue.createElement(ks.Provider,{value:this.props.routeContext},ue.createElement(R2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MP({routeContext:t,match:e,children:n}){let r=ue.useContext(Ec);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ue.createElement(ks.Provider,{value:t},n)}function VP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);dn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let h=i[l];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(a=l),h.route.id){let{loaderData:d,errors:m}=n,g=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,h,d)=>{let m,g=!1,p=null,P=null;n&&(m=o&&h.route.id?o[h.route.id]:void 0,p=h.route.errorElement||OP,s&&(a<0&&d===0?(D3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,P=null):a===d&&(g=!0,P=h.route.hydrateFallbackElement||null)));let N=e.concat(i.slice(0,d+1)),L=()=>{let w;return m?w=p:g?w=P:h.route.Component?w=ue.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=l,ue.createElement(MP,{match:h,routeContext:{outlet:l,matches:N,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?ue.createElement(jP,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:L(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):L()},null)}function D2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BP(t){let e=ue.useContext(Ec);return dn(e,D2(t)),e}function UP(t){let e=ue.useContext(om);return dn(e,D2(t)),e}function zP(t){let e=ue.useContext(ks);return dn(e,D2(t)),e}function F2(t){let e=zP(t),n=e.matches[e.matches.length-1];return dn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qP(){return F2("useRouteId")}function $P(){var r;let t=ue.useContext(R2),e=UP("useRouteError"),n=F2("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function HP(){let{router:t}=BP("useNavigate"),e=F2("useNavigate"),n=ue.useRef(!1);return k3(()=>{n.current=!0}),ue.useCallback(async(i,o={})=>{Ho(n.current,I3),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var A5={};function D3(t,e,n){!e&&!A5[t]&&(A5[t]=!0,Ho(!1,n))}ue.memo(WP);function WP({routes:t,future:e,state:n}){return R3(t,void 0,n,e)}function Ud(t){dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){dn(!wf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=ue.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=xc(n));let{pathname:l="/",search:h="",hash:d="",state:m=null,key:g="default"}=n,p=ue.useMemo(()=>{let P=ja(l,s);return P==null?null:{location:{pathname:P,search:h,hash:d,state:m,key:g},navigationType:r}},[s,l,h,d,m,g,r]);return Ho(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:ue.createElement(Go.Provider,{value:a},ue.createElement(yf.Provider,{children:e,value:p}))}function KP({children:t,location:e}){return DP(K1(t),e)}function K1(t,e=[]){let n=[];return ue.Children.forEach(t,(r,i)=>{if(!ue.isValidElement(r))return;let o=[...e,i];if(r.type===ue.Fragment){n.push.apply(n,K1(r.props.children,o));return}dn(r.type===Ud,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=K1(r.props.children,o)),n.push(s)}),n}var zd="get",qd="application/x-www-form-urlencoded";function sm(t){return t!=null&&typeof t.tagName=="string"}function QP(t){return sm(t)&&t.tagName.toLowerCase()==="button"}function YP(t){return sm(t)&&t.tagName.toLowerCase()==="form"}function XP(t){return sm(t)&&t.tagName.toLowerCase()==="input"}function JP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZP(t,e){return t.button===0&&(!e||e==="_self")&&!JP(t)}var md=null;function eT(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var tT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ng(t){return t!=null&&!tT.has(t)?(Ho(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qd}"`),null):t}function nT(t,e){let n,r,i,o,s;if(YP(t)){let a=t.getAttribute("action");r=a?ja(a,e):null,n=t.getAttribute("method")||zd,i=Ng(t.getAttribute("enctype"))||qd,o=new FormData(t)}else if(QP(t)||XP(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?ja(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||zd,i=Ng(t.getAttribute("formenctype"))||Ng(a.getAttribute("enctype"))||qd,o=new FormData(a,t),!eT()){let{name:h,type:d,value:m}=t;if(d==="image"){let g=h?`${h}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else h&&o.append(h,m)}}else{if(sm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zd,r=null,i=qd,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function O2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function rT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oT(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await rT(o,n);return s.links?s.links():[]}return[]}));return uT(r.flat(1).filter(iT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function x5(t,e,n,r,i,o){let s=(l,h)=>n[h]?l.route.id!==n[h].route.id:!0,a=(l,h)=>{var d;return n[h].pathname!==l.pathname||((d=n[h].route.path)==null?void 0:d.endsWith("*"))&&n[h].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,h)=>s(l,h)||a(l,h)):o==="data"?e.filter((l,h)=>{var m;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,h)||a(l,h))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function sT(t,e){return aT(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function aT(t){return[...new Set(t)]}function lT(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function uT(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(lT(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function cT(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function hT(){let t=ue.useContext(Ec);return O2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fT(){let t=ue.useContext(om);return O2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var j2=ue.createContext(void 0);j2.displayName="FrameworkContext";function F3(){let t=ue.useContext(j2);return O2(t,"You must render this element inside a <HydratedRouter> element"),t}function dT(t,e){let n=ue.useContext(j2),[r,i]=ue.useState(!1),[o,s]=ue.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:h,onMouseLeave:d,onTouchStart:m}=e,g=ue.useRef(null);ue.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let N=w=>{w.forEach(y=>{s(y.isIntersecting)})},L=new IntersectionObserver(N,{threshold:.5});return g.current&&L.observe(g.current),()=>{L.disconnect()}}},[t]),ue.useEffect(()=>{if(r){let N=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(N)}}},[r]);let p=()=>{i(!0)},P=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:rh(a,p),onBlur:rh(l,P),onMouseEnter:rh(h,p),onMouseLeave:rh(d,P),onTouchStart:rh(m,p)}]:[!1,g,{}]}function rh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pT({page:t,...e}){let{router:n}=hT(),r=ue.useMemo(()=>A3(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?ue.createElement(gT,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function mT(t){let{manifest:e,routeModules:n}=F3(),[r,i]=ue.useState([]);return ue.useEffect(()=>{let o=!1;return oT(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function gT({page:t,matches:e,...n}){let r=Hl(),{manifest:i,routeModules:o}=F3(),{loaderData:s,matches:a}=fT(),l=ue.useMemo(()=>x5(t,e,a,i,r,"data"),[t,e,a,i,r]),h=ue.useMemo(()=>x5(t,e,a,i,r,"assets"),[t,e,a,i,r]),d=ue.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,P=!1;if(e.forEach(L=>{var y;let w=i.routes[L.route.id];!w||!w.hasLoader||(!l.some(A=>A.route.id===L.route.id)&&L.route.id in s&&((y=o[L.route.id])!=null&&y.shouldRevalidate)||w.hasClientLoader?P=!0:p.add(L.route.id))}),p.size===0)return[];let N=cT(t);return P&&p.size>0&&N.searchParams.set("_routes",e.filter(L=>p.has(L.route.id)).map(L=>L.route.id).join(",")),[N.pathname+N.search]},[s,r,i,l,e,t,o]),m=ue.useMemo(()=>sT(h,i),[h,i]),g=mT(h);return ue.createElement(ue.Fragment,null,d.map(p=>ue.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),m.map(p=>ue.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),g.map(({key:p,link:P})=>ue.createElement("link",{key:p,...P})))}function vT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var O3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O3&&(window.__reactRouterVersion="7.0.2")}catch{}function yT({basename:t,children:e,window:n}){let r=ue.useRef();r.current==null&&(r.current=sP({window:n,v5Compat:!0}));let i=r.current,[o,s]=ue.useState({action:i.action,location:i.location}),a=ue.useCallback(l=>{ue.startTransition(()=>s(l))},[s]);return ue.useLayoutEffect(()=>i.listen(a),[i,a]),ue.createElement(GP,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var j3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M3=ue.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:h,preventScrollReset:d,viewTransition:m,...g},p){let{basename:P}=ue.useContext(Go),N=typeof h=="string"&&j3.test(h),L,w=!1;if(typeof h=="string"&&N&&(L=h,O3))try{let T=new URL(window.location.href),R=h.startsWith("//")?new URL(T.protocol+h):new URL(h),E=ja(R.pathname,P);R.origin===T.origin&&E!=null?h=E+R.search+R.hash:w=!0}catch{Ho(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=LP(h,{relative:i}),[A,F,V]=dT(r,g),z=ST(h,{replace:s,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:m});function C(T){e&&e(T),T.defaultPrevented||z(T)}let b=ue.createElement("a",{...g,...V,href:L||y,onClick:w||o?e:C,ref:vT(p,F),target:l,"data-discover":!N&&n==="render"?"true":void 0});return A&&!N?ue.createElement(ue.Fragment,null,b,ue.createElement(pT,{page:y})):b});M3.displayName="Link";var wT=ue.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...h},d){let m=_f(s,{relative:h.relative}),g=Hl(),p=ue.useContext(om),{navigator:P,basename:N}=ue.useContext(Go),L=p!=null&&TT(m)&&a===!0,w=P.encodeLocation?P.encodeLocation(m).pathname:m.pathname,y=g.pathname,A=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(y=y.toLowerCase(),A=A?A.toLowerCase():null,w=w.toLowerCase()),A&&N&&(A=ja(A,N)||A);const F=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let V=y===w||!i&&y.startsWith(w)&&y.charAt(F)==="/",z=A!=null&&(A===w||!i&&A.startsWith(w)&&A.charAt(w.length)==="/"),C={isActive:V,isPending:z,isTransitioning:L},b=V?e:void 0,T;typeof r=="function"?T=r(C):T=[r,V?"active":null,z?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(C):o;return ue.createElement(M3,{...h,"aria-current":b,className:T,ref:d,style:R,to:s,viewTransition:a},typeof l=="function"?l(C):l)});wT.displayName="NavLink";var _T=ue.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=zd,action:a,onSubmit:l,relative:h,preventScrollReset:d,viewTransition:m,...g},p)=>{let P=ET(),N=PT(a,{relative:h}),L=s.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&j3.test(a),y=A=>{if(l&&l(A),A.defaultPrevented)return;A.preventDefault();let F=A.nativeEvent.submitter,V=(F==null?void 0:F.getAttribute("formmethod"))||s;P(F||A.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:i,state:o,relative:h,preventScrollReset:d,viewTransition:m})};return ue.createElement("form",{ref:p,method:L,action:N,onSubmit:r?l:y,...g,"data-discover":!w&&t==="render"?"true":void 0})});_T.displayName="Form";function bT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V3(t){let e=ue.useContext(Ec);return dn(e,bT(t)),e}function ST(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=L3(),l=Hl(),h=_f(t,{relative:o});return ue.useCallback(d=>{if(ZP(d,e)){d.preventDefault();let m=n!==void 0?n:Zh(l)===Zh(h);a(t,{replace:m,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,h,n,r,e,t,i,o,s])}var AT=0,xT=()=>`__${String(++AT)}__`;function ET(){let{router:t}=V3("useSubmit"),{basename:e}=ue.useContext(Go),n=qP();return ue.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:h}=nT(r,e);if(i.navigate===!1){let d=i.fetcherKey||xT();await t.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:h,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:h,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function PT(t,{relative:e}={}){let{basename:n}=ue.useContext(Go),r=ue.useContext(ks);dn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={..._f(t||".",{relative:e})},s=Hl();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(m=>m).forEach(m=>a.append("index",m));let d=a.toString();o.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:_s([n,o.pathname])),Zh(o)}function TT(t,e={}){let n=ue.useContext(N3);dn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=V3("useViewTransitionState"),i=_f(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ja(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ja(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ep(i.pathname,s)!=null||Ep(i.pathname,o)!=null}new TextEncoder;const CT=()=>{const t=L3(),[e,n]=ue.useState(""),[r,i]=ue.useState(""),[o,s]=ue.useState(!1),a=d=>{n(d.target.value)},l=d=>{i(d.target.value)};ue.useEffect(()=>{const d=localStorage.getItem("loginUserName"),m=localStorage.getItem("loginUserPassword");d&&m&&t("/home")});const h=d=>{d.preventDefault(),"tiago"===e&&"91692tvJ"===r?(localStorage.setItem("loginUserName",e),localStorage.setItem("loginUserPassword",r),t("/home")):s(!0)};return W.jsxs("main",{id:"loginPage",children:[W.jsx("h1",{children:"Mercearia Sagrada Famlia"}),W.jsxs("form",{onSubmit:h,children:[W.jsx("input",{type:"text",name:"userName",id:"userName",className:"form-control",placeholder:"Informe o usurio",onChange:a}),W.jsx("input",{type:"password",name:"userPassword",id:"userPassword",className:"form-control",placeholder:"Digite a senha",onChange:l}),o&&W.jsx("span",{children:W.jsx("p",{children:"*Usurio ou senha invlido"})}),W.jsx("button",{className:"btn btn-dark form-control",type:"submit",children:"Entrar"})]})]})};var E5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},U3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,d=o>>2,m=(o&3)<<4|a>>4;let g=(a&15)<<2|h>>6,p=h&63;l||(p=64,s||(g=64)),r.push(n[d],n[m],n[g],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(B3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||h==null||m==null)throw new IT;const g=o<<2|a>>4;if(r.push(g),h!==64){const p=a<<4&240|h>>2;if(r.push(p),m!==64){const P=h<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kT=function(t){const e=B3(t);return U3.encodeByteArray(e,!0)},Pp=function(t){return kT(t).replace(/\./g,"")},LT=function(t){try{return U3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=()=>RT().__FIREBASE_DEFAULTS__,FT=()=>{if(typeof process>"u"||typeof E5>"u")return;const t=E5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LT(t[1]);return e&&JSON.parse(e)},M2=()=>{try{return DT()||FT()||OT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jT=t=>{var e,n;return(n=(e=M2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},z3=t=>{const e=jT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},q3=()=>{var t;return(t=M2())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pp(JSON.stringify(n)),Pp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BT(){var t;const e=(t=M2())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UT(){return!BT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zT(){try{return typeof indexedDB=="object"}catch{return!1}}function qT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="FirebaseError";class Wl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$T,Object.setPrototypeOf(this,Wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H3.prototype.create)}}class H3{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?HT(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Wl(i,a,r)}}function HT(t,e){return t.replace(WT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const WT=/\{\$([^}]+)}/g;function Q1(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(P5(o)&&P5(s)){if(!Q1(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function P5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t){return t&&t._delegate?t._delegate:t}class lc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QT(e))try{this.getOrInitializeService({instanceIdentifier:yl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yl){return this.instances.has(e)}getOptions(e=yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yl){return this.component?this.component.multipleInstances?e:yl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KT(t){return t===yl?void 0:t}function QT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(kt||(kt={}));const XT={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},JT=kt.INFO,ZT={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},eC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ZT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W3{constructor(e){this.name=e,this._logLevel=JT,this._logHandler=eC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const tC=(t,e)=>e.some(n=>t instanceof n);let T5,C5;function nC(){return T5||(T5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rC(){return C5||(C5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G3=new WeakMap,Y1=new WeakMap,K3=new WeakMap,Ig=new WeakMap,V2=new WeakMap;function iC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ia(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&G3.set(n,t)}).catch(()=>{}),V2.set(e,t),e}function oC(t){if(Y1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Y1.set(t,e)}let X1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Y1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||K3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ia(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sC(t){X1=t(X1)}function aC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kg(this),e,...n);return K3.set(r,e.sort?e.sort():[e]),Ia(r)}:rC().includes(t)?function(...e){return t.apply(kg(this),e),Ia(G3.get(this))}:function(...e){return Ia(t.apply(kg(this),e))}}function lC(t){return typeof t=="function"?aC(t):(t instanceof IDBTransaction&&oC(t),tC(t,nC())?new Proxy(t,X1):t)}function Ia(t){if(t instanceof IDBRequest)return iC(t);if(Ig.has(t))return Ig.get(t);const e=lC(t);return e!==t&&(Ig.set(t,e),V2.set(e,t)),e}const kg=t=>V2.get(t);function uC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ia(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ia(s.result),l.oldVersion,l.newVersion,Ia(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const cC=["get","getKey","getAll","getAllKeys","count"],hC=["put","add","delete","clear"],Lg=new Map;function N5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lg.get(e))return Lg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cC.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return Lg.set(e,o),o}sC(t=>({...t,get:(e,n,r)=>N5(e,n)||t.get(e,n,r),has:(e,n)=>!!N5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const J1="@firebase/app",I5="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new W3("@firebase/app"),pC="@firebase/app-compat",mC="@firebase/analytics-compat",gC="@firebase/analytics",vC="@firebase/app-check-compat",yC="@firebase/app-check",wC="@firebase/auth",_C="@firebase/auth-compat",bC="@firebase/database",SC="@firebase/data-connect",AC="@firebase/database-compat",xC="@firebase/functions",EC="@firebase/functions-compat",PC="@firebase/installations",TC="@firebase/installations-compat",CC="@firebase/messaging",NC="@firebase/messaging-compat",IC="@firebase/performance",kC="@firebase/performance-compat",LC="@firebase/remote-config",RC="@firebase/remote-config-compat",DC="@firebase/storage",FC="@firebase/storage-compat",OC="@firebase/firestore",jC="@firebase/vertexai",MC="@firebase/firestore-compat",VC="firebase",BC="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="[DEFAULT]",UC={[J1]:"fire-core",[pC]:"fire-core-compat",[gC]:"fire-analytics",[mC]:"fire-analytics-compat",[yC]:"fire-app-check",[vC]:"fire-app-check-compat",[wC]:"fire-auth",[_C]:"fire-auth-compat",[bC]:"fire-rtdb",[SC]:"fire-data-connect",[AC]:"fire-rtdb-compat",[xC]:"fire-fn",[EC]:"fire-fn-compat",[PC]:"fire-iid",[TC]:"fire-iid-compat",[CC]:"fire-fcm",[NC]:"fire-fcm-compat",[IC]:"fire-perf",[kC]:"fire-perf-compat",[LC]:"fire-rc",[RC]:"fire-rc-compat",[DC]:"fire-gcs",[FC]:"fire-gcs-compat",[OC]:"fire-fst",[MC]:"fire-fst-compat",[jC]:"fire-vertex","fire-js":"fire-js",[VC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new Map,zC=new Map,e0=new Map;function k5(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ef(t){const e=t.name;if(e0.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;e0.set(e,t);for(const n of Tp.values())k5(n,t);for(const n of zC.values())k5(n,t);return!0}function Q3(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new H3("app","Firebase",qC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=BC;function X3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Z1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ka.create("bad-app-name",{appName:String(i)});if(n||(n=q3()),!n)throw ka.create("no-options");const o=Tp.get(i);if(o){if(Q1(n,o.options)&&Q1(r,o.config))return o;throw ka.create("duplicate-app",{appName:i})}const s=new YT(i);for(const l of e0.values())s.addComponent(l);const a=new $C(n,r,s);return Tp.set(i,a),a}function J3(t=Z1){const e=Tp.get(t);if(!e&&t===Z1&&q3())return X3();if(!e)throw ka.create("no-app",{appName:t});return e}function La(t,e,n){var r;let i=(r=UC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(a.join(" "));return}ef(new lc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firebase-heartbeat-database",WC=1,tf="firebase-heartbeat-store";let Rg=null;function Z3(){return Rg||(Rg=uC(HC,WC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tf)}catch(n){console.warn(n)}}}}).catch(t=>{throw ka.create("idb-open",{originalErrorMessage:t.message})})),Rg}async function GC(t){try{const n=(await Z3()).transaction(tf),r=await n.objectStore(tf).get(eb(t));return await n.done,r}catch(e){if(e instanceof Wl)Ps.warn(e.message);else{const n=ka.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ps.warn(n.message)}}}async function L5(t,e){try{const r=(await Z3()).transaction(tf,"readwrite");await r.objectStore(tf).put(e,eb(t)),await r.done}catch(n){if(n instanceof Wl)Ps.warn(n.message);else{const r=ka.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ps.warn(r.message)}}}function eb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=1024,QC=30*24*60*60*1e3;class YC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=R5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=QC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R5(),{heartbeatsToSend:r,unsentEntries:i}=XC(this._heartbeatsCache.heartbeats),o=Pp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ps.warn(n),""}}}function R5(){return new Date().toISOString().substring(0,10)}function XC(t,e=KC){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),D5(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),D5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zT()?qT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return L5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return L5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function D5(t){return Pp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t){ef(new lc("platform-logger",e=>new fC(e),"PRIVATE")),ef(new lc("heartbeat",e=>new YC(e),"PRIVATE")),La(J1,I5,t),La(J1,I5,"esm2017"),La("fire-js","")}ZC("");var F5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cl,tb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function T(){}T.prototype=b.prototype,C.D=b.prototype,C.prototype=new T,C.prototype.constructor=C,C.C=function(R,E,S){for(var I=Array(arguments.length-2),K=2;K<arguments.length;K++)I[K-2]=arguments[K];return b.prototype[E].apply(R,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,b,T){T||(T=0);var R=Array(16);if(typeof b=="string")for(var E=0;16>E;++E)R[E]=b.charCodeAt(T++)|b.charCodeAt(T++)<<8|b.charCodeAt(T++)<<16|b.charCodeAt(T++)<<24;else for(E=0;16>E;++E)R[E]=b[T++]|b[T++]<<8|b[T++]<<16|b[T++]<<24;b=C.g[0],T=C.g[1],E=C.g[2];var S=C.g[3],I=b+(S^T&(E^S))+R[0]+3614090360&4294967295;b=T+(I<<7&4294967295|I>>>25),I=S+(E^b&(T^E))+R[1]+3905402710&4294967295,S=b+(I<<12&4294967295|I>>>20),I=E+(T^S&(b^T))+R[2]+606105819&4294967295,E=S+(I<<17&4294967295|I>>>15),I=T+(b^E&(S^b))+R[3]+3250441966&4294967295,T=E+(I<<22&4294967295|I>>>10),I=b+(S^T&(E^S))+R[4]+4118548399&4294967295,b=T+(I<<7&4294967295|I>>>25),I=S+(E^b&(T^E))+R[5]+1200080426&4294967295,S=b+(I<<12&4294967295|I>>>20),I=E+(T^S&(b^T))+R[6]+2821735955&4294967295,E=S+(I<<17&4294967295|I>>>15),I=T+(b^E&(S^b))+R[7]+4249261313&4294967295,T=E+(I<<22&4294967295|I>>>10),I=b+(S^T&(E^S))+R[8]+1770035416&4294967295,b=T+(I<<7&4294967295|I>>>25),I=S+(E^b&(T^E))+R[9]+2336552879&4294967295,S=b+(I<<12&4294967295|I>>>20),I=E+(T^S&(b^T))+R[10]+4294925233&4294967295,E=S+(I<<17&4294967295|I>>>15),I=T+(b^E&(S^b))+R[11]+2304563134&4294967295,T=E+(I<<22&4294967295|I>>>10),I=b+(S^T&(E^S))+R[12]+1804603682&4294967295,b=T+(I<<7&4294967295|I>>>25),I=S+(E^b&(T^E))+R[13]+4254626195&4294967295,S=b+(I<<12&4294967295|I>>>20),I=E+(T^S&(b^T))+R[14]+2792965006&4294967295,E=S+(I<<17&4294967295|I>>>15),I=T+(b^E&(S^b))+R[15]+1236535329&4294967295,T=E+(I<<22&4294967295|I>>>10),I=b+(E^S&(T^E))+R[1]+4129170786&4294967295,b=T+(I<<5&4294967295|I>>>27),I=S+(T^E&(b^T))+R[6]+3225465664&4294967295,S=b+(I<<9&4294967295|I>>>23),I=E+(b^T&(S^b))+R[11]+643717713&4294967295,E=S+(I<<14&4294967295|I>>>18),I=T+(S^b&(E^S))+R[0]+3921069994&4294967295,T=E+(I<<20&4294967295|I>>>12),I=b+(E^S&(T^E))+R[5]+3593408605&4294967295,b=T+(I<<5&4294967295|I>>>27),I=S+(T^E&(b^T))+R[10]+38016083&4294967295,S=b+(I<<9&4294967295|I>>>23),I=E+(b^T&(S^b))+R[15]+3634488961&4294967295,E=S+(I<<14&4294967295|I>>>18),I=T+(S^b&(E^S))+R[4]+3889429448&4294967295,T=E+(I<<20&4294967295|I>>>12),I=b+(E^S&(T^E))+R[9]+568446438&4294967295,b=T+(I<<5&4294967295|I>>>27),I=S+(T^E&(b^T))+R[14]+3275163606&4294967295,S=b+(I<<9&4294967295|I>>>23),I=E+(b^T&(S^b))+R[3]+4107603335&4294967295,E=S+(I<<14&4294967295|I>>>18),I=T+(S^b&(E^S))+R[8]+1163531501&4294967295,T=E+(I<<20&4294967295|I>>>12),I=b+(E^S&(T^E))+R[13]+2850285829&4294967295,b=T+(I<<5&4294967295|I>>>27),I=S+(T^E&(b^T))+R[2]+4243563512&4294967295,S=b+(I<<9&4294967295|I>>>23),I=E+(b^T&(S^b))+R[7]+1735328473&4294967295,E=S+(I<<14&4294967295|I>>>18),I=T+(S^b&(E^S))+R[12]+2368359562&4294967295,T=E+(I<<20&4294967295|I>>>12),I=b+(T^E^S)+R[5]+4294588738&4294967295,b=T+(I<<4&4294967295|I>>>28),I=S+(b^T^E)+R[8]+2272392833&4294967295,S=b+(I<<11&4294967295|I>>>21),I=E+(S^b^T)+R[11]+1839030562&4294967295,E=S+(I<<16&4294967295|I>>>16),I=T+(E^S^b)+R[14]+4259657740&4294967295,T=E+(I<<23&4294967295|I>>>9),I=b+(T^E^S)+R[1]+2763975236&4294967295,b=T+(I<<4&4294967295|I>>>28),I=S+(b^T^E)+R[4]+1272893353&4294967295,S=b+(I<<11&4294967295|I>>>21),I=E+(S^b^T)+R[7]+4139469664&4294967295,E=S+(I<<16&4294967295|I>>>16),I=T+(E^S^b)+R[10]+3200236656&4294967295,T=E+(I<<23&4294967295|I>>>9),I=b+(T^E^S)+R[13]+681279174&4294967295,b=T+(I<<4&4294967295|I>>>28),I=S+(b^T^E)+R[0]+3936430074&4294967295,S=b+(I<<11&4294967295|I>>>21),I=E+(S^b^T)+R[3]+3572445317&4294967295,E=S+(I<<16&4294967295|I>>>16),I=T+(E^S^b)+R[6]+76029189&4294967295,T=E+(I<<23&4294967295|I>>>9),I=b+(T^E^S)+R[9]+3654602809&4294967295,b=T+(I<<4&4294967295|I>>>28),I=S+(b^T^E)+R[12]+3873151461&4294967295,S=b+(I<<11&4294967295|I>>>21),I=E+(S^b^T)+R[15]+530742520&4294967295,E=S+(I<<16&4294967295|I>>>16),I=T+(E^S^b)+R[2]+3299628645&4294967295,T=E+(I<<23&4294967295|I>>>9),I=b+(E^(T|~S))+R[0]+4096336452&4294967295,b=T+(I<<6&4294967295|I>>>26),I=S+(T^(b|~E))+R[7]+1126891415&4294967295,S=b+(I<<10&4294967295|I>>>22),I=E+(b^(S|~T))+R[14]+2878612391&4294967295,E=S+(I<<15&4294967295|I>>>17),I=T+(S^(E|~b))+R[5]+4237533241&4294967295,T=E+(I<<21&4294967295|I>>>11),I=b+(E^(T|~S))+R[12]+1700485571&4294967295,b=T+(I<<6&4294967295|I>>>26),I=S+(T^(b|~E))+R[3]+2399980690&4294967295,S=b+(I<<10&4294967295|I>>>22),I=E+(b^(S|~T))+R[10]+4293915773&4294967295,E=S+(I<<15&4294967295|I>>>17),I=T+(S^(E|~b))+R[1]+2240044497&4294967295,T=E+(I<<21&4294967295|I>>>11),I=b+(E^(T|~S))+R[8]+1873313359&4294967295,b=T+(I<<6&4294967295|I>>>26),I=S+(T^(b|~E))+R[15]+4264355552&4294967295,S=b+(I<<10&4294967295|I>>>22),I=E+(b^(S|~T))+R[6]+2734768916&4294967295,E=S+(I<<15&4294967295|I>>>17),I=T+(S^(E|~b))+R[13]+1309151649&4294967295,T=E+(I<<21&4294967295|I>>>11),I=b+(E^(T|~S))+R[4]+4149444226&4294967295,b=T+(I<<6&4294967295|I>>>26),I=S+(T^(b|~E))+R[11]+3174756917&4294967295,S=b+(I<<10&4294967295|I>>>22),I=E+(b^(S|~T))+R[2]+718787259&4294967295,E=S+(I<<15&4294967295|I>>>17),I=T+(S^(E|~b))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(E+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+E&4294967295,C.g[3]=C.g[3]+S&4294967295}r.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var T=b-this.blockSize,R=this.B,E=this.h,S=0;S<b;){if(E==0)for(;S<=T;)i(this,C,S),S+=this.blockSize;if(typeof C=="string"){for(;S<b;)if(R[E++]=C.charCodeAt(S++),E==this.blockSize){i(this,R),E=0;break}}else for(;S<b;)if(R[E++]=C[S++],E==this.blockSize){i(this,R),E=0;break}}this.h=E,this.o+=b},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var T=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=T&255,T/=256;for(this.u(C),C=Array(16),b=T=0;4>b;++b)for(var R=0;32>R;R+=8)C[T++]=this.g[b]>>>R&255;return C};function o(C,b){var T=a;return Object.prototype.hasOwnProperty.call(T,C)?T[C]:T[C]=b(C)}function s(C,b){this.h=b;for(var T=[],R=!0,E=C.length-1;0<=E;E--){var S=C[E]|0;R&&S==b||(T[E]=S,R=!1)}this.g=T}var a={};function l(C){return-128<=C&&128>C?o(C,function(b){return new s([b|0],0>b?-1:0)}):new s([C|0],0>C?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return m;if(0>C)return L(h(-C));for(var b=[],T=1,R=0;C>=T;R++)b[R]=C/T|0,T*=4294967296;return new s(b,0)}function d(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return L(d(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=h(Math.pow(b,8)),R=m,E=0;E<C.length;E+=8){var S=Math.min(8,C.length-E),I=parseInt(C.substring(E,E+S),b);8>S?(S=h(Math.pow(b,S)),R=R.j(S).add(h(I))):(R=R.j(T),R=R.add(h(I)))}return R}var m=l(0),g=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(N(this))return-L(this).m();for(var C=0,b=1,T=0;T<this.g.length;T++){var R=this.i(T);C+=(0<=R?R:4294967296+R)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(N(this))return"-"+L(this).toString(C);for(var b=h(Math.pow(C,6)),T=this,R="";;){var E=F(T,b).g;T=w(T,E.j(b));var S=((0<T.g.length?T.g[0]:T.h)>>>0).toString(C);if(T=E,P(T))return S+R;for(;6>S.length;)S="0"+S;R=S+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function N(C){return C.h==-1}t.l=function(C){return C=w(this,C),N(C)?-1:P(C)?0:1};function L(C){for(var b=C.g.length,T=[],R=0;R<b;R++)T[R]=~C.g[R];return new s(T,~C.h).add(g)}t.abs=function(){return N(this)?L(this):this},t.add=function(C){for(var b=Math.max(this.g.length,C.g.length),T=[],R=0,E=0;E<=b;E++){var S=R+(this.i(E)&65535)+(C.i(E)&65535),I=(S>>>16)+(this.i(E)>>>16)+(C.i(E)>>>16);R=I>>>16,S&=65535,I&=65535,T[E]=I<<16|S}return new s(T,T[T.length-1]&-2147483648?-1:0)};function w(C,b){return C.add(L(b))}t.j=function(C){if(P(this)||P(C))return m;if(N(this))return N(C)?L(this).j(L(C)):L(L(this).j(C));if(N(C))return L(this.j(L(C)));if(0>this.l(p)&&0>C.l(p))return h(this.m()*C.m());for(var b=this.g.length+C.g.length,T=[],R=0;R<2*b;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(var E=0;E<C.g.length;E++){var S=this.i(R)>>>16,I=this.i(R)&65535,K=C.i(E)>>>16,ce=C.i(E)&65535;T[2*R+2*E]+=I*ce,y(T,2*R+2*E),T[2*R+2*E+1]+=S*ce,y(T,2*R+2*E+1),T[2*R+2*E+1]+=I*K,y(T,2*R+2*E+1),T[2*R+2*E+2]+=S*K,y(T,2*R+2*E+2)}for(R=0;R<b;R++)T[R]=T[2*R+1]<<16|T[2*R];for(R=b;R<2*b;R++)T[R]=0;return new s(T,0)};function y(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function A(C,b){this.g=C,this.h=b}function F(C,b){if(P(b))throw Error("division by zero");if(P(C))return new A(m,m);if(N(C))return b=F(L(C),b),new A(L(b.g),L(b.h));if(N(b))return b=F(C,L(b)),new A(L(b.g),b.h);if(30<C.g.length){if(N(C)||N(b))throw Error("slowDivide_ only works with positive integers.");for(var T=g,R=b;0>=R.l(C);)T=V(T),R=V(R);var E=z(T,1),S=z(R,1);for(R=z(R,2),T=z(T,2);!P(R);){var I=S.add(R);0>=I.l(C)&&(E=E.add(T),S=I),R=z(R,1),T=z(T,1)}return b=w(C,E.j(b)),new A(E,b)}for(E=m;0<=C.l(b);){for(T=Math.max(1,Math.floor(C.m()/b.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),S=h(T),I=S.j(b);N(I)||0<I.l(C);)T-=R,S=h(T),I=S.j(b);P(S)&&(S=g),E=E.add(S),C=w(C,I)}return new A(E,C)}t.A=function(C){return F(this,C).h},t.and=function(C){for(var b=Math.max(this.g.length,C.g.length),T=[],R=0;R<b;R++)T[R]=this.i(R)&C.i(R);return new s(T,this.h&C.h)},t.or=function(C){for(var b=Math.max(this.g.length,C.g.length),T=[],R=0;R<b;R++)T[R]=this.i(R)|C.i(R);return new s(T,this.h|C.h)},t.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),T=[],R=0;R<b;R++)T[R]=this.i(R)^C.i(R);return new s(T,this.h^C.h)};function V(C){for(var b=C.g.length+1,T=[],R=0;R<b;R++)T[R]=C.i(R)<<1|C.i(R-1)>>>31;return new s(T,C.h)}function z(C,b){var T=b>>5;b%=32;for(var R=C.g.length-T,E=[],S=0;S<R;S++)E[S]=0<b?C.i(S+T)>>>b|C.i(S+T+1)<<32-b:C.i(S+T);return new s(E,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tb=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=d,Cl=s}).apply(typeof F5<"u"?F5:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nb,hh,rb,$d,t0,ib,ob,sb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,x,D){return c==Array.prototype||c==Object.prototype||(c[x]=D.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var x=0;x<c.length;++x){var D=c[x];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(c,x){if(x)e:{var D=r;c=c.split(".");for(var q=0;q<c.length-1;q++){var de=c[q];if(!(de in D))break e;D=D[de]}c=c[c.length-1],q=D[c],x=x(q),x!=q&&x!=null&&e(D,c,{configurable:!0,writable:!0,value:x})}}function o(c,x){c instanceof String&&(c+="");var D=0,q=!1,de={next:function(){if(!q&&D<c.length){var Se=D++;return{value:x(Se,c[Se]),done:!1}}return q=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}i("Array.prototype.values",function(c){return c||function(){return o(this,function(x,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var x=typeof c;return x=x!="object"?x:c?Array.isArray(c)?"array":x:"null",x=="array"||x=="object"&&typeof c.length=="number"}function h(c){var x=typeof c;return x=="object"&&c!=null||x=="function"}function d(c,x,D){return c.call.apply(c.bind,arguments)}function m(c,x,D){if(!c)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,q),c.apply(x,de)}}return function(){return c.apply(x,arguments)}}function g(c,x,D){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,g.apply(null,arguments)}function p(c,x){var D=Array.prototype.slice.call(arguments,1);return function(){var q=D.slice();return q.push.apply(q,arguments),c.apply(this,q)}}function P(c,x){function D(){}D.prototype=x.prototype,c.aa=x.prototype,c.prototype=new D,c.prototype.constructor=c,c.Qb=function(q,de,Se){for(var Oe=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)Oe[gt-2]=arguments[gt];return x.prototype[de].apply(q,Oe)}}function N(c){const x=c.length;if(0<x){const D=Array(x);for(let q=0;q<x;q++)D[q]=c[q];return D}return[]}function L(c,x){for(let D=1;D<arguments.length;D++){const q=arguments[D];if(l(q)){const de=c.length||0,Se=q.length||0;c.length=de+Se;for(let Oe=0;Oe<Se;Oe++)c[de+Oe]=q[Oe]}else c.push(q)}}class w{constructor(x,D){this.i=x,this.j=D,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function y(c){return/^[\s\xa0]*$/.test(c)}function A(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function F(c){return F[" "](c),c}F[" "]=function(){};var V=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function z(c,x,D){for(const q in c)x.call(D,c[q],q,c)}function C(c,x){for(const D in c)x.call(void 0,c[D],D,c)}function b(c){const x={};for(const D in c)x[D]=c[D];return x}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,x){let D,q;for(let de=1;de<arguments.length;de++){q=arguments[de];for(D in q)c[D]=q[D];for(let Se=0;Se<T.length;Se++)D=T[Se],Object.prototype.hasOwnProperty.call(q,D)&&(c[D]=q[D])}}function E(c){var x=1;c=c.split(":");const D=[];for(;0<x&&c.length;)D.push(c.shift()),x--;return c.length&&D.push(c.join(":")),D}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Y;let x=null;return c.g&&(x=c.g,c.g=c.g.next,c.g||(c.h=null),x.next=null),x}class K{constructor(){this.h=this.g=null}add(x,D){const q=ce.get();q.set(x,D),this.h?this.h.next=q:this.g=q,this.h=q}}var ce=new w(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(x,D){this.h=x,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let J,Q=!1,Y=new K,oe=()=>{const c=a.Promise.resolve(void 0);J=()=>{c.then(ve)}};var ve=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(D){S(D)}var x=ce;x.j(c),100>x.h&&(x.h++,c.next=x.g,x.g=c)}Q=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(c,x){this.type=c,this.g=this.target=x,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,x=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const D=()=>{};a.addEventListener("test",D,x),a.removeEventListener("test",D,x)}catch{}return c}();function ne(c,x){if(H.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var D=this.type=c.type,q=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=x,x=c.relatedTarget){if(V){e:{try{F(x.nodeName);var de=!0;break e}catch{}de=!1}de||(x=null)}}else D=="mouseover"?x=c.fromElement:D=="mouseout"&&(x=c.toElement);this.relatedTarget=x,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ne.aa.h.call(this)}}P(ne,H);var ie={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),ye=0;function we(c,x,D,q,de){this.listener=c,this.proxy=null,this.src=x,this.type=D,this.capture=!!q,this.ha=de,this.key=++ye,this.da=this.fa=!1}function Re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c){this.src=c,this.g={},this.h=0}ke.prototype.add=function(c,x,D,q,de){var Se=c.toString();c=this.g[Se],c||(c=this.g[Se]=[],this.h++);var Oe=Ve(c,x,q,de);return-1<Oe?(x=c[Oe],D||(x.fa=!1)):(x=new we(x,this.src,Se,!!q,de),x.fa=D,c.push(x)),x};function Me(c,x){var D=x.type;if(D in c.g){var q=c.g[D],de=Array.prototype.indexOf.call(q,x,void 0),Se;(Se=0<=de)&&Array.prototype.splice.call(q,de,1),Se&&(Re(x),c.g[D].length==0&&(delete c.g[D],c.h--))}}function Ve(c,x,D,q){for(var de=0;de<c.length;++de){var Se=c[de];if(!Se.da&&Se.listener==x&&Se.capture==!!D&&Se.ha==q)return de}return-1}var it="closure_lm_"+(1e6*Math.random()|0),fe={};function Z(c,x,D,q,de){if(Array.isArray(x)){for(var Se=0;Se<x.length;Se++)Z(c,x[Se],D,q,de);return null}return D=ht(D),c&&c[pe]?c.K(x,D,h(q)?!!q.capture:!!q,de):Je(c,x,D,!1,q,de)}function Je(c,x,D,q,de,Se){if(!x)throw Error("Invalid event type");var Oe=h(de)?!!de.capture:!!de,gt=tt(c);if(gt||(c[it]=gt=new ke(c)),D=gt.add(x,D,q,Oe,Se),D.proxy)return D;if(q=ze(),D.proxy=q,q.src=c,q.listener=D,c.addEventListener)X||(de=Oe),de===void 0&&(de=!1),c.addEventListener(x.toString(),q,de);else if(c.attachEvent)c.attachEvent(Be(x.toString()),q);else if(c.addListener&&c.removeListener)c.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return D}function ze(){function c(D){return x.call(c.src,c.listener,D)}const x=Ue;return c}function Ce(c,x,D,q,de){if(Array.isArray(x))for(var Se=0;Se<x.length;Se++)Ce(c,x[Se],D,q,de);else q=h(q)?!!q.capture:!!q,D=ht(D),c&&c[pe]?(c=c.i,x=String(x).toString(),x in c.g&&(Se=c.g[x],D=Ve(Se,D,q,de),-1<D&&(Re(Se[D]),Array.prototype.splice.call(Se,D,1),Se.length==0&&(delete c.g[x],c.h--)))):c&&(c=tt(c))&&(x=c.g[x.toString()],c=-1,x&&(c=Ve(x,D,q,de)),(D=-1<c?x[c]:null)&&Fe(D))}function Fe(c){if(typeof c!="number"&&c&&!c.da){var x=c.src;if(x&&x[pe])Me(x.i,c);else{var D=c.type,q=c.proxy;x.removeEventListener?x.removeEventListener(D,q,c.capture):x.detachEvent?x.detachEvent(Be(D),q):x.addListener&&x.removeListener&&x.removeListener(q),(D=tt(x))?(Me(D,c),D.h==0&&(D.src=null,x[it]=null)):Re(c)}}}function Be(c){return c in fe?fe[c]:fe[c]="on"+c}function Ue(c,x){if(c.da)c=!0;else{x=new ne(x,this);var D=c.listener,q=c.ha||c.src;c.fa&&Fe(c),c=D.call(q,x)}return c}function tt(c){return c=c[it],c instanceof ke?c:null}var st="__closure_events_fn_"+(1e9*Math.random()>>>0);function ht(c){return typeof c=="function"?c:(c[st]||(c[st]=function(x){return c.handleEvent(x)}),c[st])}function Ze(){O.call(this),this.i=new ke(this),this.M=this,this.F=null}P(Ze,O),Ze.prototype[pe]=!0,Ze.prototype.removeEventListener=function(c,x,D,q){Ce(this,c,x,D,q)};function rt(c,x){var D,q=c.F;if(q)for(D=[];q;q=q.F)D.push(q);if(c=c.M,q=x.type||x,typeof x=="string")x=new H(x,c);else if(x instanceof H)x.target=x.target||c;else{var de=x;x=new H(q,c),R(x,de)}if(de=!0,D)for(var Se=D.length-1;0<=Se;Se--){var Oe=x.g=D[Se];de=St(Oe,q,!0,x)&&de}if(Oe=x.g=c,de=St(Oe,q,!0,x)&&de,de=St(Oe,q,!1,x)&&de,D)for(Se=0;Se<D.length;Se++)Oe=x.g=D[Se],de=St(Oe,q,!1,x)&&de}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var c=this.i,x;for(x in c.g){for(var D=c.g[x],q=0;q<D.length;q++)Re(D[q]);delete c.g[x],c.h--}}this.F=null},Ze.prototype.K=function(c,x,D,q){return this.i.add(String(c),x,!1,D,q)},Ze.prototype.L=function(c,x,D,q){return this.i.add(String(c),x,!0,D,q)};function St(c,x,D,q){if(x=c.i.g[String(x)],!x)return!0;x=x.concat();for(var de=!0,Se=0;Se<x.length;++Se){var Oe=x[Se];if(Oe&&!Oe.da&&Oe.capture==D){var gt=Oe.listener,xt=Oe.ha||Oe.src;Oe.fa&&Me(c.i,Oe),de=gt.call(xt,q)!==!1&&de}}return de&&!q.defaultPrevented}function nt(c,x,D){if(typeof c=="function")D&&(c=g(c,D));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(c,x||0)}function pt(c){c.g=nt(()=>{c.g=null,c.i&&(c.i=!1,pt(c))},c.l);const x=c.h;c.h=null,c.m.apply(null,x)}class He extends O{constructor(x,D){super(),this.m=x,this.l=D,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gn(c){O.call(this),this.h=c,this.g={}}P(gn,O);var Tt=[];function Ur(c){z(c.g,function(x,D){this.g.hasOwnProperty(D)&&Fe(x)},c),c.g={}}gn.prototype.N=function(){gn.aa.N.call(this),Ur(this)},gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=a.JSON.stringify,Yt=a.JSON.parse,Pi=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nt(){}Nt.prototype.h=null;function wo(c){return c.h||(c.h=c.i())}function tn(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){H.call(this,"d")}P(si,H);function Xt(){H.call(this,"c")}P(Xt,H);var at={},Lt=null;function Ti(){return Lt=Lt||new Ze}at.La="serverreachability";function Dn(c){H.call(this,at.La,c)}P(Dn,H);function dr(c){const x=Ti();rt(x,new Dn(x))}at.STAT_EVENT="statevent";function ai(c,x){H.call(this,at.STAT_EVENT,c),this.stat=x}P(ai,H);function Qe(c){const x=Ti();rt(x,new ai(x,c))}at.Ma="timingevent";function zr(c,x){H.call(this,at.Ma,c),this.size=x}P(zr,H);function pr(c,x){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},x)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function xn(c,x,D,q,de,Se){c.info(function(){if(c.g)if(Se)for(var Oe="",gt=Se.split("&"),xt=0;xt<gt.length;xt++){var vt=gt[xt].split("=");if(1<vt.length){var Mt=vt[0];vt=vt[1];var Gt=Mt.split("_");Oe=2<=Gt.length&&Gt[1]=="type"?Oe+(Mt+"="+vt+"&"):Oe+(Mt+"=redacted&")}}else Oe=null;else Oe=Se;return"XMLHTTP REQ ("+q+") [attempt "+de+"]: "+x+`
`+D+`
`+Oe})}function vn(c,x,D,q,de,Se,Oe){c.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+de+"]: "+x+`
`+D+`
`+Se+" "+Oe})}function On(c,x,D,q){c.info(function(){return"XMLHTTP TEXT ("+x+"): "+Wi(c,D)+(q?" "+q:"")})}function Ls(c,x){c.info(function(){return"TIMEOUT: "+x})}Fn.prototype.info=function(){};function Wi(c,x){if(!c.g)return x;if(!x)return null;try{var D=JSON.parse(x);if(D){for(c=0;c<D.length;c++)if(Array.isArray(D[c])){var q=D[c];if(!(2>q.length)){var de=q[1];if(Array.isArray(de)&&!(1>de.length)){var Se=de[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(var Oe=1;Oe<de.length;Oe++)de[Oe]=""}}}}return Ft(D)}catch{return x}}var mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ir;function kr(){}P(kr,Nt),kr.prototype.g=function(){return new XMLHttpRequest},kr.prototype.i=function(){return{}},Ir=new kr;function En(c,x,D,q){this.j=c,this.i=x,this.l=D,this.R=q||1,this.U=new gn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var _o={},bo={};function So(c,x,D){c.L=1,c.v=es(Lr(x)),c.m=D,c.P=!0,Qo(c,null)}function Qo(c,x){c.F=Date.now(),Rs(c),c.A=Lr(c.v);var D=c.A,q=c.R;Array.isArray(q)||(q=[String(q)]),ft(D.i,"t",q),c.C=0,D=c.j.J,c.h=new li,c.g=j(c.j,D?x:null,!c.m),0<c.O&&(c.M=new He(g(c.Y,c,c.g),c.O)),x=c.U,D=c.g,q=c.ca;var de="readystatechange";Array.isArray(de)||(de&&(Tt[0]=de.toString()),de=Tt);for(var Se=0;Se<de.length;Se++){var Oe=Z(D,de[Se],q||x.handleEvent,!1,x.h||x);if(!Oe)break;x.g[Oe.key]=Oe}x=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,x)):(c.u="GET",c.g.ea(c.A,c.u,null,x)),dr(),xn(c.i,c.u,c.A,c.l,c.R,c.m)}En.prototype.ca=function(c){c=c.target;const x=this.M;x&&qn(c)==3?x.j():this.Y(c)},En.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=qn(this.g);var x=this.g.Ba();const eo=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||Gt!=4||x==7||(x==8||0>=eo?dr(3):dr(2)),Ao(this);var D=this.g.Z();this.X=D;t:if(Yo(this)){var q=au(this.g);c="";var de=q.length,Se=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),xo(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(x=0;x<de;x++)this.h.h=!0,c+=this.h.i.decode(q[x],{stream:!(Se&&x==de-1)});q.length=0,this.h.g+=c,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=D==200,vn(this.i,this.u,this.A,this.l,this.R,Gt,D),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,xt=this.g;if((gt=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(gt)){var vt=gt;break t}}vt=null}if(D=vt)On(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xo(this,D);else{this.o=!1,this.s=3,Qe(12),Gi(this),xo(this);break e}}if(this.P){D=!0;let ir;for(;!this.J&&this.C<Oe.length;)if(ir=Jl(this,Oe),ir==bo){Gt==4&&(this.s=4,Qe(14),D=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==_o){this.s=4,Qe(15),On(this.i,this.l,Oe,"[Invalid Chunk]"),D=!1;break}else On(this.i,this.l,ir,null),Xo(this,ir);if(Yo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||Oe.length!=0||this.h.h||(this.s=1,Qe(16),D=!1),this.o=this.o&&D,!D)On(this.i,this.l,Oe,"[Invalid Chunked Response]"),Gi(this),xo(this);else if(0<Oe.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),Gs(Mt),Mt.M=!0,Qe(11))}}else On(this.i,this.l,Oe,null),Xo(this,Oe);Gt==4&&Gi(this),this.o&&!this.J&&(Gt==4?No(this.j,this):(this.o=!1,Rs(this)))}else To(this.g),D==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),Gi(this),xo(this)}}}catch{}finally{}};function Yo(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Jl(c,x){var D=c.C,q=x.indexOf(`
`,D);return q==-1?bo:(D=Number(x.substring(D,q)),isNaN(D)?_o:(q+=1,q+D>x.length?bo:(x=x.slice(q,q+D),c.C=q+D,x)))}En.prototype.cancel=function(){this.J=!0,Gi(this)};function Rs(c){c.S=Date.now()+c.I,Zl(c,c.I)}function Zl(c,x){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pr(g(c.ba,c),x)}function Ao(c){c.B&&(a.clearTimeout(c.B),c.B=null)}En.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ls(this.i,this.A),this.L!=2&&(dr(),Qe(17)),Gi(this),this.s=2,xo(this)):Zl(this,this.S-c)};function xo(c){c.j.G==0||c.J||No(c.j,c)}function Gi(c){Ao(c);var x=c.M;x&&typeof x.ma=="function"&&x.ma(),c.M=null,Ur(c.U),c.g&&(x=c.g,c.g=null,x.abort(),x.ma())}function Xo(c,x){try{var D=c.j;if(D.G!=0&&(D.g==c||Xa(D.h,c))){if(!c.K&&Xa(D.h,c)&&D.G==3){try{var q=D.Da.g.parse(x)}catch{q=null}if(Array.isArray(q)&&q.length==3){var de=q;if(de[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<c.F)Zi(D),qs(D);else break e;os(D),Qe(18)}}else D.za=de[1],0<D.za-D.T&&37500>de[2]&&D.F&&D.v==0&&!D.C&&(D.C=pr(g(D.Za,D),6e3));if(1>=Jo(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else gr(D,11)}else if((c.K||D.g==c)&&Zi(D),!y(x))for(de=D.Da.g.parse(x),x=0;x<de.length;x++){let vt=de[x];if(D.T=vt[0],vt=vt[1],D.G==2)if(vt[0]=="c"){D.K=vt[1],D.ia=vt[2];const Mt=vt[3];Mt!=null&&(D.la=Mt,D.j.info("VER="+D.la));const Gt=vt[4];Gt!=null&&(D.Aa=Gt,D.j.info("SVER="+D.Aa));const eo=vt[5];eo!=null&&typeof eo=="number"&&0<eo&&(q=1.5*eo,D.L=q,D.j.info("backChannelRequestTimeoutMs_="+q)),q=D;const ir=c.g;if(ir){const Io=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Io){var Se=q.h;Se.g||Io.indexOf("spdy")==-1&&Io.indexOf("quic")==-1&&Io.indexOf("h2")==-1||(Se.j=Se.l,Se.g=new Set,Se.h&&(nn(Se,Se.h),Se.h=null))}if(q.D){const ko=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;ko&&(q.ya=ko,Ut(q.I,q.D,ko))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-c.F,D.j.info("Handshake RTT: "+D.R+"ms")),q=D;var Oe=c;if(q.qa=v(q,q.J?q.ia:null,q.W),Oe.K){Ja(q.h,Oe);var gt=Oe,xt=q.L;xt&&(gt.I=xt),gt.B&&(Ao(gt),Rs(gt)),q.g=Oe}else Ws(q);0<D.i.length&&$s(D)}else vt[0]!="stop"&&vt[0]!="close"||gr(D,7);else D.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?gr(D,7):Ji(D):vt[0]!="noop"&&D.l&&D.l.ta(vt),D.v=0)}}dr(4)}catch{}}var kc=class{constructor(c,x){this.g=c,this.map=x}};function Ya(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eu(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Jo(c){return c.h?1:c.g?c.g.size:0}function Xa(c,x){return c.h?c.h==x:c.g?c.g.has(x):!1}function nn(c,x){c.g?c.g.add(x):c.h=x}function Ja(c,x){c.h&&c.h==x?c.h=null:c.g&&c.g.has(x)&&c.g.delete(x)}Ya.prototype.cancel=function(){if(this.i=Za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Za(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let x=c.i;for(const D of c.g.values())x=x.concat(D.D);return x}return N(c.i)}function tu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var x=[],D=c.length,q=0;q<D;q++)x.push(c[q]);return x}x=[],D=0;for(q in c)x[D++]=c[q];return x}function el(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var x=[];c=c.length;for(var D=0;D<c;D++)x.push(D);return x}x=[],D=0;for(const q in c)x[D++]=q;return x}}}function nu(c,x){if(c.forEach&&typeof c.forEach=="function")c.forEach(x,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,x,void 0);else for(var D=el(c),q=tu(c),de=q.length,Se=0;Se<de;Se++)x.call(void 0,q[Se],D&&D[Se],c)}var $r=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(c,x){if(c){c=c.split("&");for(var D=0;D<c.length;D++){var q=c[D].indexOf("="),de=null;if(0<=q){var Se=c[D].substring(0,q);de=c[D].substring(q+1)}else Se=c[D];x(Se,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function yn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yn){this.h=c.h,Zo(this,c.j),this.o=c.o,this.g=c.g,Fs(this,c.s),this.l=c.l;var x=c.i,D=new Eo;D.i=x.i,x.g&&(D.g=new Map(x.g),D.h=x.h),tl(this,D),this.m=c.m}else c&&(x=String(c).match($r))?(this.h=!1,Zo(this,x[1]||"",!0),this.o=ts(x[2]||""),this.g=ts(x[3]||"",!0),Fs(this,x[4]),this.l=ts(x[5]||"",!0),tl(this,x[6]||"",!0),this.m=ts(x[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}yn.prototype.toString=function(){var c=[],x=this.j;x&&c.push(Ki(x,ru,!0),":");var D=this.g;return(D||x=="file")&&(c.push("//"),(x=this.o)&&c.push(Ki(x,ru,!0),"@"),c.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&c.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&c.push("/"),c.push(Ki(D,D.charAt(0)=="/"?Qi:Rc,!0))),(D=this.i.toString())&&c.push("?",D),(D=this.m)&&c.push("#",Ki(D,js)),c.join("")};function Lr(c){return new yn(c)}function Zo(c,x,D){c.j=D?ts(x,!0):x,c.j&&(c.j=c.j.replace(/:$/,""))}function Fs(c,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);c.s=x}else c.s=null}function tl(c,x,D){x instanceof Eo?(c.i=x,Dc(c.i,c.h)):(D||(x=Ki(x,Os)),c.i=new Eo(x,c.h))}function Ut(c,x,D){c.i.set(x,D)}function es(c){return Ut(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ts(c,x){return c?x?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ki(c,x,D){return typeof c=="string"?(c=encodeURI(c).replace(x,Lc),D&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ru=/[#\/\?@]/g,Rc=/[#\?:]/g,Qi=/[#\?]/g,Os=/[#\?@]/g,js=/#/g;function Eo(c,x){this.h=this.g=null,this.i=c||null,this.j=!!x}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ds(c.i,function(x,D){c.add(decodeURIComponent(x.replace(/\+/g," ")),D)}))}t=Eo.prototype,t.add=function(c,x){rn(this),this.i=null,c=Po(this,c);var D=this.g.get(c);return D||this.g.set(c,D=[]),D.push(x),this.h+=1,this};function iu(c,x){rn(c),x=Po(c,x),c.g.has(x)&&(c.i=null,c.h-=c.g.get(x).length,c.g.delete(x))}function nl(c,x){return rn(c),x=Po(c,x),c.g.has(x)}t.forEach=function(c,x){rn(this),this.g.forEach(function(D,q){D.forEach(function(de){c.call(x,de,q,this)},this)},this)},t.na=function(){rn(this);const c=Array.from(this.g.values()),x=Array.from(this.g.keys()),D=[];for(let q=0;q<x.length;q++){const de=c[q];for(let Se=0;Se<de.length;Se++)D.push(x[q])}return D},t.V=function(c){rn(this);let x=[];if(typeof c=="string")nl(this,c)&&(x=x.concat(this.g.get(Po(this,c))));else{c=Array.from(this.g.values());for(let D=0;D<c.length;D++)x=x.concat(c[D])}return x},t.set=function(c,x){return rn(this),this.i=null,c=Po(this,c),nl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[x]),this.h+=1,this},t.get=function(c,x){return c?(c=this.V(c),0<c.length?String(c[0]):x):x};function ft(c,x,D){iu(c,x),0<D.length&&(c.i=null,c.g.set(Po(c,x),N(D)),c.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],x=Array.from(this.g.keys());for(var D=0;D<x.length;D++){var q=x[D];const Se=encodeURIComponent(String(q)),Oe=this.V(q);for(q=0;q<Oe.length;q++){var de=Se;Oe[q]!==""&&(de+="="+encodeURIComponent(String(Oe[q]))),c.push(de)}}return this.i=c.join("&")};function Po(c,x){return x=String(x),c.j&&(x=x.toLowerCase()),x}function Dc(c,x){x&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(D,q){var de=q.toLowerCase();q!=de&&(iu(this,q),ft(this,de,D))},c)),c.j=x}function Ci(c,x){const D=new Fn;if(a.Image){const q=new Image;q.onload=p(ui,D,"TestLoadImage: loaded",!0,x,q),q.onerror=p(ui,D,"TestLoadImage: error",!1,x,q),q.onabort=p(ui,D,"TestLoadImage: abort",!1,x,q),q.ontimeout=p(ui,D,"TestLoadImage: timeout",!1,x,q),a.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=c}else x(!1)}function ou(c,x){const D=new Fn,q=new AbortController,de=setTimeout(()=>{q.abort(),ui(D,"TestPingServer: timeout",!1,x)},1e4);fetch(c,{signal:q.signal}).then(Se=>{clearTimeout(de),Se.ok?ui(D,"TestPingServer: ok",!0,x):ui(D,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(de),ui(D,"TestPingServer: error",!1,x)})}function ui(c,x,D,q,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),q(D)}catch{}}function Ms(){this.g=new Pi}function rl(c,x,D){const q=D||"";try{nu(c,function(de,Se){let Oe=de;h(de)&&(Oe=Ft(de)),x.push(q+Se+"="+encodeURIComponent(Oe))})}catch(de){throw x.push(q+"type="+encodeURIComponent("_badmap")),de}}function Vs(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Vs,Nt),Vs.prototype.g=function(){return new Bs(this.l,this.j)},Vs.prototype.i=function(c){return function(){return c}}({});function Bs(c,x){Ze.call(this),this.D=c,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Bs,Ze),t=Bs.prototype,t.open=function(c,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=x,this.readyState=1,ci(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(x.body=c),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yi(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;su(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function su(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var x=c.value?c.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!c.done}))&&(this.response=this.responseText+=x)}c.done?Yi(this):ci(this),this.readyState==3&&su(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Yi(this))},t.Qa=function(c){this.g&&(this.response=c,Yi(this))},t.ga=function(){this.g&&Yi(this)};function Yi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ci(c)}t.setRequestHeader=function(c,x){this.u.append(c,x)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],x=this.h.entries();for(var D=x.next();!D.done;)D=D.value,c.push(D[0]+": "+D[1]),D=x.next();return c.join(`\r
`)};function ci(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xi(c){let x="";return z(c,function(D,q){x+=q,x+=":",x+=D,x+=`\r
`}),x}function il(c,x,D){e:{for(q in D){var q=!1;break e}q=!0}q||(D=Xi(D),typeof c=="string"?D!=null&&encodeURIComponent(String(D)):Ut(c,x,D))}function jt(c){Ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(jt,Ze);var ol=/^https?$/i,Us=["POST","PUT"];t=jt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,x,D,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);x=x?x.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ir.g(),this.v=this.o?wo(this.o):wo(Ir),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(x,String(c),!0),this.B=!1}catch(Se){sl(this,Se);return}if(c=D||"",D=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var de in q)D.set(de,q[de]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const Se of q.keys())D.set(Se,q.get(Se));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(D.keys()).find(Se=>Se.toLowerCase()=="content-type"),de=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Us,x,void 0))||q||de||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Se,Oe]of D)this.g.setRequestHeader(Se,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hi(this),this.u=!0,this.g.send(c),this.u=!1}catch(Se){sl(this,Se)}};function sl(c,x){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=x,c.m=5,al(c),ns(c)}function al(c){c.A||(c.A=!0,rt(c,"complete"),rt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,rt(this,"complete"),rt(this,"abort"),ns(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ll(this):this.bb())},t.bb=function(){ll(this)};function ll(c){if(c.h&&typeof s<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)nt(c.Ea,0,c);else if(rt(c,"readystatechange"),qn(c)==4){c.h=!1;try{const Oe=c.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var D;if(!(D=x)){var q;if(q=Oe===0){var de=String(c.D).match($r)[1]||null;!de&&a.self&&a.self.location&&(de=a.self.location.protocol.slice(0,-1)),q=!ol.test(de?de.toLowerCase():"")}D=q}if(D)rt(c,"complete"),rt(c,"success");else{c.m=6;try{var Se=2<qn(c)?c.g.statusText:""}catch{Se=""}c.l=Se+" ["+c.Z()+"]",al(c)}}finally{ns(c)}}}}function ns(c,x){if(c.g){hi(c);const D=c.g,q=c.v[0]?()=>{}:null;c.g=null,c.v=null,x||rt(c,"ready");try{D.onreadystatechange=q}catch{}}}function hi(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var x=this.g.responseText;return c&&x.indexOf(c)==0&&(x=x.substring(c.length)),Yt(x)}};function au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function To(c){const x={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<c.length;q++){if(y(c[q]))continue;var D=E(c[q]);const de=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const Se=x[de]||[];x[de]=Se,Se.push(D)}C(x,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(c,x,D){return D&&D.internalChannelParams&&D.internalChannelParams[c]||x}function zs(c){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,c),this.cb=rr("retryDelaySeedMs",1e4,c),this.Wa=rr("forwardChannelMaxRetries",2,c),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ya(c&&c.concurrentRequestLimit),this.Da=new Ms,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zs.prototype,t.la=8,t.G=1,t.connect=function(c,x,D,q){Qe(0),this.W=c,this.H=x||{},D&&q!==void 0&&(this.H.OSID=D,this.H.OAID=q),this.F=this.X,this.I=v(this,null,this.W),$s(this)};function Ji(c){if(rs(c),c.G==3){var x=c.U++,D=Lr(c.I);if(Ut(D,"SID",c.K),Ut(D,"RID",x),Ut(D,"TYPE","terminate"),Co(c,D),x=new En(c,c.j,x),x.L=2,x.v=es(Lr(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!D&&a.Image&&(new Image().src=x.v,D=!0),D||(x.g=j(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Rs(x)}Qs(c)}function qs(c){c.g&&(Gs(c),c.g.cancel(),c.g=null)}function rs(c){qs(c),c.u&&(a.clearTimeout(c.u),c.u=null),Zi(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function $s(c){if(!eu(c.h)&&!c.s){c.s=!0;var x=c.Ga;J||oe(),Q||(J(),Q=!0),Y.add(x,c),c.B=0}}function ul(c,x){return Jo(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=x.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pr(g(c.Ga,c,x),Ks(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const de=new En(this,this.j,c);let Se=this.o;if(this.S&&(Se?(Se=b(Se),R(Se,this.S)):Se=this.S),this.m!==null||this.O||(de.H=Se,Se=null),this.P)e:{for(var x=0,D=0;D<this.i.length;D++){t:{var q=this.i[D];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(x+=q,4096<x){x=D;break e}if(x===4096||D===this.i.length-1){x=D+1;break e}}x=1e3}else x=1e3;x=is(this,de,x),D=Lr(this.I),Ut(D,"RID",c),Ut(D,"CVER",22),this.D&&Ut(D,"X-HTTP-Session-Id",this.D),Co(this,D),Se&&(this.O?x="headers="+encodeURIComponent(String(Xi(Se)))+"&"+x:this.m&&il(D,this.m,Se)),nn(this.h,de),this.Ua&&Ut(D,"TYPE","init"),this.P?(Ut(D,"$req",x),Ut(D,"SID","null"),de.T=!0,So(de,D,null)):So(de,D,x),this.G=2}}else this.G==3&&(c?Hs(this,c):this.i.length==0||eu(this.h)||Hs(this))};function Hs(c,x){var D;x?D=x.l:D=c.U++;const q=Lr(c.I);Ut(q,"SID",c.K),Ut(q,"RID",D),Ut(q,"AID",c.T),Co(c,q),c.m&&c.o&&il(q,c.m,c.o),D=new En(c,c.j,D,c.B+1),c.m===null&&(D.H=c.o),x&&(c.i=x.D.concat(c.i)),x=is(c,D,1e3),D.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),nn(c.h,D),So(D,q,x)}function Co(c,x){c.H&&z(c.H,function(D,q){Ut(x,q,D)}),c.l&&nu({},function(D,q){Ut(x,q,D)})}function is(c,x,D){D=Math.min(c.i.length,D);var q=c.l?g(c.l.Na,c.l,c):null;e:{var de=c.i;let Se=-1;for(;;){const Oe=["count="+D];Se==-1?0<D?(Se=de[0].g,Oe.push("ofs="+Se)):Se=0:Oe.push("ofs="+Se);let gt=!0;for(let xt=0;xt<D;xt++){let vt=de[xt].g;const Mt=de[xt].map;if(vt-=Se,0>vt)Se=Math.max(0,de[xt].g-100),gt=!1;else try{rl(Mt,Oe,"req"+vt+"_")}catch{q&&q(Mt)}}if(gt){q=Oe.join("&");break e}}}return c=c.i.splice(0,D),x.D=c,q}function Ws(c){if(!c.g&&!c.u){c.Y=1;var x=c.Fa;J||oe(),Q||(J(),Q=!0),Y.add(x,c),c.v=0}}function os(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pr(g(c.Fa,c),Ks(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pr(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),qs(this),lu(this))};function Gs(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function lu(c){c.g=new En(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var x=Lr(c.qa);Ut(x,"RID","rpc"),Ut(x,"SID",c.K),Ut(x,"AID",c.T),Ut(x,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ut(x,"TO",c.ja),Ut(x,"TYPE","xmlhttp"),Co(c,x),c.m&&c.o&&il(x,c.m,c.o),c.L&&(c.g.I=c.L);var D=c.g;c=c.ia,D.L=1,D.v=es(Lr(x)),D.m=null,D.P=!0,Qo(D,c)}t.Za=function(){this.C!=null&&(this.C=null,qs(this),os(this),Qe(19))};function Zi(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function No(c,x){var D=null;if(c.g==x){Zi(c),Gs(c),c.g=null;var q=2}else if(Xa(c.h,x))D=x.D,Ja(c.h,x),q=1;else return;if(c.G!=0){if(x.o)if(q==1){D=x.m?x.m.length:0,x=Date.now()-x.F;var de=c.B;q=Ti(),rt(q,new zr(q,D)),$s(c)}else Ws(c);else if(de=x.s,de==3||de==0&&0<x.X||!(q==1&&ul(c,x)||q==2&&os(c)))switch(D&&0<D.length&&(x=c.h,x.i=x.i.concat(D)),de){case 1:gr(c,5);break;case 4:gr(c,10);break;case 3:gr(c,6);break;default:gr(c,2)}}}function Ks(c,x){let D=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(D*=2),D*x}function gr(c,x){if(c.j.info("Error code "+x),x==2){var D=g(c.fb,c),q=c.Xa;const de=!q;q=new yn(q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zo(q,"https"),es(q),de?Ci(q.toString(),D):ou(q.toString(),D)}else Qe(2);c.G=0,c.l&&c.l.sa(x),Qs(c),rs(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function Qs(c){if(c.G=0,c.ka=[],c.l){const x=Za(c.h);(x.length!=0||c.i.length!=0)&&(L(c.ka,x),L(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function v(c,x,D){var q=D instanceof yn?Lr(D):new yn(D);if(q.g!="")x&&(q.g=x+"."+q.g),Fs(q,q.s);else{var de=a.location;q=de.protocol,x=x?x+"."+de.hostname:de.hostname,de=+de.port;var Se=new yn(null);q&&Zo(Se,q),x&&(Se.g=x),de&&Fs(Se,de),D&&(Se.l=D),q=Se}return D=c.D,x=c.ya,D&&x&&Ut(q,D,x),Ut(q,"VER",c.la),Co(c,q),q}function j(c,x,D){if(x&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=c.Ca&&!c.pa?new jt(new Vs({eb:D})):new jt(c.pa),x.Ha(c.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function re(){}t=re.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function se(){}se.prototype.g=function(c,x){return new me(c,x)};function me(c,x){Ze.call(this),this.g=new zs(x),this.l=c,this.h=x&&x.messageUrlParams||null,c=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(c?c["X-WebChannel-Content-Type"]=x.messageContentType:c={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(c?c["X-WebChannel-Client-Profile"]=x.va:c={"X-WebChannel-Client-Profile":x.va}),this.g.S=c,(c=x&&x.Sb)&&!y(c)&&(this.g.m=c),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!y(x)&&(this.g.D=x,c=this.h,c!==null&&x in c&&(c=this.h,x in c&&delete c[x])),this.j=new $e(this)}P(me,Ze),me.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},me.prototype.close=function(){Ji(this.g)},me.prototype.o=function(c){var x=this.g;if(typeof c=="string"){var D={};D.__data__=c,c=D}else this.u&&(D={},D.__data__=Ft(c),c=D);x.i.push(new kc(x.Ya++,c)),x.G==3&&$s(x)},me.prototype.N=function(){this.g.l=null,delete this.j,Ji(this.g),delete this.g,me.aa.N.call(this)};function xe(c){si.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var x=c.__sm__;if(x){e:{for(const D in x){c=D;break e}c=void 0}(this.i=c)&&(c=this.i,x=x!==null&&c in x?x[c]:void 0),this.data=x}else this.data=c}P(xe,si);function De(){Xt.call(this),this.status=1}P(De,Xt);function $e(c){this.g=c}P($e,re),$e.prototype.ua=function(){rt(this.g,"a")},$e.prototype.ta=function(c){rt(this.g,new xe(c))},$e.prototype.sa=function(c){rt(this.g,new De)},$e.prototype.ra=function(){rt(this.g,"b")},se.prototype.createWebChannel=se.prototype.g,me.prototype.send=me.prototype.o,me.prototype.open=me.prototype.m,me.prototype.close=me.prototype.close,sb=function(){return new se},ob=function(){return Ti()},ib=at,t0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,$d=mr,qr.COMPLETE="complete",rb=qr,tn.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,hh=tn,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,nb=jt}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const O5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=new W3("@firebase/firestore");function Tu(){return Ul.logLevel}function Ke(t,...e){if(Ul.logLevel<=kt.DEBUG){const n=e.map(B2);Ul.debug(`Firestore (${Pc}): ${t}`,...n)}}function Ts(t,...e){if(Ul.logLevel<=kt.ERROR){const n=e.map(B2);Ul.error(`Firestore (${Pc}): ${t}`,...n)}}function uc(t,...e){if(Ul.logLevel<=kt.WARN){const n=e.map(B2);Ul.warn(`Firestore (${Pc}): ${t}`,...n)}}function B2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t="Unexpected state"){const e=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: `+t;throw Ts(e),new Error(e)}function Bt(t,e){t||dt()}function wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends Wl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xr.UNAUTHENTICATED))}shutdown(){}}class tN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nN{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Bt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bs,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bs)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string"),new ab(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string"),new xr(e)}}class rN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class iN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new rN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Bt(this.o===void 0);const r=o=>{o.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ke("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bt(typeof n.token=="string"),this.R=n.token,new oN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=aN(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ct(t,e){return t<e?-1:t>e?1:0}function cc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Kn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Xe(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xe(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Xe(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new Kn(0,0))}static max(){return new mt(new Kn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r){n===void 0?n=0:n>e.length&&dt(),r===void 0?r=e.length-n:r>e.length-n&&dt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class an extends nf{construct(e,n,r){return new an(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Xe(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new an(n)}static emptyPath(){return new an([])}}const lN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends nf{construct(e,n,r){return new ur(e,n,r)}static isValidIdentifier(e){return lN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ur(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Xe(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Xe(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Xe(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Xe(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ur(n)}static emptyPath(){return new ur([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(an.fromString(e))}static fromName(e){return new ot(an.fromString(e).popFirst(5))}static empty(){return new ot(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&an.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return an.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new an(e.slice()))}}function uN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=mt.fromTimestamp(r===1e9?new Kn(n+1,0):new Kn(n,r));return new Ma(i,ot.empty(),e)}function cN(t){return new Ma(t.readTime,t.key,-1)}class Ma{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ma(mt.min(),ot.empty(),-1)}static max(){return new Ma(mt.max(),ot.empty(),-1)}}function hN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ot.comparator(t.documentKey,e.documentKey),n!==0?n:Ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t){if(t.code!==Ie.FAILED_PRECONDITION||t.message!==fN)throw t;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ne((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ne?n:Ne.resolve(n)}catch(n){return Ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.reject(n)}static resolve(e){return new Ne((n,r)=>{n(e)})}static reject(e){return new Ne((n,r)=>{r(e)})}static waitFor(e){return new Ne((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Ne.resolve(!1);for(const r of e)n=n.next(i=>i?Ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Ne((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const h=l;n(e[h]).next(d=>{s[h]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new Ne((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function pN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}am.oe=-1;function lm(t){return t==null}function Cp(t){return t===0&&1/t==-1/0}function mN(t){return typeof t=="number"&&Number.isInteger(t)&&!Cp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=j5(e)),e=vN(t.get(n),e);return j5(e)}function vN(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function j5(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ka(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ub(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.comparator=e,this.root=n||lr.EMPTY}insert(e,n){return new mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}}class vd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??lr.RED,this.left=i??lr.EMPTY,this.right=o??lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new lr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return lr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1;lr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new lr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V5(this.data.getIterator())}getIteratorFrom(e){return new V5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qn(this.comparator);return n.data=e,n}}class V5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new wi([])}unionWith(e){let n=new Qn(ur.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cb("Invalid base64 string: "+o):o}}(e);return new fr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new fr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const yN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(t){if(Bt(!!t),typeof t=="string"){let e=0;const n=yN.exec(t);if(Bt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cn(t.seconds),nanos:Cn(t.nanos)}}function Cn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ba(t){return typeof t=="string"?fr.fromBase64String(t):fr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function um(t){const e=t.mapValue.fields.__previous_value__;return U2(e)?um(e):e}function rf(t){const e=Va(t.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,r,i,o,s,a,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}}class of{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new of("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof of&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U2(t)?4:bN(t)?9007199254740991:_N(t)?10:11:dt()}function Wo(t,e){if(t===e)return!0;const n=Ua(t);if(n!==Ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rf(t).isEqual(rf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Va(i.timestampValue),a=Va(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ba(i.bytesValue).isEqual(Ba(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Cn(i.geoPointValue.latitude)===Cn(o.geoPointValue.latitude)&&Cn(i.geoPointValue.longitude)===Cn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Cn(i.integerValue)===Cn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Cn(i.doubleValue),a=Cn(o.doubleValue);return s===a?Cp(s)===Cp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return cc(t.arrayValue.values||[],e.arrayValue.values||[],Wo);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(M5(s)!==M5(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Wo(s[l],a[l])))return!1;return!0}(t,e);default:return dt()}}function sf(t,e){return(t.values||[]).find(n=>Wo(n,e))!==void 0}function hc(t,e){if(t===e)return 0;const n=Ua(t),r=Ua(e);if(n!==r)return Ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Cn(o.integerValue||o.doubleValue),l=Cn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return B5(t.timestampValue,e.timestampValue);case 4:return B5(rf(t),rf(e));case 5:return Ct(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ba(o),l=Ba(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let h=0;h<a.length&&h<l.length;h++){const d=Ct(a[h],l[h]);if(d!==0)return d}return Ct(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ct(Cn(o.latitude),Cn(s.latitude));return a!==0?a:Ct(Cn(o.longitude),Cn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return U5(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,h,d;const m=o.fields||{},g=s.fields||{},p=(a=m.value)===null||a===void 0?void 0:a.arrayValue,P=(l=g.value)===null||l===void 0?void 0:l.arrayValue,N=Ct(((h=p==null?void 0:p.values)===null||h===void 0?void 0:h.length)||0,((d=P==null?void 0:P.values)===null||d===void 0?void 0:d.length)||0);return N!==0?N:U5(p,P)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===yd.mapValue&&s===yd.mapValue)return 0;if(o===yd.mapValue)return 1;if(s===yd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),h=s.fields||{},d=Object.keys(h);l.sort(),d.sort();for(let m=0;m<l.length&&m<d.length;++m){const g=Ct(l[m],d[m]);if(g!==0)return g;const p=hc(a[l[m]],h[d[m]]);if(p!==0)return p}return Ct(l.length,d.length)}(t.mapValue,e.mapValue);default:throw dt()}}function B5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ct(t,e);const n=Va(t),r=Va(e),i=Ct(n.seconds,r.seconds);return i!==0?i:Ct(n.nanos,r.nanos)}function U5(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=hc(n[i],r[i]);if(o)return o}return Ct(n.length,r.length)}function fc(t){return n0(t)}function n0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Va(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ba(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ot.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=n0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${n0(n.fields[s])}`;return i+"}"}(t.mapValue):dt()}function Hd(t){switch(Ua(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=um(t);return e?16+Hd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ba(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Hd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ka(r.fields,(o,s)=>{i+=o.length+Hd(s)}),i}(t.mapValue);default:throw dt()}}function z5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function r0(t){return!!t&&"integerValue"in t}function z2(t){return!!t&&"arrayValue"in t}function q5(t){return!!t&&"nullValue"in t}function $5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function _N(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Eh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ka(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Eh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eh(n)}setAll(e){let n=ur.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Eh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ka(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Xr(Eh(this.value))}}function hb(t){const e=[];return Ka(t.fields,(n,r)=>{const i=new ur([n]);if(Wd(r)){const o=hb(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new wi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Pr(e,0,mt.min(),mt.min(),mt.min(),Xr.empty(),0)}static newFoundDocument(e,n,r,i){return new Pr(e,1,n,mt.min(),r,i,0)}static newNoDocument(e,n){return new Pr(e,2,n,mt.min(),mt.min(),Xr.empty(),0)}static newUnknownDocument(e,n){return new Pr(e,3,n,mt.min(),mt.min(),Xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.position=e,this.inclusive=n}}function H5(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ot.comparator(ot.fromName(s.referenceValue),n.key):r=hc(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function W5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n="asc"){this.field=e,this.dir=n}}function SN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{}class zn extends fb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xN(e,n,r):n==="array-contains"?new TN(e,r):n==="in"?new CN(e,r):n==="not-in"?new NN(e,r):n==="array-contains-any"?new IN(e,r):new zn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EN(e,r):new PN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hc(n,this.value)):n!==null&&Ua(this.value)===Ua(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class go extends fb{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new go(e,n)}matches(e){return db(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function db(t){return t.op==="and"}function pb(t){return AN(t)&&db(t)}function AN(t){for(const e of t.filters)if(e instanceof go)return!1;return!0}function i0(t){if(t instanceof zn)return t.field.canonicalString()+t.op.toString()+fc(t.value);if(pb(t))return t.filters.map(e=>i0(e)).join(",");{const e=t.filters.map(n=>i0(n)).join(",");return`${t.op}(${e})`}}function mb(t,e){return t instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.field.isEqual(i.field)&&Wo(r.value,i.value)}(t,e):t instanceof go?function(r,i){return i instanceof go&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&mb(s,i.filters[a]),!0):!1}(t,e):void dt()}function gb(t){return t instanceof zn?function(n){return`${n.field.canonicalString()} ${n.op} ${fc(n.value)}`}(t):t instanceof go?function(n){return n.op.toString()+" {"+n.getFilters().map(gb).join(" ,")+"}"}(t):"Filter"}class xN extends zn{constructor(e,n,r){super(e,n,r),this.key=ot.fromName(r.referenceValue)}matches(e){const n=ot.comparator(e.key,this.key);return this.matchesComparison(n)}}class EN extends zn{constructor(e,n){super(e,"in",n),this.keys=vb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PN extends zn{constructor(e,n){super(e,"not-in",n),this.keys=vb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ot.fromName(r.referenceValue))}class TN extends zn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return z2(n)&&sf(n.arrayValue,this.value)}}class CN extends zn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sf(this.value.arrayValue,n)}}class NN extends zn{constructor(e,n){super(e,"not-in",n)}matches(e){if(sf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!sf(this.value.arrayValue,n)}}class IN extends zn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!z2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function G5(t,e=null,n=[],r=[],i=null,o=null,s=null){return new kN(t,e,n,r,i,o,s)}function q2(t){const e=wt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>i0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),lm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fc(r)).join(",")),e.ue=n}return e.ue}function $2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W5(t.startAt,e.startAt)&&W5(t.endAt,e.endAt)}function o0(t){return ot.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function LN(t,e,n,r,i,o,s,a){return new bf(t,e,n,r,i,o,s,a)}function cm(t){return new bf(t)}function K5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yb(t){return t.collectionGroup!==null}function Ph(t){const e=wt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qn(ur.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ip(o,r))}),n.has(ur.keyField().canonicalString())||e.ce.push(new Ip(ur.keyField(),r))}return e.ce}function zo(t){const e=wt(t);return e.le||(e.le=RN(e,Ph(t))),e.le}function RN(t,e){if(t.limitType==="F")return G5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ip(i.field,o)});const n=t.endAt?new Np(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Np(t.startAt.position,t.startAt.inclusive):null;return G5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function s0(t,e){const n=t.filters.concat([e]);return new bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function a0(t,e,n){return new bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hm(t,e){return $2(zo(t),zo(e))&&t.limitType===e.limitType}function wb(t){return`${q2(zo(t))}|lt:${t.limitType}`}function Cu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gb(i)).join(", ")}]`),lm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fc(i)).join(",")),`Target(${r})`}(zo(t))}; limitType=${t.limitType})`}function fm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ot.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Ph(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const h=H5(s,a,l);return s.inclusive?h<=0:h<0}(r.startAt,Ph(r),i)||r.endAt&&!function(s,a,l){const h=H5(s,a,l);return s.inclusive?h>=0:h>0}(r.endAt,Ph(r),i))}(t,e)}function DN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _b(t){return(e,n)=>{let r=!1;for(const i of Ph(t)){const o=FN(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function FN(t,e,n){const r=t.field.isKeyField()?ot.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),h=a.data.field(o);return l!==null&&h!==null?hc(l,h):dt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new mn(ot.comparator);function Cs(){return ON}const bb=new mn(ot.comparator);function fh(...t){let e=bb;for(const n of t)e=e.insert(n.key,n);return e}function Sb(t){let e=bb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Al(){return Th()}function Ab(){return Th()}function Th(){return new Gl(t=>t.toString(),(t,e)=>t.isEqual(e))}const jN=new mn(ot.comparator),MN=new Qn(ot.comparator);function Pt(...t){let e=MN;for(const n of t)e=e.add(n);return e}const VN=new Qn(Ct);function BN(){return VN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cp(e)?"-0":e}}function xb(t){return{integerValue:""+t}}function UN(t,e){return mN(e)?xb(e):H2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this._=void 0}}function zN(t,e,n){return t instanceof kp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&U2(o)&&(o=um(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof af?Pb(t,e):t instanceof lf?Tb(t,e):function(i,o){const s=Eb(i,o),a=Q5(s)+Q5(i.Pe);return r0(s)&&r0(i.Pe)?xb(a):H2(i.serializer,a)}(t,e)}function qN(t,e,n){return t instanceof af?Pb(t,e):t instanceof lf?Tb(t,e):n}function Eb(t,e){return t instanceof Lp?function(r){return r0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class kp extends dm{}class af extends dm{constructor(e){super(),this.elements=e}}function Pb(t,e){const n=Cb(e);for(const r of t.elements)n.some(i=>Wo(i,r))||n.push(r);return{arrayValue:{values:n}}}class lf extends dm{constructor(e){super(),this.elements=e}}function Tb(t,e){let n=Cb(e);for(const r of t.elements)n=n.filter(i=>!Wo(i,r));return{arrayValue:{values:n}}}class Lp extends dm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Q5(t){return Cn(t.integerValue||t.doubleValue)}function Cb(t){return z2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $N(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof af&&i instanceof af||r instanceof lf&&i instanceof lf?cc(r.elements,i.elements,Wo):r instanceof Lp&&i instanceof Lp?Wo(r.Pe,i.Pe):r instanceof kp&&i instanceof kp}(t.transform,e.transform)}class HN{constructor(e,n){this.version=e,this.transformResults=n}}class Ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pm{}function Nb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new W2(t.key,Ui.none()):new Sf(t.key,t.data,Ui.none());{const n=t.data,r=Xr.empty();let i=new Qn(ur.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qa(t.key,r,new wi(i.toArray()),Ui.none())}}function WN(t,e,n){t instanceof Sf?function(i,o,s){const a=i.value.clone(),l=X5(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qa?function(i,o,s){if(!Gd(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=X5(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Ib(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ch(t,e,n,r){return t instanceof Sf?function(o,s,a,l){if(!Gd(o.precondition,s))return a;const h=o.value.clone(),d=J5(o.fieldTransforms,l,s);return h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qa?function(o,s,a,l){if(!Gd(o.precondition,s))return a;const h=J5(o.fieldTransforms,l,s),d=s.data;return d.setAll(Ib(o)),d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,s,a){return Gd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function GN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Eb(r.transform,i||null);o!=null&&(n===null&&(n=Xr.empty()),n.set(r.field,o))}return n||null}function Y5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cc(r,i,(o,s)=>$N(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sf extends pm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qa extends pm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Ib(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function X5(t,e,n){const r=new Map;Bt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,qN(s,a,n[i]))}return r}function J5(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,zN(o,s,e))}return r}class W2 extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KN extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&WN(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ch(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ch(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ab();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Nb(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(mt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pt())}isEqual(e){return this.batchId===e.batchId&&cc(this.mutations,e.mutations,(n,r)=>Y5(n,r))&&cc(this.baseMutations,e.baseMutations,(n,r)=>Y5(n,r))}}class G2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Bt(e.mutations.length===r.length);let i=function(){return jN}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new G2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn,It;function JN(t){switch(t){default:return dt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function kb(t){if(t===void 0)return Ts("GRPC error has no .code"),Ie.UNKNOWN;switch(t){case Vn.OK:return Ie.OK;case Vn.CANCELLED:return Ie.CANCELLED;case Vn.UNKNOWN:return Ie.UNKNOWN;case Vn.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Vn.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Vn.INTERNAL:return Ie.INTERNAL;case Vn.UNAVAILABLE:return Ie.UNAVAILABLE;case Vn.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Vn.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Vn.NOT_FOUND:return Ie.NOT_FOUND;case Vn.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Vn.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Vn.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Vn.ABORTED:return Ie.ABORTED;case Vn.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Vn.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Vn.DATA_LOSS:return Ie.DATA_LOSS;default:return dt()}}(It=Vn||(Vn={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=new Cl([4294967295,4294967295],0);function Z5(t){const e=ZN().encode(t),n=new tb;return n.update(e),new Uint8Array(n.digest())}function ew(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Cl([n,r],0),new Cl([i,o],0)]}class K2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dh(`Invalid padding: ${n}`);if(r<0)throw new dh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Cl.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Cl.fromNumber(r)));return i.compare(eI)===1&&(i=new Cl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Z5(e),[r,i]=ew(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new K2(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=Z5(e),[r,i]=ew(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Af.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mm(mt.min(),i,new mn(Ct),Cs(),Pt())}}class Af{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Af(r,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Lb{constructor(e,n){this.targetId=e,this.me=n}}class Rb{constructor(e,n,r=fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tw{constructor(){this.fe=0,this.ge=nw(),this.pe=fr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pt(),n=Pt(),r=Pt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:dt()}}),new Af(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=nw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tI{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cs(),this.qe=wd(),this.Qe=wd(),this.Ke=new mn(Ct)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:dt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(o0(o))if(r===0){const s=new ot(o.path);this.We(n,s,Pr.newNoDocument(s,mt.min()))}else Bt(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,h)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ba(r).toUint8Array()}catch(l){if(l instanceof cb)return uc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new K2(s,i,o)}catch(l){return uc(l instanceof dh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&o0(a.target)){const l=new ot(a.target.path);this.st(l).has(s)||this.ot(s,l)||this.We(s,l,Pr.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Pt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const h=this.Ye(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new mm(e,n,this.Ke,this.ke,r);return this.ke=Cs(),this.qe=wd(),this.Qe=wd(),this.Ke=new mn(Ct),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new tw,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Qn(Ct),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Qn(Ct),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Ke("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new tw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function wd(){return new mn(ot.comparator)}function nw(){return new mn(ot.comparator)}const nI={asc:"ASCENDING",desc:"DESCENDING"},rI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iI={and:"AND",or:"OR"};class oI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function l0(t,e){return t.useProto3Json||lm(e)?e:{value:e}}function Rp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Db(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sI(t,e){return Rp(t,e.toTimestamp())}function qo(t){return Bt(!!t),mt.fromTimestamp(function(n){const r=Va(n);return new Kn(r.seconds,r.nanos)}(t))}function Q2(t,e){return u0(t,e).canonicalString()}function u0(t,e){const n=function(i){return new an(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Fb(t){const e=an.fromString(t);return Bt(Bb(e)),e}function c0(t,e){return Q2(t.databaseId,e.path)}function Dg(t,e){const n=Fb(e);if(n.get(1)!==t.databaseId.projectId)throw new Xe(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Xe(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ot(jb(n))}function Ob(t,e){return Q2(t.databaseId,e)}function aI(t){const e=Fb(t);return e.length===4?an.emptyPath():jb(e)}function h0(t){return new an(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jb(t){return Bt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rw(t,e,n){return{name:c0(t,e),fields:n.value.mapValue.fields}}function lI(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,d){return h.useProto3Json?(Bt(d===void 0||typeof d=="string"),fr.fromBase64String(d||"")):(Bt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),fr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(h){const d=h.code===void 0?Ie.UNKNOWN:kb(h.code);return new Xe(d,h.message||"")}(s);n=new Rb(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dg(t,r.document.name),o=qo(r.document.updateTime),s=r.document.createTime?qo(r.document.createTime):mt.min(),a=new Xr({mapValue:{fields:r.document.fields}}),l=Pr.newFoundDocument(i,o,s,a),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Kd(h,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Dg(t,r.document),o=r.readTime?qo(r.readTime):mt.min(),s=Pr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Kd([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Dg(t,r.document),o=r.removedTargetIds||[];n=new Kd([],o,i,null)}else{if(!("filter"in e))return dt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new XN(i,o),a=r.targetId;n=new Lb(a,s)}}return n}function uI(t,e){let n;if(e instanceof Sf)n={update:rw(t,e.key,e.value)};else if(e instanceof W2)n={delete:c0(t,e.key)};else if(e instanceof Qa)n={update:rw(t,e.key,e.data),updateMask:yI(e.fieldMask)};else{if(!(e instanceof KN))return dt();n={verify:c0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof kp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof af)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Lp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw dt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:sI(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:dt()}(t,e.precondition)),n}function cI(t,e){return t&&t.length>0?(Bt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?qo(i.updateTime):qo(o);return s.isEqual(mt.min())&&(s=qo(o)),new HN(s,i.transformResults||[])}(n,e))):[]}function hI(t,e){return{documents:[Ob(t,e.path)]}}function fI(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ob(t,i);const o=function(h){if(h.length!==0)return Vb(go.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:Nu(g.field),direction:mI(g.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=l0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ct:n,parent:i}}function dI(t){let e=aI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(m){const g=Mb(m);return g instanceof go&&pb(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(g=>function(P){return new Ip(Iu(P.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(m){let g;return g=typeof m=="object"?m.value:m,lm(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(m){const g=!!m.before,p=m.values||[];return new Np(p,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,p=m.values||[];return new Np(p,g)}(n.endAt)),LN(e,i,s,o,a,"F",l,h)}function pI(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Mb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Iu(n.unaryFilter.field);return zn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Iu(n.unaryFilter.field);return zn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Iu(n.unaryFilter.field);return zn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Iu(n.unaryFilter.field);return zn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(t):t.fieldFilter!==void 0?function(n){return zn.create(Iu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return go.create(n.compositeFilter.filters.map(r=>Mb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return dt()}}(n.compositeFilter.op))}(t):dt()}function mI(t){return nI[t]}function gI(t){return rI[t]}function vI(t){return iI[t]}function Nu(t){return{fieldPath:t.canonicalString()}}function Iu(t){return ur.fromServerFormat(t.fieldPath)}function Vb(t){return t instanceof zn?function(n){if(n.op==="=="){if($5(n.value))return{unaryFilter:{field:Nu(n.field),op:"IS_NAN"}};if(q5(n.value))return{unaryFilter:{field:Nu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($5(n.value))return{unaryFilter:{field:Nu(n.field),op:"IS_NOT_NAN"}};if(q5(n.value))return{unaryFilter:{field:Nu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nu(n.field),op:gI(n.op),value:n.value}}}(t):t instanceof go?function(n){const r=n.getFilters().map(i=>Vb(i));return r.length===1?r[0]:{compositeFilter:{op:vI(n.op),filters:r}}}(t):dt()}function yI(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Bb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r,i,o=mt.min(),s=mt.min(),a=fr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new _a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.ht=e}}function _I(t){const e=dI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?a0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.ln=new SI}addToCollectionParentIndex(e,n){return this.ln.add(n),Ne.resolve()}getCollectionParents(e,n){return Ne.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return Ne.resolve()}deleteFieldIndex(e,n){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,n){return Ne.resolve()}getDocumentsMatchingTarget(e,n){return Ne.resolve(null)}getIndexType(e,n){return Ne.resolve(0)}getFieldIndexes(e,n){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,n){return Ne.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,n){return Ne.resolve(Ma.min())}updateCollectionGroup(e,n,r){return Ne.resolve()}updateIndexEntries(e,n){return Ne.resolve()}}class SI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qn(an.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qn(an.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qr{static withCacheSize(e){return new Qr(e,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr.DEFAULT_COLLECTION_PERCENTILE=10,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qr.DEFAULT=new Qr(41943040,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qr.DISABLED=new Qr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new dc(0)}static Qn(){return new dc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow([t,e],[n,r]){const i=Ct(t,n);return i===0?Ct(e,r):i}class AI{constructor(e){this.Gn=e,this.buffer=new Qn(ow),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ow(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cc(n)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Tc(n)}await this.Yn(3e5)})}}class EI{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ne.resolve(am.oe);const r=new AI(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(iw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iw):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,s,a,l,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(o=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),Tu()<=kt.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${m} documents in `+(h-l)+`ms
Total Duration: ${h-d}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})))}}function PI(t,e){return new EI(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.changes=new Gl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ch(r.mutation,i,wi.empty(),Kn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pt()){const i=Al();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=fh();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Al();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Cs();const s=Th(),a=function(){return Th()}();return n.forEach((l,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof Qa)?o=o.insert(h.key,h):d!==void 0?(s.set(h.key,d.mutation.getFieldMask()),Ch(d.mutation,h,d.mutation.getFieldMask(),Kn.now())):s.set(h.key,wi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((h,d)=>s.set(h,d)),n.forEach((h,d)=>{var m;return a.set(h,new CI(d,(m=s.get(h))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Th();let i=new mn((s,a)=>s-a),o=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let d=r.get(l)||wi.empty();d=a.applyToLocalView(h,d),r.set(l,d);const m=(i.get(a.batchId)||Pt()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,d=l.value,m=Ab();d.forEach(g=>{if(!o.has(g)){const p=Nb(n.get(g),r.get(g));p!==null&&m.set(g,p),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,m))}return Ne.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ne.resolve(Al());let a=-1,l=o;return s.next(h=>Ne.forEach(h,(d,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(d)?Ne.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,l,h,Pt())).next(d=>({batchId:a,changes:Sb(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ot(n)).next(r=>{let i=fh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=fh();return this.indexManager.getCollectionParents(e,o).next(a=>Ne.forEach(a,l=>{const h=function(m,g){return new bf(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(d=>{d.forEach((m,g)=>{s=s.insert(m,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,h)=>{const d=h.getKey();s.get(d)===null&&(s=s.insert(d,Pr.newInvalidDocument(d)))});let a=fh();return s.forEach((l,h)=>{const d=o.get(l);d!==void 0&&Ch(d.mutation,h,wi.empty(),Kn.now()),fm(n,h)&&(a=a.insert(l,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return Ne.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qo(i.createTime)}}(n)),Ne.resolve()}getNamedQuery(e,n){return Ne.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:_I(i.bundledQuery),readTime:qo(i.readTime)}}(n)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.overlays=new mn(ot.comparator),this.Er=new Map}getOverlay(e,n){return Ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Al();return Ne.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),Ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),Ne.resolve()}getOverlaysForCollection(e,n,r){const i=Al(),o=n.length+1,s=new ot(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new mn((h,d)=>h-d);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=o.get(h.largestBatchId);d===null&&(d=Al(),o=o.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const a=Al(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,d)=>a.set(h,d)),!(a.size()>=i)););return Ne.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new YN(n,r));let o=this.Er.get(n);o===void 0&&(o=Pt(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.sessionToken=fr.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.dr=new Qn(Jn.Ar),this.Rr=new Qn(Jn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new Jn(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Jn(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new ot(new an([])),r=new Jn(n,e),i=new Jn(n,e+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ot(new an([])),r=new Jn(n,e),i=new Jn(n,e+1);let o=Pt();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Jn(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jn{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ot.comparator(e.key,n.key)||Ct(e.br,n.br)}static Vr(e,n){return Ct(e.br,n.br)||ot.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Qn(Jn.Ar)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new QN(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.vr=this.vr.add(new Jn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ne.resolve(s)}lookupMutationBatch(e,n){return Ne.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return Ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jn(n,0),i=new Jn(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{const a=this.Cr(s.br);o.push(a)}),Ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qn(Ct);return n.forEach(i=>{const o=new Jn(i,0),s=new Jn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],a=>{r=r.add(a.br)})}),Ne.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ot.isDocumentKey(o)||(o=o.child(""));const s=new Jn(new ot(o),0);let a=new Qn(Ct);return this.vr.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.br)),!0)},s),Ne.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Bt(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Ne.forEach(n.mutations,i=>{const o=new Jn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new Jn(n,0),i=this.vr.firstAfterOrEqual(r);return Ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.Nr=e,this.docs=function(){return new mn(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ne.resolve(r?r.document.mutableCopy():Pr.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Pr.newInvalidDocument(i))}),Ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Cs();const s=n.path,a=new ot(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:d}}=l.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||hN(cN(d),r)<=0||(i.has(d.key)||fm(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Ne.resolve(o)}getAllFromCollectionGroup(e,n,r,i){dt()}Lr(e,n){return Ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FI(this)}getSize(e){return Ne.resolve(this.size)}}class FI extends TI{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),Ne.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.persistence=e,this.Br=new Gl(n=>q2(n),$2),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.kr=0,this.qr=new Y2,this.targetCount=0,this.Qr=dc.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),Ne.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new dc(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,Ne.resolve()}updateTargetData(e,n){return this.Un(n),Ne.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ne.waitFor(o).next(()=>i)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return Ne.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),Ne.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),Ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return Ne.resolve(r)}containsKey(e,n){return Ne.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.Kr={},this.overlays={},this.$r=new am(0),this.Ur=!1,this.Ur=!0,this.Wr=new LI,this.referenceDelegate=e(this),this.Gr=new OI(this),this.indexManager=new bI,this.remoteDocumentCache=function(i){return new DI(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new wI(n),this.jr=new II(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new RI(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){Ke("MemoryPersistence","Starting transaction:",e);const i=new jI(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return Ne.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class jI extends dN{constructor(e){super(),this.currentSequenceNumber=e}}class X2{constructor(e){this.persistence=e,this.Zr=new Y2,this.Xr=null}static ei(e){return new X2(e)}get ti(){if(this.Xr)return this.Xr;throw dt()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),Ne.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),Ne.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.ti,r=>{const i=ot.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,mt.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return Ne.or([()=>Ne.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Dp{constructor(e,n){this.persistence=e,this.ri=new Gl(r=>gN(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=PI(this,n)}static ei(e,n){return new Dp(e,n)}Hr(){}Jr(e){return Ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return Ne.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?Ne.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,s=>this.ir(e,s,n).next(a=>{a||(r++,o.removeEntry(s,mt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),Ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),Ne.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),Ne.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),Ne.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hd(e.data.value)),n}ir(e,n,r){return Ne.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return Ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Pt(),i=Pt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new J2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return UT()?8:pN(VT())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new MI;return this.ts(e,n,s).next(a=>{if(o.result=a,this.Hi)return this.ns(e,n,s,a.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Tu()<=kt.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",Cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Ne.resolve()):(Tu()<=kt.DEBUG&&Ke("QueryEngine","Query:",Cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Tu()<=kt.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",Cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zo(n))):Ne.resolve())}Xi(e,n){if(K5(n))return Ne.resolve(null);let r=zo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=a0(n,null,"F"),r=zo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Pt(...o);return this.Zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.rs(n,a);return this.ss(n,h,s,l.readTime)?this.Xi(e,a0(n,null,"F")):this.os(e,h,n,l)}))})))}es(e,n,r,i){return K5(n)||i.isEqual(mt.min())?Ne.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const s=this.rs(n,o);return this.ss(n,s,r,i)?Ne.resolve(null):(Tu()<=kt.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cu(n)),this.os(e,s,n,uN(i,-1)).next(a=>a))})}rs(e,n){let r=new Qn(_b(e));return n.forEach((i,o)=>{fm(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return Tu()<=kt.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",Cu(n)),this.Zi.getDocumentsMatchingQuery(e,n,Ma.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new mn(Ct),this.cs=new Gl(o=>q2(o),$2),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NI(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function UI(t,e,n,r){return new BI(t,e,n,r)}async function zb(t,e){const n=wt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Pt();for(const h of i){s.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}for(const h of o){a.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(h=>({Ts:h,removedBatchIds:s,addedBatchIds:a}))})})}function zI(t,e){const n=wt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,h,d){const m=h.batch,g=m.keys();let p=Ne.resolve();return g.forEach(P=>{p=p.next(()=>d.getEntry(l,P)).next(N=>{const L=h.docVersions.get(P);Bt(L!==null),N.version.compareTo(L)<0&&(m.applyToRemoteDocument(N,h),N.isValidDocument()&&(N.setReadTime(h.commitVersion),d.addEntry(N)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Pt();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(l=l.add(a.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qb(t){const e=wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function qI(t,e){const n=wt(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,m)=>{const g=i.get(m);if(!g)return;a.push(n.Gr.removeMatchingKeys(o,d.removedDocuments,m).next(()=>n.Gr.addMatchingKeys(o,d.addedDocuments,m)));let p=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?p=p.withResumeToken(fr.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(m,p),function(N,L,w){return N.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,p,d)&&a.push(n.Gr.updateTargetData(o,p))});let l=Cs(),h=Pt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push($I(o,s,e.documentUpdates).next(d=>{l=d.Is,h=d.Es})),!r.isEqual(mt.min())){const d=n.Gr.getLastRemoteSnapshotVersion(o).next(m=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return Ne.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,h)).next(()=>l)}).then(o=>(n.us=i,o))}function $I(t,e,n){let r=Pt(),i=Pt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Cs();return n.forEach((a,l)=>{const h=o.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(mt.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Ke("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{Is:s,Es:i}})}function HI(t,e){const n=wt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WI(t,e){const n=wt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,Ne.resolve(i)):n.Gr.allocateTargetId(r).next(s=>(i=new _a(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function f0(t,e,n){const r=wt(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Cc(s))throw s;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function sw(t,e,n){const r=wt(t);let i=mt.min(),o=Pt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,h,d){const m=wt(l),g=m.cs.get(d);return g!==void 0?Ne.resolve(m.us.get(g)):m.Gr.getTargetData(h,d)}(r,s,zo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r._s.getDocumentsMatchingQuery(s,e,n?i:mt.min(),n?o:Pt())).next(a=>(GI(r,DN(e),a),{documents:a,ds:o})))}function GI(t,e,n){let r=t.ls.get(e)||mt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class aw{constructor(){this.activeTargetIds=BN()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KI{constructor(){this._o=new aw,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new aw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function Fg(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="WebChannelConnection";class JI extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){const a=Fg(),l=this.No(n,r.toUriEncodedString());Ke("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const h={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(h,o,s),this.Bo(n,l,h,i).then(d=>(Ke("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw uc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}ko(n,r,i,o,s,a){return this.Oo(n,r,i,o,s)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){const i=YI[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=Fg();return new Promise((s,a)=>{const l=new nb;l.setWithCredentials(!0),l.listenOnce(rb.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case $d.NO_ERROR:const d=l.getResponseJson();Ke(wr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case $d.TIMEOUT:Ke(wr,`RPC '${e}' ${o} timed out`),a(new Xe(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case $d.HTTP_ERROR:const m=l.getStatus();if(Ke(wr,`RPC '${e}' ${o} failed with status:`,m,"response text:",l.getResponseText()),m>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g==null?void 0:g.error;if(p&&p.status&&p.message){const P=function(L){const w=L.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(w)>=0?w:Ie.UNKNOWN}(p.status);a(new Xe(P,p.message))}else a(new Xe(Ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Xe(Ie.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Ke(wr,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);Ke(wr,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",h,r,15)})}qo(e,n,r){const i=Fg(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=sb(),a=ob(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");Ke(wr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const m=s.createWebChannel(d,l);let g=!1,p=!1;const P=new XI({Eo:L=>{p?Ke(wr,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(g||(Ke(wr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),Ke(wr,`RPC '${e}' stream ${i} sending:`,L),m.send(L))},Ao:()=>m.close()}),N=(L,w,y)=>{L.listen(w,A=>{try{y(A)}catch(F){setTimeout(()=>{throw F},0)}})};return N(m,hh.EventType.OPEN,()=>{p||(Ke(wr,`RPC '${e}' stream ${i} transport opened.`),P.So())}),N(m,hh.EventType.CLOSE,()=>{p||(p=!0,Ke(wr,`RPC '${e}' stream ${i} transport closed`),P.Do())}),N(m,hh.EventType.ERROR,L=>{p||(p=!0,uc(wr,`RPC '${e}' stream ${i} transport errored:`,L),P.Do(new Xe(Ie.UNAVAILABLE,"The operation could not be completed")))}),N(m,hh.EventType.MESSAGE,L=>{var w;if(!p){const y=L.data[0];Bt(!!y);const A=y,F=(A==null?void 0:A.error)||((w=A[0])===null||w===void 0?void 0:w.error);if(F){Ke(wr,`RPC '${e}' stream ${i} received error:`,F);const V=F.status;let z=function(T){const R=Vn[T];if(R!==void 0)return kb(R)}(V),C=F.message;z===void 0&&(z=Ie.INTERNAL,C="Unknown error status: "+V+" with message "+F.message),p=!0,P.Do(new Xe(z,C)),m.close()}else Ke(wr,`RPC '${e}' stream ${i} received:`,y),P.vo(y)}}),N(a,ib.STAT_EVENT,L=>{L.stat===t0.PROXY?Ke(wr,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===t0.NOPROXY&&Ke(wr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.bo()},0),P}}function Og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){return new oI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r,i,o,s,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new $b(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Ie.RESOURCE_EXHAUSTED?(Ts(n.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Xe(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZI extends Hb{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=lI(this.serializer,e),r=function(o){if(!("targetChange"in o))return mt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?mt.min():s.readTime?qo(s.readTime):mt.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=h0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=o0(l)?{documents:hI(o,l)}:{query:fI(o,l).ct},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Db(o,s.resumeToken);const h=l0(o,s.expectedCount);h!==null&&(a.expectedCount=h)}else if(s.snapshotVersion.compareTo(mt.min())>0){a.readTime=Rp(o,s.snapshotVersion.toTimestamp());const h=l0(o,s.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);const r=pI(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=h0(this.serializer),n.removeTarget=e,this.c_(n)}}class ek extends Hb{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=cI(e.writeResults,e.commitTime),r=qo(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=h0(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uI(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Xe(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(e,u0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Xe(Ie.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.ko(e,u0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xe(Ie.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class nk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ts(n),this.C_=!1):Ke("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(async()=>{Kl(this)&&(Ke("RemoteStore","Restarting streams for network reachability change."),await async function(l){const h=wt(l);h.k_.add(4),await xf(h),h.K_.set("Unknown"),h.k_.delete(4),await vm(h)}(this))})}),this.K_=new nk(r,i)}}async function vm(t){if(Kl(t))for(const e of t.q_)await e(!0)}async function xf(t){for(const e of t.q_)await e(!1)}function Wb(t,e){const n=wt(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),nv(n)?tv(n):Nc(n).s_()&&ev(n,e))}function Z2(t,e){const n=wt(t),r=Nc(n);n.B_.delete(e),r.s_()&&Gb(n,e),n.B_.size===0&&(r.s_()?r.a_():Kl(n)&&n.K_.set("Unknown"))}function ev(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nc(t).V_(e)}function Gb(t,e){t.U_.xe(e),Nc(t).m_(e)}function tv(t){t.U_=new tI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Nc(t).start(),t.K_.F_()}function nv(t){return Kl(t)&&!Nc(t).i_()&&t.B_.size>0}function Kl(t){return wt(t).k_.size===0}function Kb(t){t.U_=void 0}async function ik(t){t.K_.set("Online")}async function ok(t){t.B_.forEach((e,n)=>{ev(t,e)})}async function sk(t,e){Kb(t),nv(t)?(t.K_.O_(e),tv(t)):t.K_.set("Unknown")}async function ak(t,e,n){if(t.K_.set("Online"),e instanceof Rb&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fp(t,r)}else if(e instanceof Kd?t.U_.$e(e):e instanceof Lb?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(mt.min()))try{const r=await qb(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.U_.it(s);return a.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.B_.get(h);d&&o.B_.set(h,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,h)=>{const d=o.B_.get(l);if(!d)return;o.B_.set(l,d.withResumeToken(fr.EMPTY_BYTE_STRING,d.snapshotVersion)),Gb(o,l);const m=new _a(d.target,l,h,d.sequenceNumber);ev(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),await Fp(t,r)}}async function Fp(t,e,n){if(!Cc(e))throw e;t.k_.add(1),await xf(t),t.K_.set("Offline"),n||(n=()=>qb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ke("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await vm(t)})}function Qb(t,e){return e().catch(n=>Fp(t,n,e))}async function ym(t){const e=wt(t),n=za(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;lk(e);)try{const i=await HI(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,uk(e,i)}catch(i){await Fp(e,i)}Yb(e)&&Xb(e)}function lk(t){return Kl(t)&&t.L_.length<10}function uk(t,e){t.L_.push(e);const n=za(t);n.s_()&&n.f_&&n.g_(e.mutations)}function Yb(t){return Kl(t)&&!za(t).i_()&&t.L_.length>0}function Xb(t){za(t).start()}async function ck(t){za(t).w_()}async function hk(t){const e=za(t);for(const n of t.L_)e.g_(n.mutations)}async function fk(t,e,n){const r=t.L_.shift(),i=G2.from(r,e,n);await Qb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ym(t)}async function dk(t,e){e&&za(t).f_&&await async function(r,i){if(function(s){return JN(s)&&s!==Ie.ABORTED}(i.code)){const o=r.L_.shift();za(r).__(),await Qb(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ym(r)}}(t,e),Yb(t)&&Xb(t)}async function uw(t,e){const n=wt(t);n.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=Kl(n);n.k_.add(3),await xf(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await vm(n)}async function pk(t,e){const n=wt(t);e?(n.k_.delete(2),await vm(n)):e||(n.k_.add(2),await xf(n),n.K_.set("Unknown"))}function Nc(t){return t.W_||(t.W_=function(n,r,i){const o=wt(n);return o.b_(),new ZI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:ik.bind(null,t),mo:ok.bind(null,t),po:sk.bind(null,t),R_:ak.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),nv(t)?tv(t):t.K_.set("Unknown")):(await t.W_.stop(),Kb(t))})),t.W_}function za(t){return t.G_||(t.G_=function(n,r,i){const o=wt(n);return o.b_(),new ek(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:ck.bind(null,t),po:dk.bind(null,t),p_:hk.bind(null,t),y_:fk.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await ym(t)):(await t.G_.stop(),t.L_.length>0&&(Ke("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new rv(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xe(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(t,e){if(Ts("AsyncQueue",`${e}: ${t}`),Cc(t))return new Xe(Ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{static emptySet(e){return new Ju(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ot.comparator(n.key,r.key):(n,r)=>ot.comparator(n.key,r.key),this.keyedMap=fh(),this.sortedSet=new mn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ju)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ju;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.z_=new mn(ot.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):dt():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class pc{constructor(e,n,r,i,o,s,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new pc(e,n,Ju.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class gk{constructor(){this.queries=hw(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=wt(n),o=i.queries;i.queries=hw(),o.forEach((s,a)=>{for(const l of a.J_)l.onError(r)})})(this,new Xe(Ie.ABORTED,"Firestore shutting down"))}}function hw(){return new Gl(t=>wb(t),hm)}async function ov(t,e){const n=wt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new mk,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=iv(s,`Initialization of query '${Cu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&av(n)}async function sv(t,e){const n=wt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.J_.indexOf(e);s>=0&&(o.J_.splice(s,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vk(t,e){const n=wt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.J_)a.ta(i)&&(r=!0);s.H_=i}}r&&av(n)}function yk(t,e,n){const r=wt(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function av(t){t.X_.forEach(e=>{e.next()})}var d0,fw;(fw=d0||(d0={})).na="default",fw.Cache="cache";class lv{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==d0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.key=e}}class Zb{constructor(e){this.key=e}}class wk{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Pt(),this.mutatedKeys=Pt(),this.Va=_b(e),this.ma=new Ju(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new cw,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const g=i.get(d),p=fm(this.query,m)?m:null,P=!!g&&this.mutatedKeys.has(g.key),N=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let L=!1;g&&p?g.data.isEqual(p.data)?P!==N&&(r.track({type:3,doc:p}),L=!0):this.ya(g,p)||(r.track({type:2,doc:p}),L=!0,(l&&this.Va(p,l)>0||h&&this.Va(p,h)<0)&&(a=!0)):!g&&p?(r.track({type:0,doc:p}),L=!0):g&&!p&&(r.track({type:1,doc:g}),L=!0,(l||h)&&(a=!0)),L&&(p?(s=s.add(p),o=N?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ma:s,pa:r,ss:a,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort((d,m)=>function(p,P){const N=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return N(p)-N(P)}(d.type,m.type)||this.Va(d.doc,m.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,h=l!==this.Aa;return this.Aa=l,s.length!==0||h?{snapshot:new pc(this.query,e.ma,o,s,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new cw,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Pt(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new Zb(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new Jb(r))}),n}va(e){this.da=e.ds,this.Ra=Pt();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return pc.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class _k{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bk{constructor(e){this.key=e,this.Fa=!1}}class Sk{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new Gl(a=>wb(a),hm),this.Oa=new Map,this.Na=new Set,this.La=new mn(ot.comparator),this.Ba=new Map,this.ka=new Y2,this.qa={},this.Qa=new Map,this.Ka=dc.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Ak(t,e,n=!0){const r=oS(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await eS(r,e,n,!0),i}async function xk(t,e){const n=oS(t);await eS(n,e,!0,!1)}async function eS(t,e,n,r){const i=await WI(t.localStore,zo(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Ek(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Wb(t.remoteStore,i),a}async function Ek(t,e,n,r,i){t.Ua=(m,g,p)=>async function(N,L,w,y){let A=L.view.ga(w);A.ss&&(A=await sw(N.localStore,L.query,!1).then(({documents:C})=>L.view.ga(C,A)));const F=y&&y.targetChanges.get(L.targetId),V=y&&y.targetMismatches.get(L.targetId)!=null,z=L.view.applyChanges(A,N.isPrimaryClient,F,V);return pw(N,L.targetId,z.ba),z.snapshot}(t,m,g,p);const o=await sw(t.localStore,e,!0),s=new wk(e,o.ds),a=s.ga(o.documents),l=Af.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=s.applyChanges(a,t.isPrimaryClient,l);pw(t,n,h.ba);const d=new _k(e,n,s);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),h.snapshot}async function Pk(t,e,n){const r=wt(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(s=>!hm(s,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await f0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Z2(r.remoteStore,i.targetId),p0(r,i.targetId)}).catch(Tc)):(p0(r,i.targetId),await f0(r.localStore,i.targetId,!0))}async function Tk(t,e){const n=wt(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Z2(n.remoteStore,r.targetId))}async function Ck(t,e,n){const r=Fk(t);try{const i=await function(s,a){const l=wt(s),h=Kn.now(),d=a.reduce((p,P)=>p.add(P.key),Pt());let m,g;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let P=Cs(),N=Pt();return l.hs.getEntries(p,d).next(L=>{P=L,P.forEach((w,y)=>{y.isValidDocument()||(N=N.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,P)).next(L=>{m=L;const w=[];for(const y of a){const A=GN(y,m.get(y.key).overlayedDocument);A!=null&&w.push(new Qa(y.key,A,hb(A.value.mapValue),Ui.exists(!0)))}return l.mutationQueue.addMutationBatch(p,h,w,a)}).next(L=>{g=L;const w=L.applyToLocalDocumentSet(m,N);return l.documentOverlayCache.saveOverlays(p,L.batchId,w)})}).then(()=>({batchId:g.batchId,changes:Sb(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let h=s.qa[s.currentUser.toKey()];h||(h=new mn(Ct)),h=h.insert(a,l),s.qa[s.currentUser.toKey()]=h}(r,i.batchId,n),await Ef(r,i.changes),await ym(r.remoteStore)}catch(i){const o=iv(i,"Failed to persist write");n.reject(o)}}async function tS(t,e){const n=wt(t);try{const r=await qI(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ba.get(o);s&&(Bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Fa=!0:i.modifiedDocuments.size>0?Bt(s.Fa):i.removedDocuments.size>0&&(Bt(s.Fa),s.Fa=!1))}),await Ef(n,r,e)}catch(r){await Tc(r)}}function dw(t,e,n){const r=wt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,s)=>{const a=s.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=wt(s);l.onlineState=a;let h=!1;l.queries.forEach((d,m)=>{for(const g of m.J_)g.ea(a)&&(h=!0)}),h&&av(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Nk(t,e,n){const r=wt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let s=new mn(ot.comparator);s=s.insert(o,Pr.newNoDocument(o,mt.min()));const a=Pt().add(o),l=new mm(mt.min(),new Map,new mn(Ct),s,a);await tS(r,l),r.La=r.La.remove(o),r.Ba.delete(e),uv(r)}else await f0(r.localStore,e,!1).then(()=>p0(r,e,n)).catch(Tc)}async function Ik(t,e){const n=wt(t),r=e.batch.batchId;try{const i=await zI(n.localStore,e);rS(n,r,null),nS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ef(n,i)}catch(i){await Tc(i)}}async function kk(t,e,n){const r=wt(t);try{const i=await function(s,a){const l=wt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return l.mutationQueue.lookupMutationBatch(h,a).next(m=>(Bt(m!==null),d=m.keys(),l.mutationQueue.removeMutationBatch(h,m))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>l.localDocuments.getDocuments(h,d))})}(r.localStore,e);rS(r,e,n),nS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ef(r,i)}catch(i){await Tc(i)}}function nS(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function rS(t,e,n){const r=wt(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function p0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||iS(t,r)})}function iS(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Z2(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),uv(t))}function pw(t,e,n){for(const r of n)r instanceof Jb?(t.ka.addReference(r.key,e),Lk(t,r)):r instanceof Zb?(Ke("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||iS(t,r.key)):dt()}function Lk(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(Ke("SyncEngine","New document in limbo: "+n),t.Na.add(r),uv(t))}function uv(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new ot(an.fromString(e)),r=t.Ka.next();t.Ba.set(r,new bk(n)),t.La=t.La.insert(n,r),Wb(t.remoteStore,new _a(zo(cm(n.path)),r,"TargetPurposeLimboResolution",am.oe))}}async function Ef(t,e,n){const r=wt(t),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{s.push(r.Ua(l,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(h){i.push(h);const m=J2.zi(l.targetId,h);o.push(m)}}))}),await Promise.all(s),r.Ma.R_(i),await async function(l,h){const d=wt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ne.forEach(h,g=>Ne.forEach(g.Wi,p=>d.persistence.referenceDelegate.addReference(m,g.targetId,p)).next(()=>Ne.forEach(g.Gi,p=>d.persistence.referenceDelegate.removeReference(m,g.targetId,p)))))}catch(m){if(!Cc(m))throw m;Ke("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const p=d.us.get(g),P=p.snapshotVersion,N=p.withLastLimboFreeSnapshotVersion(P);d.us=d.us.insert(g,N)}}}(r.localStore,o))}async function Rk(t,e){const n=wt(t);if(!n.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const r=await zb(n.localStore,e);n.currentUser=e,function(o,s){o.Qa.forEach(a=>{a.forEach(l=>{l.reject(new Xe(Ie.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ef(n,r.Ts)}}function Dk(t,e){const n=wt(t),r=n.Ba.get(e);if(r&&r.Fa)return Pt().add(r.key);{let i=Pt();const o=n.Oa.get(e);if(!o)return i;for(const s of o){const a=n.xa.get(s);i=i.unionWith(a.view.fa)}return i}}function oS(t){const e=wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nk.bind(null,e),e.Ma.R_=vk.bind(null,e.eventManager),e.Ma.Wa=yk.bind(null,e.eventManager),e}function Fk(t){const e=wt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ik.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kk.bind(null,e),e}class Op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gm(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return UI(this.persistence,new VI,e.initialUser,this.serializer)}ja(e){return new Ub(X2.ei,this.serializer)}za(e){return new KI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Op.provider={build:()=>new Op};class Ok extends Op{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Bt(this.persistence.referenceDelegate instanceof Dp);const r=this.persistence.referenceDelegate.garbageCollector;return new xI(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Qr.withCacheSize(this.cacheSizeBytes):Qr.DEFAULT;return new Ub(r=>Dp.ei(r,n),this.serializer)}}class m0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rk.bind(null,this.syncEngine),await pk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gk}()}createDatastore(e){const n=gm(e.databaseInfo.databaseId),r=function(o){return new JI(o)}(e.databaseInfo);return function(o,s,a,l){return new tk(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new rk(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dw(this.syncEngine,n,0),function(){return lw.p()?new lw:new QI}())}createSyncEngine(e,n){return function(i,o,s,a,l,h,d){const m=new Sk(i,o,s,a,l,h);return d&&(m.$a=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=wt(i);Ke("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await xf(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}m0.provider={build:()=>new m0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xr.UNAUTHENTICATED,this.clientId=lb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Ke("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ke("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jg(t,e){t.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Mk(t);Ke("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>uw(e.remoteStore,i)),t._onlineComponents=e}async function Mk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await jg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ie.FAILED_PRECONDITION||i.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;uc("Error using user provided cache. Falling back to memory cache: "+n),await jg(t,new Op)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),await jg(t,new Ok(void 0));return t._offlineComponents}async function sS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),await mw(t,t._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),await mw(t,new m0))),t._onlineComponents}function Vk(t){return sS(t).then(e=>e.syncEngine)}async function jp(t){const e=await sS(t),n=e.eventManager;return n.onListen=Ak.bind(null,e.syncEngine),n.onUnlisten=Pk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Tk.bind(null,e.syncEngine),n}function Bk(t,e,n={}){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,h){const d=new cv({next:g=>{d.eu(),s.enqueueAndForget(()=>sv(o,m));const p=g.docs.has(a);!p&&g.fromCache?h.reject(new Xe(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&g.fromCache&&l&&l.source==="server"?h.reject(new Xe(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new lv(cm(a.path),d,{includeMetadataChanges:!0,ua:!0});return ov(o,m)}(await jp(t),t.asyncQueue,e,n,r)),r.promise}function Uk(t,e,n={}){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,h){const d=new cv({next:g=>{d.eu(),s.enqueueAndForget(()=>sv(o,m)),g.fromCache&&l.source==="server"?h.reject(new Xe(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new lv(a,d,{includeMetadataChanges:!0,ua:!0});return ov(o,m)}(await jp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t,e,n){if(!n)throw new Xe(Ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zk(t,e,n,r){if(e===!0&&r===!0)throw new Xe(Ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vw(t){if(!ot.isDocumentKey(t))throw new Xe(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yw(t){if(ot.isDocumentKey(t))throw new Xe(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":dt()}function ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xe(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(t);throw new Xe(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Xe(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Xe(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Xe(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Xe(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Xe(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _m{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ww({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xe(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Xe(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ww(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eN;switch(r.type){case"firstParty":return new iN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Xe(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=gw.get(n);r&&(Ke("ComponentProvider","Removing Datastore"),gw.delete(n),r.terminate())}(this),Promise.resolve()}}function qk(t,e,n,r={}){var i;const o=(t=ri(t,_m))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=xr.MOCK_USER;else{a=$3(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Xe(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new xr(h)}t._authCredentials=new tN(new ab(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ql(this.firestore,e,this._query)}}class Cr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cr(this.firestore,e,this._key)}}class Ra extends Ql{constructor(e,n,r){super(e,n,cm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cr(this.firestore,null,new ot(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function vi(t,e,...n){if(t=ii(t),lS("collection","path",e),t instanceof _m){const r=an.fromString(e,...n);return yw(r),new Ra(t,null,r)}{if(!(t instanceof Cr||t instanceof Ra))throw new Xe(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(an.fromString(e,...n));return yw(r),new Ra(t.firestore,null,r)}}function zi(t,e,...n){if(t=ii(t),arguments.length===1&&(e=lb.newId()),lS("doc","path",e),t instanceof _m){const r=an.fromString(e,...n);return vw(r),new Cr(t,null,new ot(r))}{if(!(t instanceof Cr||t instanceof Ra))throw new Xe(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(an.fromString(e,...n));return vw(r),new Cr(t.firestore,t instanceof Ra?t.converter:null,new ot(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new $b(this,"async_queue_retry"),this.fu=()=>{const r=Og();r&&Ke("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Og();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new bs;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Cc(e))throw e;Ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ts("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=rv.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&dt()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function bw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ns extends _m{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _w,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _w(e),this._firestoreClient=void 0,await e}}}function $k(t,e){const n=typeof t=="object"?t:J3(),r=typeof t=="string"?t:"(default)",i=Q3(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=z3("firestore");o&&qk(i,...o)}return i}function bm(t){if(t._terminated)throw new Xe(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Hk(t),t._firestoreClient}function Hk(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,h,d){return new wN(a,l,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,aS(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new jk(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mc(fr.fromBase64String(e))}catch(n){throw new Xe(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mc(fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Xe(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Xe(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Xe(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=/^__.*__$/;class Gk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sf(e,this.data,n,this.fieldTransforms)}}class uS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class pv{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Mp(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(cS(this.Mu)&&Wk.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Kk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gm(e)}$u(e,n,r,i=!1){return new pv({Mu:e,methodName:n,Ku:r,path:ur.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Am(t){const e=t._freezeSettings(),n=gm(t._databaseId);return new Kk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hS(t,e,n,r,i,o={}){const s=t.$u(o.merge||o.mergeFields?2:0,e,n,i);mv("Data must be an object, but it was:",s,r);const a=fS(r,s);let l,h;if(o.merge)l=new wi(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const m of o.mergeFields){const g=g0(e,m,n);if(!s.contains(g))throw new Xe(Ie.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);pS(d,g)||d.push(g)}l=new wi(d),h=s.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,h=s.fieldTransforms;return new Gk(new Xr(a),l,h)}class xm extends hv{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xm}}function Qk(t,e,n,r){const i=t.$u(1,e,n);mv("Data must be an object, but it was:",i,r);const o=[],s=Xr.empty();Ka(r,(l,h)=>{const d=gv(e,l,n);h=ii(h);const m=i.Bu(d);if(h instanceof xm)o.push(d);else{const g=Pf(h,m);g!=null&&(o.push(d),s.set(d,g))}});const a=new wi(o);return new uS(s,a,i.fieldTransforms)}function Yk(t,e,n,r,i,o){const s=t.$u(1,e,n),a=[g0(e,r,n)],l=[i];if(o.length%2!=0)throw new Xe(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(g0(e,o[g])),l.push(o[g+1]);const h=[],d=Xr.empty();for(let g=a.length-1;g>=0;--g)if(!pS(h,a[g])){const p=a[g];let P=l[g];P=ii(P);const N=s.Bu(p);if(P instanceof xm)h.push(p);else{const L=Pf(P,N);L!=null&&(h.push(p),d.set(p,L))}}const m=new wi(h);return new uS(d,m,s.fieldTransforms)}function Xk(t,e,n,r=!1){return Pf(n,t.$u(r?4:3,e))}function Pf(t,e){if(dS(t=ii(t)))return mv("Unsupported field value:",e,t),fS(t,e);if(t instanceof hv)return function(r,i){if(!cS(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Pf(a,i.ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Kn.fromDate(r);return{timestampValue:Rp(i.serializer,o)}}if(r instanceof Kn){const o=new Kn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rp(i.serializer,o)}}if(r instanceof fv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mc)return{bytesValue:Db(i.serializer,r._byteString)};if(r instanceof Cr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Q2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof dv)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return H2(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${wm(r)}`)}(t,e)}function fS(t,e){const n={};return ub(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(t,(r,i)=>{const o=Pf(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function dS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kn||t instanceof fv||t instanceof mc||t instanceof Cr||t instanceof hv||t instanceof dv)}function mv(t,e,n){if(!dS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=wm(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function g0(t,e,n){if((e=ii(e))instanceof Sm)return e._internalPath;if(typeof e=="string")return gv(t,e);throw Mp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jk=new RegExp("[~\\*/\\[\\]]");function gv(t,e,n){if(e.search(Jk)>=0)throw Mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sm(...e.split("."))._internalPath}catch{throw Mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Xe(Ie.INVALID_ARGUMENT,a+t+l)}function pS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Zk extends mS{data(){return super.data()}}function vv(t,e){return typeof e=="string"?gv(t,e):e instanceof Sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Xe(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yv{}class eL extends yv{}function Au(t,e,...n){let r=[];e instanceof yv&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof wv).length,a=o.filter(l=>l instanceof Em).length;if(s>1||s>0&&a>0)throw new Xe(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Em extends eL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Em(e,n,r)}_apply(e){const n=this._parse(e);return vS(e._query,n),new Ql(e.firestore,e.converter,s0(e._query,n))}_parse(e){const n=Am(e.firestore);return function(o,s,a,l,h,d,m){let g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Xe(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Aw(m,d);const p=[];for(const P of m)p.push(Sw(l,o,P));g={arrayValue:{values:p}}}else g=Sw(l,o,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Aw(m,d),g=Xk(a,s,m,d==="in"||d==="not-in");return zn.create(h,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function la(t,e,n){const r=e,i=vv("where",t);return Em._create(i,r,n)}class wv extends yv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:go.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)vS(s,l),s=s0(s,l)}(e._query,n),new Ql(e.firestore,e.converter,s0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Sw(t,e,n){if(typeof(n=ii(n))=="string"){if(n==="")throw new Xe(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yb(e)&&n.indexOf("/")!==-1)throw new Xe(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(an.fromString(n));if(!ot.isDocumentKey(r))throw new Xe(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return z5(t,new ot(r))}if(n instanceof Cr)return z5(t,n._key);throw new Xe(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wm(n)}.`)}function Aw(t,e){if(!Array.isArray(t)||t.length===0)throw new Xe(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vS(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Xe(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Xe(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tL{convertValue(e,n="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw dt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ka(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Cn(s.doubleValue));return new dv(o)}convertGeoPoint(e){return new fv(Cn(e.latitude),Cn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=um(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rf(e));default:return null}}convertTimestamp(e){const n=Va(e);return new Kn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=an.fromString(e);Bt(Bb(r));const i=new of(r.get(1),r.get(3)),o=new ot(r.popFirst(5));return i.isEqual(n)||Ts(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wS extends mS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qd extends wS{data(e={}){return super.data(e)}}class _S{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ph(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qd(this._firestore,this._userDataWriter,r.key,r,new ph(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Xe(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Qd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ph(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Qd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ph(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return a.type!==0&&(h=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:nL(a.type),doc:l,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){t=ri(t,Cr);const e=ri(t.firestore,Ns);return Bk(bm(e),t._key).then(n=>xS(e,t,n))}class _v extends tL{constructor(e){super(),this.firestore=e}convertBytes(e){return new mc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,n)}}function Mi(t){t=ri(t,Ql);const e=ri(t.firestore,Ns),n=bm(e),r=new _v(e);return gS(t._query),Uk(n,t._query).then(i=>new _S(e,r,t,i))}function Zu(t,e,n){t=ri(t,Cr);const r=ri(t.firestore,Ns),i=yS(t.converter,e,n);return Pm(r,[hS(Am(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ui.none())])}function rL(t,e,n,...r){t=ri(t,Cr);const i=ri(t.firestore,Ns),o=Am(i);let s;return s=typeof(e=ii(e))=="string"||e instanceof Sm?Yk(o,"updateDoc",t._key,e,n,r):Qk(o,"updateDoc",t._key,e),Pm(i,[s.toMutation(t._key,Ui.exists(!0))])}function SS(t){return Pm(ri(t.firestore,Ns),[new W2(t._key,Ui.none())])}function AS(t,e){const n=ri(t.firestore,Ns),r=zi(t),i=yS(t.converter,e);return Pm(n,[hS(Am(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ui.exists(!1))]).then(()=>r)}function iL(t,...e){var n,r,i;t=ii(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||bw(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(bw(e[s])){const m=e[s];e[s]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[s+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,h,d;if(t instanceof Cr)h=ri(t.firestore,Ns),d=cm(t._key.path),l={next:m=>{e[s]&&e[s](xS(h,t,m))},error:e[s+1],complete:e[s+2]};else{const m=ri(t,Ql);h=ri(m.firestore,Ns),d=m._query;const g=new _v(h);l={next:p=>{e[s]&&e[s](new _S(h,g,m,p))},error:e[s+1],complete:e[s+2]},gS(t._query)}return function(g,p,P,N){const L=new cv(N),w=new lv(p,L,P);return g.asyncQueue.enqueueAndForget(async()=>ov(await jp(g),w)),()=>{L.eu(),g.asyncQueue.enqueueAndForget(async()=>sv(await jp(g),w))}}(bm(h),d,a,l)}function Pm(t,e){return function(r,i){const o=new bs;return r.asyncQueue.enqueueAndForget(async()=>Ck(await Vk(r),i,o)),o.promise}(bm(t),e)}function xS(t,e,n){const r=n.docs.get(e._key),i=new _v(t);return new wS(t,i,e._key,r,new ph(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Pc=i})(Y3),ef(new lc("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ns(new nN(r.getProvider("auth-internal")),new sN(r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Xe(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new of(h.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),La(O5,"4.7.5",e),La(O5,"4.7.5","esm2017")})();var oL="firebase",sL="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */La(oL,sL,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firebasestorage.googleapis.com",PS="storageBucket",aL=2*60*1e3,lL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An extends Wl{constructor(e,n,r=0){super(Mg(e),`Firebase Storage: ${n} (${Mg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,An.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Sn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Sn||(Sn={}));function Mg(t){return"storage/"+t}function bv(){const t="An unknown error occurred, please check the error payload for server response.";return new An(Sn.UNKNOWN,t)}function uL(t){return new An(Sn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function cL(t){return new An(Sn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new An(Sn.UNAUTHENTICATED,t)}function fL(){return new An(Sn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dL(t){return new An(Sn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function pL(){return new An(Sn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mL(){return new An(Sn.CANCELED,"User canceled the upload/download.")}function gL(t){return new An(Sn.INVALID_URL,"Invalid URL '"+t+"'.")}function vL(t){return new An(Sn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function yL(){return new An(Sn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PS+"' property when initializing the app?")}function wL(){return new An(Sn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _L(){return new An(Sn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function bL(t){return new An(Sn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function v0(t){return new An(Sn.INVALID_ARGUMENT,t)}function TS(){return new An(Sn.APP_DELETED,"The Firebase app was deleted.")}function SL(t){return new An(Sn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nh(t,e){return new An(Sn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ih(t){throw new An(Sn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_i.makeFromUrl(e,n)}catch{return new _i(e,"")}if(r.path==="")return r;throw vL(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function h(F){F.path_=decodeURIComponent(F.path)}const d="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",p=new RegExp(`^https?://${m}/${d}/b/${i}/o${g}`,"i"),P={bucket:1,path:3},N=n===ES?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",w=new RegExp(`^https?://${N}/${i}/${L}`,"i"),A=[{regex:a,indices:l,postModify:o},{regex:p,indices:P,postModify:h},{regex:w,indices:{bucket:1,path:2},postModify:h}];for(let F=0;F<A.length;F++){const V=A[F],z=V.regex.exec(e);if(z){const C=z[V.indices.bucket];let b=z[V.indices.path];b||(b=""),r=new _i(C,b),V.postModify(r);break}}if(r==null)throw gL(e);return r}}class AL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let h=!1;function d(...L){h||(h=!0,e.apply(null,L))}function m(L){i=setTimeout(()=>{i=null,t(p,l())},L)}function g(){o&&clearTimeout(o)}function p(L,...w){if(h){g();return}if(L){g(),d.call(null,L,...w);return}if(l()||s){g(),d.call(null,L,...w);return}r<64&&(r*=2);let A;a===1?(a=2,A=0):A=(r+Math.random())*1e3,m(A)}let P=!1;function N(L){P||(P=!0,g(),!h&&(i!==null?(L||(a=2),clearTimeout(i),m(0)):L||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,N(!0)},n),N}function EL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){return t!==void 0}function TL(t){return typeof t=="object"&&!Array.isArray(t)}function Sv(t){return typeof t=="string"||t instanceof String}function xw(t){return Av()&&t instanceof Blob}function Av(){return typeof Blob<"u"}function Ew(t,e,n,r){if(r<e)throw v0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw v0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function CS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Nl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nl||(Nl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r,i,o,s,a,l,h,d,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=h,this.progressCallback_=d,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,P)=>{this.resolve_=p,this.reject_=P,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new bd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,h=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,h)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Nl.NO_ERROR,l=o.getStatus();if(!a||CL(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===Nl.ABORT;r(!1,new bd(!1,null,d));return}const h=this.successCodes_.indexOf(l)!==-1;r(!0,new bd(h,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());PL(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=bv();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?TS():mL();s(l)}else{const l=pL();s(l)}};this.canceled_?n(!1,new bd(!1,null,!0)):this.backoffId_=xL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&EL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function IL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function DL(t,e,n,r,i,o,s=!0){const a=CS(t.urlParams),l=t.url+a,h=Object.assign({},t.headers);return LL(h,e),IL(h,n),kL(h,o),RL(h,r),new NL(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function OL(...t){const e=FL();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Av())return new Blob(t);throw new An(Sn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){if(typeof atob>"u")throw bL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vg{constructor(e,n){this.data=e,this.contentType=n||null}}function VL(t,e){switch(t){case Mo.RAW:return new Vg(NS(e));case Mo.BASE64:case Mo.BASE64URL:return new Vg(IS(t,e));case Mo.DATA_URL:return new Vg(UL(e),zL(e))}throw bv()}function NS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function BL(t){let e;try{e=decodeURIComponent(t)}catch{throw Nh(Mo.DATA_URL,"Malformed data URL.")}return NS(e)}function IS(t,e){switch(t){case Mo.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Nh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Mo.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Nh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ML(e)}catch(i){throw i.message.includes("polyfill")?i:Nh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class kS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Nh(Mo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=qL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function UL(t){const e=new kS(t);return e.base64?IS(Mo.BASE64,e.rest):BL(e.rest)}function zL(t){return new kS(t).contentType}function qL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){let r=0,i="";xw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(xw(this.data_)){const r=this.data_,i=jL(r,e,n);return i===null?null:new ga(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ga(r,!0)}}static getBlob(...e){if(Av()){const n=e.map(r=>r instanceof ga?r.data_:r);return new ga(OL.apply(null,n))}else{const n=e.map(s=>Sv(s)?VL(Mo.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new ga(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t){let e;try{e=JSON.parse(t)}catch{return null}return TL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function HL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function RS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e){return e}class Or{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||WL}}let Sd=null;function GL(t){return!Sv(t)||t.length<2?t:RS(t)}function DS(){if(Sd)return Sd;const t=[];t.push(new Or("bucket")),t.push(new Or("generation")),t.push(new Or("metageneration")),t.push(new Or("name","fullPath",!0));function e(o,s){return GL(s)}const n=new Or("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Or("size");return i.xform=r,t.push(i),t.push(new Or("timeCreated")),t.push(new Or("updated")),t.push(new Or("md5Hash",null,!0)),t.push(new Or("cacheControl",null,!0)),t.push(new Or("contentDisposition",null,!0)),t.push(new Or("contentEncoding",null,!0)),t.push(new Or("contentLanguage",null,!0)),t.push(new Or("contentType",null,!0)),t.push(new Or("metadata","customMetadata",!0)),Sd=t,Sd}function KL(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new _i(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function QL(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return KL(r,t),r}function FS(t,e,n){const r=LS(e);return r===null?null:QL(t,r,n)}function YL(t,e,n,r){const i=LS(e);if(i===null||!Sv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(h=>{const d=t.bucket,m=t.fullPath,g="/b/"+s(d)+"/o/"+s(m),p=xv(g,n,r),P=CS({alt:"media",token:h});return p+P})[0]}function XL(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class OS{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t){if(!t)throw bv()}function JL(t,e){function n(r,i){const o=FS(t,i,e);return jS(o!==null),o}return n}function ZL(t,e){function n(r,i){const o=FS(t,i,e);return jS(o!==null),YL(o,i,t.host,t._protocol)}return n}function MS(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=fL():i=hL():n.getStatus()===402?i=cL(t.bucket):n.getStatus()===403?i=dL(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function eR(t){const e=MS(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=uL(t.path)),o.serverResponse=i.serverResponse,o}return n}function tR(t,e,n){const r=e.fullServerUrl(),i=xv(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new OS(i,o,ZL(t,n),s);return a.errorHandler=eR(e),a}function nR(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function rR(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=nR(null,e)),r}function iR(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let A="";for(let F=0;F<2;F++)A=A+Math.random().toString().slice(2);return A}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const h=rR(e,r,i),d=XL(h,n),m="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+l+"--",p=ga.getBlob(m,r,g);if(p===null)throw wL();const P={name:h.fullPath},N=xv(o,t.host,t._protocol),L="POST",w=t.maxUploadRetryTime,y=new OS(N,L,JL(t,n),w);return y.urlParams=P,y.headers=s,y.body=p.uploadData(),y.errorHandler=MS(e),y}class oR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Nl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Nl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Nl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ih("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ih("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ih("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ih("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ih("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class sR extends oR{initXhr(){this.xhr_.responseType="text"}}function VS(){return new sR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this._service=e,n instanceof _i?this._location=n:this._location=_i.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zl(e,n)}get root(){const e=new _i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RS(this._location.path)}get storage(){return this._service}get parent(){const e=$L(this._location.path);if(e===null)return null;const n=new _i(this._location.bucket,e);return new zl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SL(e)}}function aR(t,e,n){t._throwIfRoot("uploadBytes");const r=iR(t.storage,t._location,DS(),new ga(e,!0),n);return t.storage.makeRequestWithTokens(r,VS).then(i=>({metadata:i,ref:t}))}function lR(t){t._throwIfRoot("getDownloadURL");const e=tR(t.storage,t._location,DS());return t.storage.makeRequestWithTokens(e,VS).then(n=>{if(n===null)throw _L();return n})}function uR(t,e){const n=HL(t._location.path,e),r=new _i(t._location.bucket,n);return new zl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t){return/^[A-Za-z]+:\/\//.test(t)}function hR(t,e){return new zl(t,e)}function BS(t,e){if(t instanceof Ev){const n=t;if(n._bucket==null)throw yL();const r=new zl(n,n._bucket);return e!=null?BS(r,e):r}else return e!==void 0?uR(t,e):t}function fR(t,e){if(e&&cR(e)){if(t instanceof Ev)return hR(t,e);throw v0("To use ref(service, url), the first argument must be a Storage instance.")}else return BS(t,e)}function Pw(t,e){const n=e==null?void 0:e[PS];return n==null?null:_i.makeFromBucketSpec(n,t)}function dR(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:$3(i,t.app.options.projectId))}class Ev{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=ES,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aL,this._maxUploadRetryTime=lL,this._requests=new Set,i!=null?this._bucket=_i.makeFromBucketSpec(i,this._host):this._bucket=Pw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,e):this._bucket=Pw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ew("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ew("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zl(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new AL(TS());{const s=DL(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Tw="@firebase/storage",Cw="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="storage";function pR(t,e,n){return t=ii(t),aR(t,e,n)}function mR(t){return t=ii(t),lR(t)}function gR(t,e){return t=ii(t),fR(t,e)}function vR(t=J3(),e){t=ii(t);const r=Q3(t,US).getImmediate({identifier:e}),i=z3("storage");return i&&yR(r,...i),r}function yR(t,e,n,r={}){dR(t,e,n,r)}function wR(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ev(n,r,i,e,Y3)}function _R(){ef(new lc(US,wR,"PUBLIC").setMultipleInstances(!0)),La(Tw,Cw,""),La(Tw,Cw,"esm2017")}_R();const bR={apiKey:"AIzaSyDrFJLDfSf2KYP5BsWGRBS3jpT10kknV88",authDomain:"estoque-mercearia.firebaseapp.com",projectId:"estoque-mercearia",storageBucket:"estoque-mercearia.firebasestorage.app",messagingSenderId:"140001994375",appId:"1:140001994375:web:fd0b2b94fcf92a19cdba22"},zS=X3(bR),In=$k(zS),SR=vR(zS);var Zr=function(){return Zr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Zr.apply(this,arguments)};function uf(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var sn="-ms-",Ih="-moz-",Vt="-webkit-",qS="comm",Tm="rule",Pv="decl",AR="@import",$S="@keyframes",xR="@layer",HS=Math.abs,Tv=String.fromCharCode,y0=Object.assign;function ER(t,e){return er(t,0)^45?(((e<<2^er(t,0))<<2^er(t,1))<<2^er(t,2))<<2^er(t,3):0}function WS(t){return t.trim()}function ms(t,e){return(t=e.exec(t))?t[0]:t}function bt(t,e,n){return t.replace(e,n)}function Yd(t,e,n){return t.indexOf(e,n)}function er(t,e){return t.charCodeAt(e)|0}function gc(t,e,n){return t.slice(e,n)}function Oo(t){return t.length}function GS(t){return t.length}function mh(t,e){return e.push(t),t}function PR(t,e){return t.map(e).join("")}function Nw(t,e){return t.filter(function(n){return!ms(n,e)})}var Cm=1,vc=1,KS=0,Hi=0,Bn=0,Ic="";function Nm(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Cm,column:vc,length:s,return:"",siblings:a}}function ha(t,e){return y0(Nm("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function xu(t){for(;t.root;)t=ha(t.root,{children:[t]});mh(t,t.siblings)}function TR(){return Bn}function CR(){return Bn=Hi>0?er(Ic,--Hi):0,vc--,Bn===10&&(vc=1,Cm--),Bn}function po(){return Bn=Hi<KS?er(Ic,Hi++):0,vc++,Bn===10&&(vc=1,Cm++),Bn}function Il(){return er(Ic,Hi)}function Xd(){return Hi}function Im(t,e){return gc(Ic,t,e)}function w0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NR(t){return Cm=vc=1,KS=Oo(Ic=t),Hi=0,[]}function IR(t){return Ic="",t}function Bg(t){return WS(Im(Hi-1,_0(t===91?t+2:t===40?t+1:t)))}function kR(t){for(;(Bn=Il())&&Bn<33;)po();return w0(t)>2||w0(Bn)>3?"":" "}function LR(t,e){for(;--e&&po()&&!(Bn<48||Bn>102||Bn>57&&Bn<65||Bn>70&&Bn<97););return Im(t,Xd()+(e<6&&Il()==32&&po()==32))}function _0(t){for(;po();)switch(Bn){case t:return Hi;case 34:case 39:t!==34&&t!==39&&_0(Bn);break;case 40:t===41&&_0(t);break;case 92:po();break}return Hi}function RR(t,e){for(;po()&&t+Bn!==57;)if(t+Bn===84&&Il()===47)break;return"/*"+Im(e,Hi-1)+"*"+Tv(t===47?t:po())}function DR(t){for(;!w0(Il());)po();return Im(t,Hi)}function FR(t){return IR(Jd("",null,null,null,[""],t=NR(t),0,[0],t))}function Jd(t,e,n,r,i,o,s,a,l){for(var h=0,d=0,m=s,g=0,p=0,P=0,N=1,L=1,w=1,y=0,A="",F=i,V=o,z=r,C=A;L;)switch(P=y,y=po()){case 40:if(P!=108&&er(C,m-1)==58){Yd(C+=bt(Bg(y),"&","&\f"),"&\f",HS(h?a[h-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:C+=Bg(y);break;case 9:case 10:case 13:case 32:C+=kR(P);break;case 92:C+=LR(Xd()-1,7);continue;case 47:switch(Il()){case 42:case 47:mh(OR(RR(po(),Xd()),e,n,l),l);break;default:C+="/"}break;case 123*N:a[h++]=Oo(C)*w;case 125*N:case 59:case 0:switch(y){case 0:case 125:L=0;case 59+d:w==-1&&(C=bt(C,/\f/g,"")),p>0&&Oo(C)-m&&mh(p>32?kw(C+";",r,n,m-1,l):kw(bt(C," ","")+";",r,n,m-2,l),l);break;case 59:C+=";";default:if(mh(z=Iw(C,e,n,h,d,i,a,A,F=[],V=[],m,o),o),y===123)if(d===0)Jd(C,e,z,z,F,o,m,a,V);else switch(g===99&&er(C,3)===110?100:g){case 100:case 108:case 109:case 115:Jd(t,z,z,r&&mh(Iw(t,z,z,0,0,i,a,A,i,F=[],m,V),V),i,V,m,a,r?F:V);break;default:Jd(C,z,z,z,[""],V,0,a,V)}}h=d=p=0,N=w=1,A=C="",m=s;break;case 58:m=1+Oo(C),p=P;default:if(N<1){if(y==123)--N;else if(y==125&&N++==0&&CR()==125)continue}switch(C+=Tv(y),y*N){case 38:w=d>0?1:(C+="\f",-1);break;case 44:a[h++]=(Oo(C)-1)*w,w=1;break;case 64:Il()===45&&(C+=Bg(po())),g=Il(),d=m=Oo(A=C+=DR(Xd())),y++;break;case 45:P===45&&Oo(C)==2&&(N=0)}}return o}function Iw(t,e,n,r,i,o,s,a,l,h,d,m){for(var g=i-1,p=i===0?o:[""],P=GS(p),N=0,L=0,w=0;N<r;++N)for(var y=0,A=gc(t,g+1,g=HS(L=s[N])),F=t;y<P;++y)(F=WS(L>0?p[y]+" "+A:bt(A,/&\f/g,p[y])))&&(l[w++]=F);return Nm(t,e,n,i===0?Tm:a,l,h,d,m)}function OR(t,e,n,r){return Nm(t,e,n,qS,Tv(TR()),gc(t,2,-2),0,r)}function kw(t,e,n,r,i){return Nm(t,e,n,Pv,gc(t,0,r),gc(t,r+1,-1),r,i)}function QS(t,e,n){switch(ER(t,e)){case 5103:return Vt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Vt+t+t;case 4789:return Ih+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Vt+t+Ih+t+sn+t+t;case 5936:switch(er(t,e+11)){case 114:return Vt+t+sn+bt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Vt+t+sn+bt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Vt+t+sn+bt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Vt+t+sn+t+t;case 6165:return Vt+t+sn+"flex-"+t+t;case 5187:return Vt+t+bt(t,/(\w+).+(:[^]+)/,Vt+"box-$1$2"+sn+"flex-$1$2")+t;case 5443:return Vt+t+sn+"flex-item-"+bt(t,/flex-|-self/g,"")+(ms(t,/flex-|baseline/)?"":sn+"grid-row-"+bt(t,/flex-|-self/g,""))+t;case 4675:return Vt+t+sn+"flex-line-pack"+bt(t,/align-content|flex-|-self/g,"")+t;case 5548:return Vt+t+sn+bt(t,"shrink","negative")+t;case 5292:return Vt+t+sn+bt(t,"basis","preferred-size")+t;case 6060:return Vt+"box-"+bt(t,"-grow","")+Vt+t+sn+bt(t,"grow","positive")+t;case 4554:return Vt+bt(t,/([^-])(transform)/g,"$1"+Vt+"$2")+t;case 6187:return bt(bt(bt(t,/(zoom-|grab)/,Vt+"$1"),/(image-set)/,Vt+"$1"),t,"")+t;case 5495:case 3959:return bt(t,/(image-set\([^]*)/,Vt+"$1$`$1");case 4968:return bt(bt(t,/(.+:)(flex-)?(.*)/,Vt+"box-pack:$3"+sn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Vt+t+t;case 4200:if(!ms(t,/flex-|baseline/))return sn+"grid-column-align"+gc(t,e)+t;break;case 2592:case 3360:return sn+bt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,ms(r.props,/grid-\w+-end/)})?~Yd(t+(n=n[e].value),"span",0)?t:sn+bt(t,"-start","")+t+sn+"grid-row-span:"+(~Yd(n,"span",0)?ms(n,/\d+/):+ms(n,/\d+/)-+ms(t,/\d+/))+";":sn+bt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ms(r.props,/grid-\w+-start/)})?t:sn+bt(bt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return bt(t,/(.+)-inline(.+)/,Vt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Oo(t)-1-e>6)switch(er(t,e+1)){case 109:if(er(t,e+4)!==45)break;case 102:return bt(t,/(.+:)(.+)-([^]+)/,"$1"+Vt+"$2-$3$1"+Ih+(er(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Yd(t,"stretch",0)?QS(bt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return bt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,h){return sn+i+":"+o+h+(s?sn+i+"-span:"+(a?l:+l-+o)+h:"")+t});case 4949:if(er(t,e+6)===121)return bt(t,":",":"+Vt)+t;break;case 6444:switch(er(t,er(t,14)===45?18:11)){case 120:return bt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Vt+(er(t,14)===45?"inline-":"")+"box$3$1"+Vt+"$2$3$1"+sn+"$2box$3")+t;case 100:return bt(t,":",":"+sn)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return bt(t,"scroll-","scroll-snap-")+t}return t}function Vp(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function jR(t,e,n,r){switch(t.type){case xR:if(t.children.length)break;case AR:case Pv:return t.return=t.return||t.value;case qS:return"";case $S:return t.return=t.value+"{"+Vp(t.children,r)+"}";case Tm:if(!Oo(t.value=t.props.join(",")))return""}return Oo(n=Vp(t.children,r))?t.return=t.value+"{"+n+"}":""}function MR(t){var e=GS(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function VR(t){return function(e){e.root||(e=e.return)&&t(e)}}function BR(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Pv:t.return=QS(t.value,t.length,n);return;case $S:return Vp([ha(t,{value:bt(t.value,"@","@"+Vt)})],r);case Tm:if(t.length)return PR(n=t.props,function(i){switch(ms(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":xu(ha(t,{props:[bt(i,/:(read-\w+)/,":"+Ih+"$1")]})),xu(ha(t,{props:[i]})),y0(t,{props:Nw(n,r)});break;case"::placeholder":xu(ha(t,{props:[bt(i,/:(plac\w+)/,":"+Vt+"input-$1")]})),xu(ha(t,{props:[bt(i,/:(plac\w+)/,":"+Ih+"$1")]})),xu(ha(t,{props:[bt(i,/:(plac\w+)/,sn+"input-$1")]})),xu(ha(t,{props:[i]})),y0(t,{props:Nw(n,r)});break}return""})}}var UR={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mi={},yc=typeof process<"u"&&mi!==void 0&&(mi.REACT_APP_SC_ATTR||mi.SC_ATTR)||"data-styled",YS="active",XS="data-styled-version",km="6.1.13",Cv=`/*!sc*/
`,Bp=typeof window<"u"&&"HTMLElement"in window,zR=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&mi!==void 0&&mi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&mi.REACT_APP_SC_DISABLE_SPEEDY!==""?mi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&mi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&mi!==void 0&&mi.SC_DISABLE_SPEEDY!==void 0&&mi.SC_DISABLE_SPEEDY!==""&&mi.SC_DISABLE_SPEEDY!=="false"&&mi.SC_DISABLE_SPEEDY),Lm=Object.freeze([]),wc=Object.freeze({});function qR(t,e,n){return n===void 0&&(n=wc),t.theme!==n.theme&&t.theme||e||n.theme}var JS=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),$R=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,HR=/(^-|-$)/g;function Lw(t){return t.replace($R,"-").replace(HR,"")}var WR=/(a)(d)/gi,Ad=52,Rw=function(t){return String.fromCharCode(t+(t>25?39:97))};function b0(t){var e,n="";for(e=Math.abs(t);e>Ad;e=e/Ad|0)n=Rw(e%Ad)+n;return(Rw(e%Ad)+n).replace(WR,"$1-$2")}var Ug,ZS=5381,Hu=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},eA=function(t){return Hu(ZS,t)};function tA(t){return b0(eA(t)>>>0)}function GR(t){return t.displayName||t.name||"Component"}function zg(t){return typeof t=="string"&&!0}var nA=typeof Symbol=="function"&&Symbol.for,rA=nA?Symbol.for("react.memo"):60115,KR=nA?Symbol.for("react.forward_ref"):60112,QR={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},YR={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},iA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XR=((Ug={})[KR]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ug[rA]=iA,Ug);function Dw(t){return("type"in(e=t)&&e.type.$$typeof)===rA?iA:"$$typeof"in t?XR[t.$$typeof]:QR;var e}var JR=Object.defineProperty,ZR=Object.getOwnPropertyNames,Fw=Object.getOwnPropertySymbols,e8=Object.getOwnPropertyDescriptor,t8=Object.getPrototypeOf,Ow=Object.prototype;function oA(t,e,n){if(typeof e!="string"){if(Ow){var r=t8(e);r&&r!==Ow&&oA(t,r,n)}var i=ZR(e);Fw&&(i=i.concat(Fw(e)));for(var o=Dw(t),s=Dw(e),a=0;a<i.length;++a){var l=i[a];if(!(l in YR||n&&n[l]||s&&l in s||o&&l in o)){var h=e8(e,l);try{JR(t,l,h)}catch{}}}}return t}function _c(t){return typeof t=="function"}function Nv(t){return typeof t=="object"&&"styledComponentId"in t}function xl(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function S0(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function cf(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function A0(t,e,n){if(n===void 0&&(n=!1),!n&&!cf(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=A0(t[r],e[r]);else if(cf(e))for(var r in e)t[r]=A0(t[r],e[r]);return t}function Iv(t,e){Object.defineProperty(t,"toString",{value:e})}function Tf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var n8=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)if((o<<=1)<0)throw Tf(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(Cv);return n},t}(),Zd=new Map,Up=new Map,ep=1,xd=function(t){if(Zd.has(t))return Zd.get(t);for(;Up.has(ep);)ep++;var e=ep++;return Zd.set(t,e),Up.set(e,t),e},r8=function(t,e){ep=e+1,Zd.set(t,e),Up.set(e,t)},i8="style[".concat(yc,"][").concat(XS,'="').concat(km,'"]'),o8=new RegExp("^".concat(yc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),s8=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},a8=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Cv),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(o8);if(l){var h=0|parseInt(l[1],10),d=l[2];h!==0&&(r8(d,h),s8(t,d,l[3]),t.getTag().insertRules(h,i)),i.length=0}else i.push(a)}}},jw=function(t){for(var e=document.querySelectorAll(i8),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(yc)!==YS&&(a8(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function l8(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var sA=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(yc,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(yc,YS),r.setAttribute(XS,km);var s=l8();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},u8=function(){function t(e){this.element=sA(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw Tf(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),c8=function(){function t(e){this.element=sA(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),h8=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Mw=Bp,f8={isServer:!Bp,useCSSOMInjection:!zR},aA=function(){function t(e,n,r){e===void 0&&(e=wc),n===void 0&&(n={});var i=this;this.options=Zr(Zr({},f8),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Bp&&Mw&&(Mw=!1,jw(this)),Iv(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",h=function(m){var g=function(w){return Up.get(w)}(m);if(g===void 0)return"continue";var p=o.names.get(g),P=s.getGroup(m);if(p===void 0||!p.size||P.length===0)return"continue";var N="".concat(yc,".g").concat(m,'[id="').concat(g,'"]'),L="";p!==void 0&&p.forEach(function(w){w.length>0&&(L+="".concat(w,","))}),l+="".concat(P).concat(N,'{content:"').concat(L,'"}').concat(Cv)},d=0;d<a;d++)h(d);return l}(i)})}return t.registerId=function(e){return xd(e)},t.prototype.rehydrate=function(){!this.server&&Bp&&jw(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Zr(Zr({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new h8(i):r?new u8(i):new c8(i)}(this.options),new n8(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(xd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(xd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(xd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),d8=/&/g,p8=/^\s*\/\/.*$/gm;function lA(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=lA(n.children,e)),n})}function m8(t){var e,n,r,i=wc,o=i.options,s=o===void 0?wc:o,a=i.plugins,l=a===void 0?Lm:a,h=function(g,p,P){return P.startsWith(n)&&P.endsWith(n)&&P.replaceAll(n,"").length>0?".".concat(e):g},d=l.slice();d.push(function(g){g.type===Tm&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(d8,n).replace(r,h))}),s.prefix&&d.push(BR),d.push(jR);var m=function(g,p,P,N){p===void 0&&(p=""),P===void 0&&(P=""),N===void 0&&(N="&"),e=N,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var L=g.replace(p8,""),w=FR(P||p?"".concat(P," ").concat(p," { ").concat(L," }"):L);s.namespace&&(w=lA(w,s.namespace));var y=[];return Vp(w,MR(d.concat(VR(function(A){return y.push(A)})))),y};return m.hash=l.length?l.reduce(function(g,p){return p.name||Tf(15),Hu(g,p.name)},ZS).toString():"",m}var g8=new aA,x0=m8(),uA=ec.createContext({shouldForwardProp:void 0,styleSheet:g8,stylis:x0});uA.Consumer;ec.createContext(void 0);function Vw(){return ue.useContext(uA)}var cA=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=x0);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Iv(this,function(){throw Tf(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=x0),this.name+e.hash},t}(),v8=function(t){return t>="A"&&t<="Z"};function Bw(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;v8(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var hA=function(t){return t==null||t===!1||t===""},fA=function(t){var e,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!hA(o)&&(Array.isArray(o)&&o.isCss||_c(o)?r.push("".concat(Bw(i),":"),o,";"):cf(o)?r.push.apply(r,uf(uf(["".concat(i," {")],fA(o),!1),["}"],!1)):r.push("".concat(Bw(i),": ").concat((e=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in UR||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function kl(t,e,n,r){if(hA(t))return[];if(Nv(t))return[".".concat(t.styledComponentId)];if(_c(t)){if(!_c(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return kl(i,e,n,r)}var o;return t instanceof cA?n?(t.inject(n,r),[t.getName(r)]):[t]:cf(t)?fA(t):Array.isArray(t)?Array.prototype.concat.apply(Lm,t.map(function(s){return kl(s,e,n,r)})):[t.toString()]}function y8(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(_c(n)&&!Nv(n))return!1}return!0}var w8=eA(km),_8=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&y8(e),this.componentId=n,this.baseHash=Hu(w8,n),this.baseStyle=r,aA.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=xl(i,this.staticRulesId);else{var o=S0(kl(this.rules,e,n,r)),s=b0(Hu(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=xl(i,s),this.staticRulesId=s}else{for(var l=Hu(this.baseHash,r.hash),h="",d=0;d<this.rules.length;d++){var m=this.rules[d];if(typeof m=="string")h+=m;else if(m){var g=S0(kl(m,e,n,r));l=Hu(l,g+d),h+=g}}if(h){var p=b0(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(h,".".concat(p),void 0,this.componentId)),i=xl(i,p)}}return i},t}(),dA=ec.createContext(void 0);dA.Consumer;var qg={};function b8(t,e,n){var r=Nv(t),i=t,o=!zg(t),s=e.attrs,a=s===void 0?Lm:s,l=e.componentId,h=l===void 0?function(F,V){var z=typeof F!="string"?"sc":Lw(F);qg[z]=(qg[z]||0)+1;var C="".concat(z,"-").concat(tA(km+z+qg[z]));return V?"".concat(V,"-").concat(C):C}(e.displayName,e.parentComponentId):l,d=e.displayName,m=d===void 0?function(F){return zg(F)?"styled.".concat(F):"Styled(".concat(GR(F),")")}(t):d,g=e.displayName&&e.componentId?"".concat(Lw(e.displayName),"-").concat(e.componentId):e.componentId||h,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,P=e.shouldForwardProp;if(r&&i.shouldForwardProp){var N=i.shouldForwardProp;if(e.shouldForwardProp){var L=e.shouldForwardProp;P=function(F,V){return N(F,V)&&L(F,V)}}else P=N}var w=new _8(n,g,r?i.componentStyle:void 0);function y(F,V){return function(z,C,b){var T=z.attrs,R=z.componentStyle,E=z.defaultProps,S=z.foldedComponentIds,I=z.styledComponentId,K=z.target,ce=ec.useContext(dA),ee=Vw(),J=z.shouldForwardProp||ee.shouldForwardProp,Q=qR(C,ce,E)||wc,Y=function(ne,ie,pe){for(var ye,we=Zr(Zr({},ie),{className:void 0,theme:pe}),Re=0;Re<ne.length;Re+=1){var ke=_c(ye=ne[Re])?ye(we):ye;for(var Me in ke)we[Me]=Me==="className"?xl(we[Me],ke[Me]):Me==="style"?Zr(Zr({},we[Me]),ke[Me]):ke[Me]}return ie.className&&(we.className=xl(we.className,ie.className)),we}(T,C,Q),oe=Y.as||K,ve={};for(var O in Y)Y[O]===void 0||O[0]==="$"||O==="as"||O==="theme"&&Y.theme===Q||(O==="forwardedAs"?ve.as=Y.forwardedAs:J&&!J(O,oe)||(ve[O]=Y[O]));var H=function(ne,ie){var pe=Vw(),ye=ne.generateAndInjectStyles(ie,pe.styleSheet,pe.stylis);return ye}(R,Y),X=xl(S,I);return H&&(X+=" "+H),Y.className&&(X+=" "+Y.className),ve[zg(oe)&&!JS.has(oe)?"class":"className"]=X,ve.ref=b,ue.createElement(oe,ve)}(A,F,V)}y.displayName=m;var A=ec.forwardRef(y);return A.attrs=p,A.componentStyle=w,A.displayName=m,A.shouldForwardProp=P,A.foldedComponentIds=r?xl(i.foldedComponentIds,i.styledComponentId):"",A.styledComponentId=g,A.target=r?i.target:t,Object.defineProperty(A,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(F){this._foldedDefaultProps=r?function(V){for(var z=[],C=1;C<arguments.length;C++)z[C-1]=arguments[C];for(var b=0,T=z;b<T.length;b++)A0(V,T[b],!0);return V}({},i.defaultProps,F):F}}),Iv(A,function(){return".".concat(A.styledComponentId)}),o&&oA(A,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),A}function Uw(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var zw=function(t){return Object.assign(t,{isCss:!0})};function pA(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_c(t)||cf(t))return zw(kl(Uw(Lm,uf([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?kl(r):zw(kl(Uw(r,e)))}function E0(t,e,n){if(n===void 0&&(n=wc),!e)throw Tf(1,e);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t(e,n,pA.apply(void 0,uf([i],o,!1)))};return r.attrs=function(i){return E0(t,e,Zr(Zr({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return E0(t,e,Zr(Zr({},n),i))},r}var mA=function(t){return E0(b8,t)},Yl=mA;JS.forEach(function(t){Yl[t]=mA(t)});function kv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=S0(pA.apply(void 0,uf([t],e,!1))),i=tA(r);return new cA(i,r)}const qw="#4fa94d",S8={"aria-busy":!0,role:"progressbar"},A8=Yl.div`
  display: ${t=>t.$visible?"flex":"none"};
`,so=242.776657104492,x8=1.6,E8=kv`
12.5% {
  stroke-dasharray: ${so*.14}px, ${so}px;
  stroke-dashoffset: -${so*.11}px;
}
43.75% {
  stroke-dasharray: ${so*.35}px, ${so}px;
  stroke-dashoffset: -${so*.35}px;
}
100% {
  stroke-dasharray: ${so*.01}px, ${so}px;
  stroke-dashoffset: -${so*.99}px;
}
`;Yl.path`
  stroke-dasharray: ${so*.01}px, ${so};
  stroke-dashoffset: 0;
  animation: ${E8} ${x8}s linear infinite;
`;const $g=20,P8=t=>["M"+t+" 0c0-9.94-8.06",t,t,t].join("-"),T8=(t,e,n)=>{const r=Math.max(t,e),i=-n-r/2+1,o=n*2+r;return[i,i,o,o].join(" ")},gA=({height:t=80,width:e=80,color:n=qw,secondaryColor:r=qw,ariaLabel:i="oval-loading",wrapperStyle:o,wrapperClass:s,visible:a=!0,strokeWidth:l=2,strokeWidthSecondary:h})=>W.jsx(A8,{style:o,$visible:a,className:s,"data-testid":"oval-loading","aria-label":i,...S8,children:W.jsx("svg",{width:e,height:t,viewBox:T8(Number(l),Number(h||l),$g),xmlns:"http://www.w3.org/2000/svg",stroke:n,"data-testid":"oval-svg",children:W.jsx("g",{fill:"none",fillRule:"evenodd",children:W.jsxs("g",{transform:"translate(1 1)",strokeWidth:Number(h||l),"data-testid":"oval-secondary-group",children:[W.jsx("circle",{strokeOpacity:".5",cx:"0",cy:"0",r:$g,stroke:r,strokeWidth:l}),W.jsx("path",{d:P8($g),children:W.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 0 0",to:"360 0 0",dur:"1s",repeatCount:"indefinite"})})]})})})}),C8=kv`
to {
   transform: rotate(360deg);
 }
`;Yl.svg`
  animation: ${C8} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Yl.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const N8=kv`
to {
   stroke-dashoffset: 136;
 }
`;Yl.polygon`
  stroke-dasharray: 17;
  animation: ${N8} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Yl.svg`
  transform-origin: 50% 65%;
`;const Rm=()=>W.jsx("div",{className:"loading-container",children:W.jsx(gA,{height:80,width:80,color:"rgb(19, 103, 181)",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"rgb(19, 103, 181)",strokeWidth:2,strokeWidthSecondary:2})}),I8=()=>W.jsxs("div",{className:"loading-container",children:[W.jsx(gA,{height:80,width:80,color:"rgb(19, 103, 181)",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"rgb(19, 103, 181)",strokeWidth:2,strokeWidthSecondary:2}),W.jsx("p",{children:"Finalizando venda..."})]}),vA=({shoppingList:t,setShoppingList:e})=>{const[n,r]=ue.useState(""),[i,o]=ue.useState([]),s=ue.useRef(null),[a,l]=ue.useState(0),[h,d]=ue.useState(0),[m,g]=ue.useState(0),[p,P]=ue.useState(!1),[N,L]=ue.useState(""),[w,y]=ue.useState(""),[A,F]=ue.useState([]),[V,z]=ue.useState(0),[C,b]=ue.useState(0),[T,R]=ue.useState(0),[E,S]=ue.useState(!1),[I,K]=ue.useState(0),[ce,ee]=ue.useState(!1),[J,Q]=ue.useState(!1),Y=async fe=>{var Ce;let Z=fe.target.value.trim().toLowerCase();if(r(Z),Z===""){o([]);return}const Je=Z.match(/^(\d+(\.\d+)?)\*\s*(.+)$/);let ze=1;Je&&(ze=parseFloat(Je[1]),Z=Je[3].toLowerCase());try{const Fe=vi(In,"Produtos"),Be=Au(Fe,la("codigo","==",Z)),Ue=await Mi(Be);if(!Ue.empty){const pt={...Ue.docs[0].data(),quantity:ze};O(pt,pt.quantity||1),r(""),o([]),(Ce=s.current)==null||Ce.focus();return}const tt=Au(Fe,la("nome",">=",Z),la("nome","<=",Z+"")),st=Au(Fe,la("keywords","array-contains",Z)),ht=await Mi(tt),Ze=await Mi(st),rt=[];ht.forEach(nt=>rt.push(nt.data())),Ze.forEach(nt=>rt.push(nt.data()));const St=rt.map(nt=>({...nt,quantity:ze}));o(St)}catch(Fe){console.error("Erro ao buscar produtos:",Fe)}},oe=fe=>{if(fe.key==="Enter"&&i.length>0){const Z=i[0];O(Z,Z.quantity||1)}},ve=fe=>{var ze;const Z=n.match(/^([\d.]+)\*/),Je=Z?parseFloat(Z[1]):1;Je>0?O(fe,Je):console.error("Quantidade invlida!"),o([]),r(""),(ze=s.current)==null||ze.focus()},O=(fe,Z=1)=>{var Je;e(ze=>{const Ce=ze.findIndex(Fe=>Fe.nome===fe.nome);if(Ce!==-1){const Fe=[...ze];return Fe[Ce].quantity+=Z,Fe}else return[...ze,{nome:fe.nome,preco:parseFloat(fe.preco),quantity:Z}]}),o([]),r(""),(Je=s.current)==null||Je.focus()},H=fe=>{e(Z=>Z.filter((Je,ze)=>ze!==fe))},X=()=>{e([]),d(0),g(0),l(0),r(""),o([])},ne=fe=>{const Z=parseFloat(fe.target.value)/100;l(Z)},ie=()=>{const Je=t.reduce((Ce,Fe)=>Ce+parseFloat(Fe.preco)*Fe.quantity,0)+h-m;return(Je-Je*a).toFixed(2)},pe=()=>{P(!0)},ye=()=>{P(!1)},we=async fe=>{fe.preventDefault(),Q(!0);try{const Z=vi(In,"Clientes"),Je=Au(Z,la("nome","==",N)),ze=await Mi(Je);let Ce=null,Fe=0;ze.empty?(Ce=N,await Zu(zi(Z,Ce),{nome:N,nomeMinusculo:N.toLowerCase(),telefone:w,criadoEm:new Date,divida:0,dataUltimoPagamento:""})):ze.forEach(Ze=>{Ce=Ze.id,Fe=Ze.data().divida||0});const Be=Fe+parseFloat(C);await Zu(zi(Z,Ce),{divida:Be},{merge:!0});const Ue=ie(),st=V,ht=t.reduce((Ze,rt)=>Ze+rt.quantity,0);await AS(vi(In,"Vendas"),{Lista:t,TotalVenda:parseFloat(Ue),TotalItens:ht,Cliente:{id:Ce,nome:N,nomeMinusculo:N.toLowerCase(),telefone:w},Data:new Date,Pago:st,Fiado:parseFloat(C)});for(const Ze of t){const rt=vi(In,"Produtos"),St=Au(rt,la("nome","==",Ze.nome)),nt=await Mi(St);if(!nt.empty){const pt=nt.docs[0],He=pt.data().estoque||0;await Zu(zi(rt,pt.id),{estoque:Math.max(0,He-Ze.quantity)},{merge:!0})}}console.log("Venda salva com sucesso e estoque atualizado!"),L(""),y(""),e([]),F([]),P(!1)}catch(Z){console.error("Erro ao salvar a venda ou criar cliente:",Z)}finally{Q(!1)}},Re=async fe=>{if(L(fe),fe.trim()===""){F([]);return}const Z=fe.toLowerCase(),Je=vi(In,"Clientes"),ze=Au(Je,la("nomeMinusculo",">=",Z),la("nomeMinusculo","<=",Z+"")),Ce=await Mi(ze),Fe=[];Ce.forEach(Be=>{Fe.push({id:Be.id,...Be.data()})}),F(Fe)},ke=fe=>{L(fe.nome),y(fe.telefone),F([])},Me=fe=>{let Z=fe.target.value;if(Z===""){z(""),b(ie());return}if(/^(\d+(\.\d{0,2})?|\.\d{0,2})$/.test(Z)){/^0[0-9]/.test(Z)&&(Z=Z.replace(/^0+/,""));const Je=parseFloat(Z)||0;z(Z),b(ie()-Je)}};ue.useEffect(()=>{T>V&&ee(!0),C>0?S(!0):S(!1)},[]);const Ve=fe=>{R(fe.target.value)},it=()=>{T.length>0&&K(T-V)};return ue.useEffect(()=>{it()}),ue.useEffect(()=>{const fe=Z=>{t.length>0&&(Z.preventDefault(),Z.returnValue="")};return window.addEventListener("beforeunload",fe),()=>{window.removeEventListener("beforeunload",fe)}},[t]),J?W.jsx(I8,{}):W.jsx("div",{id:"frenteCaixaContainer",children:W.jsxs("main",{id:"frenteCaixa",children:[W.jsx("section",{id:"shoppingList",children:t.map((fe,Z)=>W.jsxs("p",{className:"product",children:[fe.nome," - ",fe.quantity," ",fe.nome==="Farinha de Mandioca"?"kg":"un",W.jsxs("span",{children:["R$",(fe.preco*fe.quantity).toFixed(2),W.jsx("button",{className:"remove-btn",onClick:()=>H(Z),children:W.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})]},Z))}),W.jsxs("div",{id:"secondContainer",children:[W.jsxs("section",{id:"searchBar",children:[W.jsx("input",{type:"text",name:"searchProduct",id:"searchProduct",className:"form-control",placeholder:"Buscar produto por nome ou cdigo",value:n,onChange:Y,onKeyDown:oe,ref:s}),W.jsx("div",{id:"searchResult",children:i.map((fe,Z)=>W.jsxs("p",{className:"search-item",onClick:()=>ve(fe),style:{cursor:"pointer"},children:[W.jsx("span",{children:fe.nome}),W.jsx("span",{children:W.jsx("img",{className:"smallProductImage",src:fe.imagem})}),W.jsxs("span",{children:["Cd: ",fe.codigo]}),W.jsxs("span",{children:["R$",fe.preco.toFixed(2)]})]},Z))})]}),W.jsxs("section",{id:"checkout",children:[W.jsx("p",{id:"totalValue",children:W.jsx("strong",{children:W.jsxs("span",{children:["R$",ie()]})})}),W.jsxs("div",{id:"extraValues",children:[W.jsx("input",{className:"form-control",type:"number",name:"extraAmount",id:"extraAmount",placeholder:"Adicione valor extra",onChange:fe=>d(parseFloat(fe.target.value)||0)}),W.jsx("input",{className:"form-control",type:"number",name:"discountAmount",id:"discountAmount",placeholder:"Adicionar desconto",onChange:fe=>g(parseFloat(fe.target.value)||0)}),W.jsx("input",{className:"form-control",type:"number",name:"discount",id:"discount",placeholder:"Adicionar desconto (%)",onChange:ne})]}),W.jsxs("div",{id:"checkoutButtons",children:[W.jsx("button",{className:"btn btn-success",onClick:pe,disabled:t.length===0,children:"Pagamento"}),W.jsx("button",{className:"btn btn-danger",onClick:X,children:"Cancelar"})]})]})]}),p&&W.jsx("div",{id:"background",children:W.jsxs("div",{id:"saveShoppingContainer",children:[W.jsx("button",{id:"closeShop",onClick:ye,className:"material-symbols-outlined",children:"close"}),W.jsxs("div",{children:[W.jsx("h2",{children:"Venda a finalizar"}),W.jsx("div",{id:"listCheck",children:t.map((fe,Z)=>W.jsxs("li",{children:[fe.quantity,"x ",fe.nome]},Z))})]}),W.jsxs("div",{children:[W.jsx("h2",{children:"Dados do Cliente"}),W.jsxs("form",{onSubmit:we,id:"clientData",children:[W.jsxs("div",{children:[W.jsx("label",{htmlFor:"clientName",children:"Nome do Cliente"}),W.jsx("input",{className:"form-control",type:"text",name:"clientName",id:"clientName",value:N,onChange:fe=>Re(fe.target.value),required:!0}),A.length>0&&W.jsx("ul",{className:"client-suggestions",children:A.map(fe=>W.jsxs("li",{onClick:()=>ke(fe),children:[fe.nome," - ",fe.telefone]},fe.id))})]}),A.length===0&&W.jsxs("div",{children:[W.jsx("label",{htmlFor:"clientPhone",children:"Telefone do Cliente"}),W.jsx("input",{className:"form-control",type:"text",name:"clientPhone",id:"clientPhone",value:w,onChange:fe=>y(fe.target.value),required:!0})]}),W.jsx("label",{htmlFor:"paid",children:"Quanto o cliente vai pagar?"}),W.jsx("input",{className:"form-control",type:"text",name:"paid",id:"paid",value:V||0,onChange:Me}),W.jsx("label",{htmlFor:"insertedValue",children:"Qual o valor inserido?"}),W.jsx("input",{type:"number",name:"insertedValue",id:"insertedValue",className:"form-control",value:T,onChange:Ve}),W.jsxs("p",{className:"changeValue",onChange:it,children:[" ",W.jsx("strong",{children:W.jsxs("i",{children:["O troco  de R$",I]})})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"noPaid",children:"O fiado ser:"}),W.jsx("input",{type:"text",name:"noPaid",value:C||0,readOnly:!0,className:"form-control"})]}),W.jsx("br",{}),W.jsxs("p",{id:"calculateTotal",children:["Total: R$",ie()]})," ",W.jsx("br",{}),W.jsx("button",{className:"btn btn-dark",type:"submit",children:"Finalizar Venda"})]})]})]})})]})})},k8=()=>{const[t,e]=ue.useState(""),[n,r]=ue.useState(""),[i,o]=ue.useState(""),[s,a]=ue.useState(""),[l,h]=ue.useState(""),[d,m]=ue.useState(null),[g,p]=ue.useState(""),P=y=>y.toLowerCase().match(/\w+('\w+)?/g)||[],N=async y=>(await bS(zi(In,"Produtos",y))).exists(),L=y=>{const A=y.target.files[0];if(A){const F=new FileReader;F.onload=V=>{m(V.target.result)},F.readAsDataURL(A)}},w=async y=>{if(y.preventDefault(),!t||!n||!i||!s||!l){p("Por favor, preencha todos os campos.");return}const A=P(n);if(await N(l)){p("Erro: O cdigo do produto j existe. Tente um cdigo diferente.");return}try{await Zu(zi(In,"Produtos",l),{categoria:t,nome:n,nomeMinusculo:n.toLowerCase(),preco:parseFloat(i),estoque:parseInt(s,10),codigo:l,keywords:A,keywordsMinusculo:A.map(V=>V.toLowerCase()),imagem:d}),p("Produto criado com sucesso!"),e(""),r(""),o(""),a(""),h(""),m(null)}catch(V){console.error("Erro ao criar produto:",V),V.code==="permission-denied"?p("Permisso insuficiente. Verifique as regras do Firestore."):p("Erro ao criar produto. Tente novamente.")}};return W.jsx("div",{children:W.jsxs("section",{children:[W.jsxs("form",{id:"createProduct",onSubmit:w,children:[W.jsx("label",{htmlFor:"productCategory",children:"Categoria do Produto"}),W.jsxs("select",{name:"productCategory",id:"productCategory",className:"form-control",value:t,onChange:y=>e(y.target.value),children:[W.jsx("option",{value:"",children:"Selecione uma categoria"}),W.jsx("option",{value:"alimentos",children:"Alimentos"}),W.jsx("option",{value:"bebidas",children:"Bebidas"}),W.jsx("option",{value:"higiene",children:"Higiene"}),W.jsx("option",{value:"limpeza",children:"Limpeza"}),W.jsx("option",{value:"botijo",children:"Botijo"}),W.jsx("option",{value:"pagamento",children:"Pagamento"}),W.jsx("option",{value:"utilidades",children:"Utilidades"})]}),W.jsx("br",{}),W.jsx("label",{htmlFor:"productImage",children:"Adicione uma foto"}),W.jsx("input",{type:"file",name:"productImage",id:"productImage",onChange:L}),W.jsx("br",{}),d&&W.jsx("div",{id:"productImagePreview",children:W.jsx("img",{src:d,alt:"Pr-visualizao do produto",style:{maxWidth:"100%",maxHeight:"200px"}})}),W.jsx("br",{}),W.jsx("label",{htmlFor:"productName",children:"Nome do Produto"}),W.jsx("input",{type:"text",name:"productName",id:"productName",placeholder:"Nome do produto",className:"form-control",value:n,onChange:y=>r(y.target.value)}),W.jsx("label",{htmlFor:"productPrice",children:"Preo Unitrio"}),W.jsx("input",{type:"number",name:"productPrice",id:"productPrice",placeholder:"Preo do produto",className:"form-control",value:i,onChange:y=>o(y.target.value)}),W.jsx("label",{htmlFor:"stockQuantity",children:"Quantidade em Estoque"}),W.jsx("input",{type:"number",name:"stockQuantity",id:"stockQuantity",placeholder:"Quantidade em estoque",className:"form-control",value:s,onChange:y=>a(y.target.value)}),W.jsx("label",{htmlFor:"productCode",children:"Cdigo do Produto"}),W.jsx("input",{type:"number",name:"productCode",id:"productCode",placeholder:"Cdigo do produto",className:"form-control",value:l,onChange:y=>h(y.target.value)}),W.jsx("button",{className:"btn btn-dark form-control",type:"submit",children:"+ CRIAR NOVO PRODUTO"})]}),g&&W.jsx("p",{children:g})]})})},L8=()=>{const[t,e]=ue.useState([]),[n,r]=ue.useState([]),[i,o]=ue.useState(null),[s,a]=ue.useState(!0),[l,h]=ue.useState(!1),[d,m]=ue.useState("Todos"),[g,p]=ue.useState(!1),[P,N]=ue.useState(null),[L,w]=ue.useState(null),y=async()=>{p(!0);try{const T=vi(In,"Produtos"),E=(await Mi(T)).docs.map(S=>({id:S.id,...S.data()}));E.sort((S,I)=>S.nome.localeCompare(I.nome)),e(E),r(E)}catch(T){console.error("Erro ao buscar produtos:",T)}finally{p(!1)}};ue.useEffect(()=>{y()},[]);const A=T=>{m(T),r(T==="Todos"?t:t.filter(R=>R.categoria===T))},F=T=>{o(T),N(T.imagem||null),a(!1),h(!0)},V=()=>{a(!0),h(!1),N(null),w(null)},z=T=>{const R=T.target.files[0];R&&(w(R),N(URL.createObjectURL(R)))},C=async T=>{const R=gR(SR,`produtos/${i.id}/${T.name}`);return await pR(R,T),await mR(R)},b=async T=>{if(T.preventDefault(),!i.categoria){alert("Por favor, selecione uma categoria vlida.");return}const R=new FormData(T.target),E=R.get("productName").toLowerCase().split(" "),S={categoria:R.get("productCategory"),nome:R.get("productName"),nomeMinusculo:R.get("productName").toLowerCase(),preco:parseFloat(R.get("productPrice")),estoque:parseInt(R.get("stockQuantity")),codigo:R.get("productCode"),keywords:E,keywordsMinusculo:E.map(I=>I.toLowerCase())};try{if(L){const K=await C(L);S.imagem=K}const I=zi(In,"Produtos",i.id);await Zu(I,S,{merge:!0}),h(!1),a(!0),y()}catch(I){console.error("Erro ao atualizar produto:",I)}};return g?W.jsx(Rm,{}):W.jsxs("div",{id:"productsContainer",children:[W.jsx("menu",{id:"chooseCategory",children:["alimentos","bebidas","higiene","limpeza","utilidades","botijo","Todos"].map(T=>W.jsx("button",{onClick:()=>A(T),style:{backgroundColor:d===T?"black":"white",color:d===T?"white":"black",border:"1px solid black",padding:"8px 8px",cursor:"pointer"},children:T},T))}),W.jsxs("section",{id:"productsEditing",children:[s&&W.jsxs("table",{id:"productsList",children:[W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{children:"Nome"}),W.jsx("th",{children:"Cdigo"}),W.jsx("th",{children:"Estoque"})]})}),W.jsx("tbody",{children:n.map(T=>W.jsxs("tr",{className:"productItem",children:[W.jsx("td",{style:{color:T.estoque<20?"red":"black"},children:T.nome}),W.jsx("td",{children:T.codigo}),W.jsxs("td",{style:{color:T.estoque<20?"red":"black"},className:"editProduct",children:[T.estoque," ",W.jsx("span",{onClick:()=>F(T),className:"material-symbols-outlined",children:"edit"})]})]},T.id))})]}),l&&i&&W.jsxs("form",{id:"editingTool",onSubmit:b,children:[W.jsx("span",{onClick:V,className:"material-symbols-outlined",children:"close"}),W.jsx("label",{htmlFor:"productCategory",children:"Categoria do Produto"}),W.jsxs("select",{name:"productCategory",id:"productCategory",className:"form-control",value:(i==null?void 0:i.categoria)||"",onChange:T=>o({...i,categoria:T.target.value}),children:[W.jsx("option",{value:"",children:"Selecione uma categoria"}),W.jsx("option",{value:"alimentos",children:"Alimentos"}),W.jsx("option",{value:"bebidas",children:"Bebidas"}),W.jsx("option",{value:"higiene",children:"Higiene"}),W.jsx("option",{value:"limpeza",children:"Limpeza"}),W.jsx("option",{value:"utilidades",children:"Utilidades"})]}),W.jsx("label",{htmlFor:"productName",children:"Nome do Produto"}),W.jsx("input",{type:"text",name:"productName",id:"productName",defaultValue:i.nome,className:"form-control"}),W.jsx("label",{htmlFor:"productPrice",children:"Preo Unitrio"}),W.jsx("input",{type:"number",name:"productPrice",id:"productPrice",defaultValue:i.preco||"",className:"form-control",step:"0.01",min:"0",required:!0}),W.jsx("label",{htmlFor:"stockQuantity",children:"Quantidade em Estoque"}),W.jsx("input",{type:"number",name:"stockQuantity",id:"stockQuantity",defaultValue:i.estoque,className:"form-control"}),W.jsx("label",{htmlFor:"productCode",children:"Cdigo do Produto"}),W.jsx("input",{type:"text",name:"productCode",id:"productCode",defaultValue:i.codigo,className:"form-control"}),W.jsx("label",{htmlFor:"productImage",children:"Imagem do Produto"}),W.jsx("input",{type:"file",name:"productImage",id:"productImage",accept:"image/*",className:"form-control",onChange:z}),P&&W.jsx("img",{src:P,alt:"Preview",className:"image-preview"}),W.jsx("button",{className:"btn btn-dark form-control",type:"submit",children:"ATUALIZAR PRODUTO"})]})]})]})},R8="modulepreload",D8=function(t){return"/"+t},$w={},P0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=D8(l),l in $w)return;$w[l]=!0;const h=l.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":R8,h||(m.as="script"),m.crossOrigin="",m.href=l,a&&m.setAttribute("nonce",a),document.head.appendChild(m),h)return new Promise((g,p)=>{m.addEventListener("load",g),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function $t(t){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(t)}var Tr=Uint8Array,bi=Uint16Array,Lv=Int32Array,Dm=new Tr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Fm=new Tr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),T0=new Tr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yA=function(t,e){for(var n=new bi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Lv(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},wA=yA(Dm,2),_A=wA.b,C0=wA.r;_A[28]=258,C0[258]=28;var bA=yA(Fm,0),F8=bA.b,Hw=bA.r,N0=new bi(32768);for(var ln=0;ln<32768;++ln){var ua=(ln&43690)>>1|(ln&21845)<<1;ua=(ua&52428)>>2|(ua&13107)<<2,ua=(ua&61680)>>4|(ua&3855)<<4,N0[ln]=((ua&65280)>>8|(ua&255)<<8)>>1}var $o=function(t,e,n){for(var r=t.length,i=0,o=new bi(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new bi(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new bi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var h=i<<4|t[i],d=e-t[i],m=s[t[i]-1]++<<d,g=m|(1<<d)-1;m<=g;++m)a[N0[m]>>l]=h}else for(a=new bi(r),i=0;i<r;++i)t[i]&&(a[i]=N0[s[t[i]-1]++]>>15-t[i]);return a},qa=new Tr(288);for(var ln=0;ln<144;++ln)qa[ln]=8;for(var ln=144;ln<256;++ln)qa[ln]=9;for(var ln=256;ln<280;++ln)qa[ln]=7;for(var ln=280;ln<288;++ln)qa[ln]=8;var hf=new Tr(32);for(var ln=0;ln<32;++ln)hf[ln]=5;var O8=$o(qa,9,0),j8=$o(qa,9,1),M8=$o(hf,5,0),V8=$o(hf,5,1),Hg=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},io=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Wg=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Rv=function(t){return(t+7)/8|0},SA=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Tr(t.subarray(e,n))},B8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],lo=function(t,e,n){var r=new Error(e||B8[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,lo),!n)throw r;return r},U8=function(t,e,n,r){var i=t.length,o=0;if(!i||e.f&&!e.l)return n||new Tr(0);var s=!n,a=s||e.i!=2,l=e.i;s&&(n=new Tr(i*3));var h=function(ke){var Me=n.length;if(ke>Me){var Ve=new Tr(Math.max(Me*2,ke));Ve.set(n),n=Ve}},d=e.f||0,m=e.p||0,g=e.b||0,p=e.l,P=e.d,N=e.m,L=e.n,w=i*8;do{if(!p){d=io(t,m,1);var y=io(t,m+1,3);if(m+=3,y)if(y==1)p=j8,P=V8,N=9,L=5;else if(y==2){var z=io(t,m,31)+257,C=io(t,m+10,15)+4,b=z+io(t,m+5,31)+1;m+=14;for(var T=new Tr(b),R=new Tr(19),E=0;E<C;++E)R[T0[E]]=io(t,m+E*3,7);m+=C*3;for(var S=Hg(R),I=(1<<S)-1,K=$o(R,S,1),E=0;E<b;){var ce=K[io(t,m,I)];m+=ce&15;var A=ce>>4;if(A<16)T[E++]=A;else{var ee=0,J=0;for(A==16?(J=3+io(t,m,3),m+=2,ee=T[E-1]):A==17?(J=3+io(t,m,7),m+=3):A==18&&(J=11+io(t,m,127),m+=7);J--;)T[E++]=ee}}var Q=T.subarray(0,z),Y=T.subarray(z);N=Hg(Q),L=Hg(Y),p=$o(Q,N,1),P=$o(Y,L,1)}else lo(1);else{var A=Rv(m)+4,F=t[A-4]|t[A-3]<<8,V=A+F;if(V>i){l&&lo(0);break}a&&h(g+F),n.set(t.subarray(A,V),g),e.b=g+=F,e.p=m=V*8,e.f=d;continue}if(m>w){l&&lo(0);break}}a&&h(g+131072);for(var oe=(1<<N)-1,ve=(1<<L)-1,O=m;;O=m){var ee=p[Wg(t,m)&oe],H=ee>>4;if(m+=ee&15,m>w){l&&lo(0);break}if(ee||lo(2),H<256)n[g++]=H;else if(H==256){O=m,p=null;break}else{var X=H-254;if(H>264){var E=H-257,ne=Dm[E];X=io(t,m,(1<<ne)-1)+_A[E],m+=ne}var ie=P[Wg(t,m)&ve],pe=ie>>4;ie||lo(3),m+=ie&15;var Y=F8[pe];if(pe>3){var ne=Fm[pe];Y+=Wg(t,m)&(1<<ne)-1,m+=ne}if(m>w){l&&lo(0);break}a&&h(g+131072);var ye=g+X;if(g<Y){var we=o-Y,Re=Math.min(Y,ye);for(we+g<0&&lo(3);g<Re;++g)n[g]=r[we+g]}for(;g<ye;++g)n[g]=n[g-Y]}}e.l=p,e.p=O,e.b=g,e.f=d,p&&(d=1,e.m=N,e.d=P,e.n=L)}while(!d);return g!=n.length&&s?SA(n,0,g):n.subarray(0,g)},ds=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},oh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Gg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:xA,l:0};if(i==1){var s=new Tr(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(V,z){return V.f-z.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],h=0,d=1,m=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=n[n[h].f<n[m].f?h++:m++],l=n[h!=d&&n[h].f<n[m].f?h++:m++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=o[0].s,r=1;r<i;++r)o[r].s>g&&(g=o[r].s);var p=new bi(g+1),P=I0(n[d-1],p,0);if(P>e){var r=0,N=0,L=P-e,w=1<<L;for(o.sort(function(z,C){return p[C.s]-p[z.s]||z.f-C.f});r<i;++r){var y=o[r].s;if(p[y]>e)N+=w-(1<<P-p[y]),p[y]=e;else break}for(N>>=L;N>0;){var A=o[r].s;p[A]<e?N-=1<<e-p[A]++-1:++r}for(;r>=0&&N;--r){var F=o[r].s;p[F]==e&&(--p[F],++N)}P=e}return{t:new Tr(p),l:P}},I0=function(t,e,n){return t.s==-1?Math.max(I0(t.l,e,n+1),I0(t.r,e,n+1)):e[t.s]=n},Ww=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new bi(++e),r=0,i=t[0],o=1,s=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},sh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},AA=function(t,e,n){var r=n.length,i=Rv(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},Gw=function(t,e,n,r,i,o,s,a,l,h,d){ds(e,d++,n),++i[256];for(var m=Gg(i,15),g=m.t,p=m.l,P=Gg(o,15),N=P.t,L=P.l,w=Ww(g),y=w.c,A=w.n,F=Ww(N),V=F.c,z=F.n,C=new bi(19),b=0;b<y.length;++b)++C[y[b]&31];for(var b=0;b<V.length;++b)++C[V[b]&31];for(var T=Gg(C,7),R=T.t,E=T.l,S=19;S>4&&!R[T0[S-1]];--S);var I=h+5<<3,K=sh(i,qa)+sh(o,hf)+s,ce=sh(i,g)+sh(o,N)+s+14+3*S+sh(C,R)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&I<=K&&I<=ce)return AA(e,d,t.subarray(l,l+h));var ee,J,Q,Y;if(ds(e,d,1+(ce<K)),d+=2,ce<K){ee=$o(g,p,0),J=g,Q=$o(N,L,0),Y=N;var oe=$o(R,E,0);ds(e,d,A-257),ds(e,d+5,z-1),ds(e,d+10,S-4),d+=14;for(var b=0;b<S;++b)ds(e,d+3*b,R[T0[b]]);d+=3*S;for(var ve=[y,V],O=0;O<2;++O)for(var H=ve[O],b=0;b<H.length;++b){var X=H[b]&31;ds(e,d,oe[X]),d+=R[X],X>15&&(ds(e,d,H[b]>>5&127),d+=H[b]>>12)}}else ee=O8,J=qa,Q=M8,Y=hf;for(var b=0;b<a;++b){var ne=r[b];if(ne>255){var X=ne>>18&31;oh(e,d,ee[X+257]),d+=J[X+257],X>7&&(ds(e,d,ne>>23&31),d+=Dm[X]);var ie=ne&31;oh(e,d,Q[ie]),d+=Y[ie],ie>3&&(oh(e,d,ne>>5&8191),d+=Fm[ie])}else oh(e,d,ee[ne]),d+=J[ne]}return oh(e,d,ee[256]),d+J[256]},z8=new Lv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xA=new Tr(0),q8=function(t,e,n,r,i,o){var s=o.z||t.length,a=new Tr(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),h=o.l,d=(o.r||0)&7;if(e){d&&(l[0]=o.r>>3);for(var m=z8[e-1],g=m>>13,p=m&8191,P=(1<<n)-1,N=o.p||new bi(32768),L=o.h||new bi(P+1),w=Math.ceil(n/3),y=2*w,A=function(it){return(t[it]^t[it+1]<<w^t[it+2]<<y)&P},F=new Lv(25e3),V=new bi(288),z=new bi(32),C=0,b=0,T=o.i||0,R=0,E=o.w||0,S=0;T+2<s;++T){var I=A(T),K=T&32767,ce=L[I];if(N[K]=ce,L[I]=K,E<=T){var ee=s-T;if((C>7e3||R>24576)&&(ee>423||!h)){d=Gw(t,l,0,F,V,z,b,R,S,T-S,d),R=C=b=0,S=T;for(var J=0;J<286;++J)V[J]=0;for(var J=0;J<30;++J)z[J]=0}var Q=2,Y=0,oe=p,ve=K-ce&32767;if(ee>2&&I==A(T-ve))for(var O=Math.min(g,ee)-1,H=Math.min(32767,T),X=Math.min(258,ee);ve<=H&&--oe&&K!=ce;){if(t[T+Q]==t[T+Q-ve]){for(var ne=0;ne<X&&t[T+ne]==t[T+ne-ve];++ne);if(ne>Q){if(Q=ne,Y=ve,ne>O)break;for(var ie=Math.min(ve,ne-2),pe=0,J=0;J<ie;++J){var ye=T-ve+J&32767,we=N[ye],Re=ye-we&32767;Re>pe&&(pe=Re,ce=ye)}}}K=ce,ce=N[K],ve+=K-ce&32767}if(Y){F[R++]=268435456|C0[Q]<<18|Hw[Y];var ke=C0[Q]&31,Me=Hw[Y]&31;b+=Dm[ke]+Fm[Me],++V[257+ke],++z[Me],E=T+Q,++C}else F[R++]=t[T],++V[t[T]]}}for(T=Math.max(T,E);T<s;++T)F[R++]=t[T],++V[t[T]];d=Gw(t,l,h,F,V,z,b,R,S,T-S,d),h||(o.r=d&7|l[d/8|0]<<3,d-=7,o.h=L,o.p=N,o.i=T,o.w=E)}else{for(var T=o.w||0;T<s+h;T+=65535){var Ve=T+65535;Ve>=s&&(l[d/8|0]=h,Ve=s),d=AA(l,d+1,t.subarray(T,Ve))}o.i=s}return SA(a,0,r+Rv(d)+i)},EA=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},$8=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Tr(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return q8(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},PA=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},H8=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=EA();i.p(e.dictionary),PA(t,2,i.d())}},W8=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&lo(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&lo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function k0(t,e){e||(e={});var n=EA();n.p(t);var r=$8(t,e,e.dictionary?6:2,4);return H8(r,e),PA(r,r.length-4,n.d()),r}function G8(t,e){return U8(t.subarray(W8(t,e),-4),{i:2},e,e)}var K8=typeof TextDecoder<"u"&&new TextDecoder,Q8=0;try{K8.decode(xA,{stream:!0}),Q8=1}catch{}var ct=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Kg(){ct.console&&typeof ct.console.log=="function"&&ct.console.log.apply(ct.console,arguments)}var Qt={log:Kg,warn:function(t){ct.console&&(typeof ct.console.warn=="function"?ct.console.warn.apply(ct.console,arguments):Kg.call(null,arguments))},error:function(t){ct.console&&(typeof ct.console.error=="function"?ct.console.error.apply(ct.console,arguments):Kg(t))}};function Qg(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){wl(r.response,e,n)},r.onerror=function(){Qt.error("could not download file")},r.send()}function Kw(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ed(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var kh,L0,wl=ct.saveAs||((typeof window>"u"?"undefined":$t(window))!=="object"||window!==ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=ct.URL||ct.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Kw(i.href)?Qg(t,e,n):Ed(i,i.target="_blank"):Ed(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ed(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Kw(t))Qg(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Ed(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:$t(o)!=="object"&&(Qt.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Qg(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(ct.HTMLElement)||ct.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":$t(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(t)}else{var l=ct.URL||ct.webkitURL,h=l.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){l.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function TA(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),h.length==1&&(h="0"+h),"#"+a+l+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Yg(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=_r(n,r,i,o,e[0],7,-680876936),o=_r(o,n,r,i,e[1],12,-389564586),i=_r(i,o,n,r,e[2],17,606105819),r=_r(r,i,o,n,e[3],22,-1044525330),n=_r(n,r,i,o,e[4],7,-176418897),o=_r(o,n,r,i,e[5],12,1200080426),i=_r(i,o,n,r,e[6],17,-1473231341),r=_r(r,i,o,n,e[7],22,-45705983),n=_r(n,r,i,o,e[8],7,1770035416),o=_r(o,n,r,i,e[9],12,-1958414417),i=_r(i,o,n,r,e[10],17,-42063),r=_r(r,i,o,n,e[11],22,-1990404162),n=_r(n,r,i,o,e[12],7,1804603682),o=_r(o,n,r,i,e[13],12,-40341101),i=_r(i,o,n,r,e[14],17,-1502002290),n=br(n,r=_r(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=br(o,n,r,i,e[6],9,-1069501632),i=br(i,o,n,r,e[11],14,643717713),r=br(r,i,o,n,e[0],20,-373897302),n=br(n,r,i,o,e[5],5,-701558691),o=br(o,n,r,i,e[10],9,38016083),i=br(i,o,n,r,e[15],14,-660478335),r=br(r,i,o,n,e[4],20,-405537848),n=br(n,r,i,o,e[9],5,568446438),o=br(o,n,r,i,e[14],9,-1019803690),i=br(i,o,n,r,e[3],14,-187363961),r=br(r,i,o,n,e[8],20,1163531501),n=br(n,r,i,o,e[13],5,-1444681467),o=br(o,n,r,i,e[2],9,-51403784),i=br(i,o,n,r,e[7],14,1735328473),n=Sr(n,r=br(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Sr(o,n,r,i,e[8],11,-2022574463),i=Sr(i,o,n,r,e[11],16,1839030562),r=Sr(r,i,o,n,e[14],23,-35309556),n=Sr(n,r,i,o,e[1],4,-1530992060),o=Sr(o,n,r,i,e[4],11,1272893353),i=Sr(i,o,n,r,e[7],16,-155497632),r=Sr(r,i,o,n,e[10],23,-1094730640),n=Sr(n,r,i,o,e[13],4,681279174),o=Sr(o,n,r,i,e[0],11,-358537222),i=Sr(i,o,n,r,e[3],16,-722521979),r=Sr(r,i,o,n,e[6],23,76029189),n=Sr(n,r,i,o,e[9],4,-640364487),o=Sr(o,n,r,i,e[12],11,-421815835),i=Sr(i,o,n,r,e[15],16,530742520),n=Ar(n,r=Sr(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Ar(o,n,r,i,e[7],10,1126891415),i=Ar(i,o,n,r,e[14],15,-1416354905),r=Ar(r,i,o,n,e[5],21,-57434055),n=Ar(n,r,i,o,e[12],6,1700485571),o=Ar(o,n,r,i,e[3],10,-1894986606),i=Ar(i,o,n,r,e[10],15,-1051523),r=Ar(r,i,o,n,e[1],21,-2054922799),n=Ar(n,r,i,o,e[8],6,1873313359),o=Ar(o,n,r,i,e[15],10,-30611744),i=Ar(i,o,n,r,e[6],15,-1560198380),r=Ar(r,i,o,n,e[13],21,1309151649),n=Ar(n,r,i,o,e[4],6,-145523070),o=Ar(o,n,r,i,e[11],10,-1120210379),i=Ar(i,o,n,r,e[2],15,718787259),r=Ar(r,i,o,n,e[9],21,-343485551),t[0]=ba(n,t[0]),t[1]=ba(r,t[1]),t[2]=ba(i,t[2]),t[3]=ba(o,t[3])}function Om(t,e,n,r,i,o){return e=ba(ba(e,t),ba(r,o)),ba(e<<i|e>>>32-i,n)}function _r(t,e,n,r,i,o,s){return Om(e&n|~e&r,t,e,i,o,s)}function br(t,e,n,r,i,o,s){return Om(e&r|n&~r,t,e,i,o,s)}function Sr(t,e,n,r,i,o,s){return Om(e^n^r,t,e,i,o,s)}function Ar(t,e,n,r,i,o,s){return Om(n^(e|~r),t,e,i,o,s)}function CA(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Yg(r,Y8(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Yg(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Yg(r,i),r}function Y8(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}kh=ct.atob.bind(ct),L0=ct.btoa.bind(ct);var Qw="0123456789abcdef".split("");function X8(t){for(var e="",n=0;n<4;n++)e+=Qw[t>>8*n+4&15]+Qw[t>>8*n&15];return e}function J8(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function R0(t){return CA(t).map(J8).join("")}var Z8=function(t){for(var e=0;e<t.length;e++)t[e]=X8(t[e]);return t.join("")}(CA("hello"))!="5d41402abc4b2a76b9719d911017c592";function ba(t,e){if(Z8){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function D0(t,e){var n,r,i,o;if(t!==n){for(var s=(i=t,o=1+(256/t.length>>0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var h=0;for(l=0;l<256;l++){var d=a[l];h=(h+d+s.charCodeAt(l))%256,a[l]=a[h],a[h]=d}n=t,r=a}else a=r;var m=e.length,g=0,p=0,P="";for(l=0;l<m;l++)p=(p+(d=a[g=(g+1)%256]))%256,a[g]=a[p],a[p]=d,s=a[(a[g]+a[p])%256],P+=String.fromCharCode(e.charCodeAt(l)^s);return P}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Yw={print:4,modify:8,copy:16,"annot-forms":32};function ku(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Yw.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Yw[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=R0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=D0(this.encryptionKey,this.padding)}function Lu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function Xw(t){if($t(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){ct.console&&Qt.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ff(t){if(!(this instanceof ff))return new ff(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function NA(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function va(t,e,n,r,i){if(!(this instanceof va))return new va(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,NA.call(this,r,i)}function El(t,e,n,r,i){if(!(this instanceof El))return new El(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,NA.call(this,r,i)}function ut(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,h="S",d=null;$t(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),h=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=Xw;var P="1.3",N=p.__private__.getPdfVersion=function(){return P};p.__private__.setPdfVersion=function(v){P=v};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return L};var w=p.__private__.getPageFormat=function(v){return L[v]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},A=y.COMPAT;function F(){this.saveGraphicsState(),Z(new Qe(He,0,0,-He,0,gr()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),h="n",A=y.ADVANCED}function V(){this.restoreGraphicsState(),h="S",A=y.COMPAT}var z=p.__private__.combineFontStyleAndFontWeight=function(v,j){if(v=="bold"&&j=="normal"||v=="bold"&&j==400||v=="normal"&&j=="italic"||v=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(v=j==400||j==="normal"?v==="italic"?"italic":"normal":j!=700&&j!=="bold"||v!=="normal"?(j==700?"bold":j)+""+v:"bold"),v};p.advancedAPI=function(v){var j=A===y.COMPAT;return j&&F.call(this),typeof v!="function"||(v(this),j&&V.call(this)),this},p.compatAPI=function(v){var j=A===y.ADVANCED;return j&&V.call(this),typeof v!="function"||(v(this),j&&F.call(this)),this},p.isAdvancedAPI=function(){return A===y.ADVANCED};var C,b=function(v){if(A!==y.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=p.roundToPrecision=p.__private__.roundToPrecision=function(v,j){var re=e||j;if(isNaN(v)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(re).replace(/0+$/,"")};C=p.hpf=p.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return T(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return T(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return T(v,16)};var R=p.f2=p.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return T(v,2)},E=p.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return T(v,3)},S=p.scale=p.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return A===y.COMPAT?v*He:A===y.ADVANCED?v:void 0},I=function(v){return A===y.COMPAT?gr()-v:A===y.ADVANCED?v:void 0},K=function(v){return S(I(v))};p.__private__.setPrecision=p.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var ce,ee="00000000000000000000000000000000",J=p.__private__.getFileId=function(){return ee},Q=p.__private__.setFileId=function(v){return ee=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(rn=new ku(d.userPermissions,d.userPassword,d.ownerPassword,ee)),ee};p.setFileId=function(v){return Q(v),this},p.getFileId=function(){return J()};var Y=p.__private__.convertDateToPDFDate=function(v){var j=v.getTimezoneOffset(),re=j<0?"+":"-",se=Math.floor(Math.abs(j/60)),me=Math.abs(j%60),xe=[re,X(se),"'",X(me),"'"].join("");return["D:",v.getFullYear(),X(v.getMonth()+1),X(v.getDate()),X(v.getHours()),X(v.getMinutes()),X(v.getSeconds()),xe].join("")},oe=p.__private__.convertPDFDateToDate=function(v){var j=parseInt(v.substr(2,4),10),re=parseInt(v.substr(6,2),10)-1,se=parseInt(v.substr(8,2),10),me=parseInt(v.substr(10,2),10),xe=parseInt(v.substr(12,2),10),De=parseInt(v.substr(14,2),10);return new Date(j,re,se,me,xe,De,0)},ve=p.__private__.setCreationDate=function(v){var j;if(v===void 0&&(v=new Date),v instanceof Date)j=Y(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=v}return ce=j},O=p.__private__.getCreationDate=function(v){var j=ce;return v==="jsDate"&&(j=oe(ce)),j};p.setCreationDate=function(v){return ve(v),this},p.getCreationDate=function(v){return O(v)};var H,X=p.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},ne=p.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ie=0,pe=[],ye=[],we=0,Re=[],ke=[],Me=!1,Ve=ye,it=function(){ie=0,we=0,ye=[],pe=[],Re=[],Wi=vn(),mr=vn()};p.__private__.setCustomOutputDestination=function(v){Me=!0,Ve=v};var fe=function(v){Me||(Ve=v)};p.__private__.resetCustomOutputDestination=function(){Me=!1,Ve=ye};var Z=p.__private__.out=function(v){return v=v.toString(),we+=v.length+1,Ve.push(v),Ve},Je=p.__private__.write=function(v){return Z(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},ze=p.__private__.getArrayBuffer=function(v){for(var j=v.length,re=new ArrayBuffer(j),se=new Uint8Array(re);j--;)se[j]=v.charCodeAt(j);return re},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ce};var Fe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(v){return Fe=A===y.ADVANCED?v/He:v,this};var Be,Ue=p.__private__.getFontSize=p.getFontSize=function(){return A===y.COMPAT?Fe:Fe*He},tt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(v){return tt=v,this},p.__private__.getR2L=p.getR2L=function(){return tt};var st,ht=p.__private__.setZoomMode=function(v){var j=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Be=v;else if(isNaN(v)){if(j.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Be=v}else Be=parseInt(v,10)};p.__private__.getZoomMode=function(){return Be};var Ze,rt=p.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');st=v};p.__private__.getPageMode=function(){return st};var St=p.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Ze=v};p.__private__.getLayoutMode=function(){return Ze},p.__private__.setDisplayMode=p.setDisplayMode=function(v,j,re){return ht(v),St(j),rt(re),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(v){if(Object.keys(nt).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[v]},p.__private__.getDocumentProperties=function(){return nt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(v){for(var j in nt)nt.hasOwnProperty(j)&&v[j]&&(nt[j]=v[j]);return this},p.__private__.setDocumentProperty=function(v,j){if(Object.keys(nt).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[v]=j};var pt,He,gn,Tt,Ur,Ft={},Yt={},Pi=[],Nt={},wo={},tn={},nr={},si=null,Xt=0,at=[],Lt=new Xw(p),Ti=t.hotfixes||[],Dn={},dr={},ai=[],Qe=function v(j,re,se,me,xe,De){if(!(this instanceof v))return new v(j,re,se,me,xe,De);isNaN(j)&&(j=1),isNaN(re)&&(re=0),isNaN(se)&&(se=0),isNaN(me)&&(me=1),isNaN(xe)&&(xe=0),isNaN(De)&&(De=0),this._matrix=[j,re,se,me,xe,De]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qe.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(v)},Qe.prototype.multiply=function(v){var j=v.sx*this.sx+v.shy*this.shx,re=v.sx*this.shy+v.shy*this.sy,se=v.shx*this.sx+v.sy*this.shx,me=v.shx*this.shy+v.sy*this.sy,xe=v.tx*this.sx+v.ty*this.shx+this.tx,De=v.tx*this.shy+v.ty*this.sy+this.ty;return new Qe(j,re,se,me,xe,De)},Qe.prototype.decompose=function(){var v=this.sx,j=this.shy,re=this.shx,se=this.sy,me=this.tx,xe=this.ty,De=Math.sqrt(v*v+j*j),$e=(v/=De)*re+(j/=De)*se;re-=v*$e,se-=j*$e;var c=Math.sqrt(re*re+se*se);return $e/=c,v*(se/=c)<j*(re/=c)&&(v=-v,j=-j,$e=-$e,De=-De),{scale:new Qe(De,0,0,c,0,0),translate:new Qe(1,0,0,1,me,xe),rotate:new Qe(v,j,-j,v,0,0),skew:new Qe(1,0,$e,1,0,0)}},Qe.prototype.toString=function(v){return this.join(" ")},Qe.prototype.inversed=function(){var v=this.sx,j=this.shy,re=this.shx,se=this.sy,me=this.tx,xe=this.ty,De=1/(v*se-j*re),$e=se*De,c=-j*De,x=-re*De,D=v*De;return new Qe($e,c,x,D,-$e*me-x*xe,-c*me-D*xe)},Qe.prototype.applyToPoint=function(v){var j=v.x*this.sx+v.y*this.shx+this.tx,re=v.x*this.shy+v.y*this.sy+this.ty;return new is(j,re)},Qe.prototype.applyToRectangle=function(v){var j=this.applyToPoint(v),re=this.applyToPoint(new is(v.x+v.w,v.y+v.h));return new Ws(j.x,j.y,re.x-j.x,re.y-j.y)},Qe.prototype.clone=function(){var v=this.sx,j=this.shy,re=this.shx,se=this.sy,me=this.tx,xe=this.ty;return new Qe(v,j,re,se,me,xe)},p.Matrix=Qe;var zr=p.matrixMult=function(v,j){return j.multiply(v)},pr=new Qe(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=pr;var Fn=function(v,j){if(!wo[v]){var re=(j instanceof va?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);j.id=re,wo[v]=re,Nt[re]=j,Lt.publish("addPattern",j)}};p.ShadingPattern=va,p.TilingPattern=El,p.addShadingPattern=function(v,j){return b("addShadingPattern()"),Fn(v,j),this},p.beginTilingPattern=function(v){b("beginTilingPattern()"),Gs(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},p.endTilingPattern=function(v,j){b("endTilingPattern()"),j.stream=ke[H].join(`
`),Fn(v,j),Lt.publish("endTilingPattern",j),ai.pop().restore()};var xn=p.__private__.newObject=function(){var v=vn();return On(v,!0),v},vn=p.__private__.newObjectDeferred=function(){return ie++,pe[ie]=function(){return we},ie},On=function(v,j){return j=typeof j=="boolean"&&j,pe[v]=we,j&&Z(v+" 0 obj"),v},Ls=p.__private__.newAdditionalObject=function(){var v={objId:vn(),content:""};return Re.push(v),v},Wi=vn(),mr=vn(),qr=p.__private__.decodeColorString=function(v){var j=v.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length===5&&(j[4]==="k"||j[4]==="K")&&(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var re=parseFloat(j[0]);j=[re,re,re,"r"]}for(var se="#",me=0;me<3;me++)se+=("0"+Math.floor(255*parseFloat(j[me])).toString(16)).slice(-2);return se},Ir=p.__private__.encodeColorString=function(v){var j;typeof v=="string"&&(v={ch1:v});var re=v.ch1,se=v.ch2,me=v.ch3,xe=v.ch4,De=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var $e=new TA(re);if($e.ok)re=$e.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var c=parseInt(re.substr(1),16);re=c>>16&255,se=c>>8&255,me=255&c}if(se===void 0||xe===void 0&&re===se&&se===me)if(typeof re=="string")j=re+" "+De[0];else switch(v.precision){case 2:j=R(re/255)+" "+De[0];break;case 3:default:j=E(re/255)+" "+De[0]}else if(xe===void 0||$t(xe)==="object"){if(xe&&!isNaN(xe.a)&&xe.a===0)return j=["1.","1.","1.",De[1]].join(" ");if(typeof re=="string")j=[re,se,me,De[1]].join(" ");else switch(v.precision){case 2:j=[R(re/255),R(se/255),R(me/255),De[1]].join(" ");break;default:case 3:j=[E(re/255),E(se/255),E(me/255),De[1]].join(" ")}}else if(typeof re=="string")j=[re,se,me,xe,De[2]].join(" ");else switch(v.precision){case 2:j=[R(re),R(se),R(me),R(xe),De[2]].join(" ");break;case 3:default:j=[E(re),E(se),E(me),E(xe),De[2]].join(" ")}return j},kr=p.__private__.getFilters=function(){return s},En=p.__private__.putStream=function(v){var j=(v=v||{}).data||"",re=v.filters||kr(),se=v.alreadyAppliedFilters||[],me=v.addLength1||!1,xe=j.length,De=v.objectId,$e=function(gt){return gt};if(d!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&($e=rn.encryptor(De,0));var c={};re===!0&&(re=["FlateEncode"]);var x=v.additionalKeyValues||[],D=(c=ut.API.processDataByFilters!==void 0?ut.API.processDataByFilters(j,re):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(c.data.length!==0&&(x.push({key:"Length",value:c.data.length}),me===!0&&x.push({key:"Length1",value:xe})),D.length!=0)if(D.split("/").length-1==1)x.push({key:"Filter",value:D});else{x.push({key:"Filter",value:"["+D+"]"});for(var q=0;q<x.length;q+=1)if(x[q].key==="DecodeParms"){for(var de=[],Se=0;Se<c.reverseChain.split("/").length-1;Se+=1)de.push("null");de.push(x[q].value),x[q].value="["+de.join(" ")+"]"}}Z("<<");for(var Oe=0;Oe<x.length;Oe++)Z("/"+x[Oe].key+" "+x[Oe].value);Z(">>"),c.data.length!==0&&(Z("stream"),Z($e(c.data)),Z("endstream"))},li=p.__private__.putPage=function(v){var j=v.number,re=v.data,se=v.objId,me=v.contentsObjId;On(se,!0),Z("<</Type /Page"),Z("/Parent "+v.rootDictionaryObjId+" 0 R"),Z("/Resources "+v.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(C(v.mediaBox.bottomLeftX))+" "+parseFloat(C(v.mediaBox.bottomLeftY))+" "+C(v.mediaBox.topRightX)+" "+C(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&Z("/CropBox ["+C(v.cropBox.bottomLeftX)+" "+C(v.cropBox.bottomLeftY)+" "+C(v.cropBox.topRightX)+" "+C(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&Z("/BleedBox ["+C(v.bleedBox.bottomLeftX)+" "+C(v.bleedBox.bottomLeftY)+" "+C(v.bleedBox.topRightX)+" "+C(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&Z("/TrimBox ["+C(v.trimBox.bottomLeftX)+" "+C(v.trimBox.bottomLeftY)+" "+C(v.trimBox.topRightX)+" "+C(v.trimBox.topRightY)+"]"),v.artBox!==null&&Z("/ArtBox ["+C(v.artBox.bottomLeftX)+" "+C(v.artBox.bottomLeftY)+" "+C(v.artBox.topRightX)+" "+C(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&Z("/UserUnit "+v.userUnit),Lt.publish("putPage",{objId:se,pageContext:at[j],pageNumber:j,page:re}),Z("/Contents "+me+" 0 R"),Z(">>"),Z("endobj");var xe=re.join(`
`);return A===y.ADVANCED&&(xe+=`
Q`),On(me,!0),En({data:xe,filters:kr(),objectId:me}),Z("endobj"),se},_o=p.__private__.putPages=function(){var v,j,re=[];for(v=1;v<=Xt;v++)at[v].objId=vn(),at[v].contentsObjId=vn();for(v=1;v<=Xt;v++)re.push(li({number:v,data:ke[v],objId:at[v].objId,contentsObjId:at[v].contentsObjId,mediaBox:at[v].mediaBox,cropBox:at[v].cropBox,bleedBox:at[v].bleedBox,trimBox:at[v].trimBox,artBox:at[v].artBox,userUnit:at[v].userUnit,rootDictionaryObjId:Wi,resourceDictionaryObjId:mr}));On(Wi,!0),Z("<</Type /Pages");var se="/Kids [";for(j=0;j<Xt;j++)se+=re[j]+" 0 R ";Z(se+"]"),Z("/Count "+Xt),Z(">>"),Z("endobj"),Lt.publish("postPutPages")},bo=function(v){Lt.publish("putFont",{font:v,out:Z,newObject:xn,putStream:En}),v.isAlreadyPutted!==!0&&(v.objectNumber=xn(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Lu(v.postScriptName)),Z("/Subtype /Type1"),typeof v.encoding=="string"&&Z("/Encoding /"+v.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},So=function(){for(var v in Ft)Ft.hasOwnProperty(v)&&(m===!1||m===!0&&g.hasOwnProperty(v))&&bo(Ft[v])},Qo=function(v){v.objectNumber=xn();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[C(v.x),C(v.y),C(v.x+v.width),C(v.y+v.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var re=v.pages[1].join(`
`);En({data:re,additionalKeyValues:j,objectId:v.objectNumber}),Z("endobj")},Yo=function(){for(var v in Dn)Dn.hasOwnProperty(v)&&Qo(Dn[v])},Jl=function(v,j){var re,se=[],me=1/(j-1);for(re=0;re<1;re+=me)se.push(re);if(se.push(1),v[0].offset!=0){var xe={offset:0,color:v[0].color};v.unshift(xe)}if(v[v.length-1].offset!=1){var De={offset:1,color:v[v.length-1].color};v.push(De)}for(var $e="",c=0,x=0;x<se.length;x++){for(re=se[x];re>v[c+1].offset;)c++;var D=v[c].offset,q=(re-D)/(v[c+1].offset-D),de=v[c].color,Se=v[c+1].color;$e+=ne(Math.round((1-q)*de[0]+q*Se[0]).toString(16))+ne(Math.round((1-q)*de[1]+q*Se[1]).toString(16))+ne(Math.round((1-q)*de[2]+q*Se[2]).toString(16))}return $e.trim()},Rs=function(v,j){j||(j=21);var re=xn(),se=Jl(v.colors,j),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+j+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),En({data:se,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),Z("endobj"),v.objectNumber=xn(),Z("<< /ShadingType "+v.type),Z("/ColorSpace /DeviceRGB");var xe="/Coords ["+C(parseFloat(v.coords[0]))+" "+C(parseFloat(v.coords[1]))+" ";v.type===2?xe+=C(parseFloat(v.coords[2]))+" "+C(parseFloat(v.coords[3])):xe+=C(parseFloat(v.coords[2]))+" "+C(parseFloat(v.coords[3]))+" "+C(parseFloat(v.coords[4]))+" "+C(parseFloat(v.coords[5])),Z(xe+="]"),v.matrix&&Z("/Matrix ["+v.matrix.toString()+"]"),Z("/Function "+re+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Zl=function(v,j){var re=vn(),se=xn();j.push({resourcesOid:re,objectOid:se}),v.objectNumber=se;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+v.boundingBox.map(C).join(" ")+"]"}),me.push({key:"XStep",value:C(v.xStep)}),me.push({key:"YStep",value:C(v.yStep)}),me.push({key:"Resources",value:re+" 0 R"}),v.matrix&&me.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),En({data:v.stream,additionalKeyValues:me,objectId:v.objectNumber}),Z("endobj")},Ao=function(v){var j;for(j in Nt)Nt.hasOwnProperty(j)&&(Nt[j]instanceof va?Rs(Nt[j]):Nt[j]instanceof El&&Zl(Nt[j],v))},xo=function(v){for(var j in v.objectNumber=xn(),Z("<<"),v)switch(j){case"opacity":Z("/ca "+R(v[j]));break;case"stroke-opacity":Z("/CA "+R(v[j]))}Z(">>"),Z("endobj")},Gi=function(){var v;for(v in tn)tn.hasOwnProperty(v)&&xo(tn[v])},Xo=function(){for(var v in Z("/XObject <<"),Dn)Dn.hasOwnProperty(v)&&Dn[v].objectNumber>=0&&Z("/"+v+" "+Dn[v].objectNumber+" 0 R");Lt.publish("putXobjectDict"),Z(">>")},kc=function(){rn.oid=xn(),Z("<<"),Z("/Filter /Standard"),Z("/V "+rn.v),Z("/R "+rn.r),Z("/U <"+rn.toHexString(rn.U)+">"),Z("/O <"+rn.toHexString(rn.O)+">"),Z("/P "+rn.P),Z(">>"),Z("endobj")},Ya=function(){for(var v in Z("/Font <<"),Ft)Ft.hasOwnProperty(v)&&(m===!1||m===!0&&g.hasOwnProperty(v))&&Z("/"+v+" "+Ft[v].objectNumber+" 0 R");Z(">>")},eu=function(){if(Object.keys(Nt).length>0){for(var v in Z("/Shading <<"),Nt)Nt.hasOwnProperty(v)&&Nt[v]instanceof va&&Nt[v].objectNumber>=0&&Z("/"+v+" "+Nt[v].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),Z(">>")}},Jo=function(v){if(Object.keys(Nt).length>0){for(var j in Z("/Pattern <<"),Nt)Nt.hasOwnProperty(j)&&Nt[j]instanceof p.TilingPattern&&Nt[j].objectNumber>=0&&Nt[j].objectNumber<v&&Z("/"+j+" "+Nt[j].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),Z(">>")}},Xa=function(){if(Object.keys(tn).length>0){var v;for(v in Z("/ExtGState <<"),tn)tn.hasOwnProperty(v)&&tn[v].objectNumber>=0&&Z("/"+v+" "+tn[v].objectNumber+" 0 R");Lt.publish("putGStateDict"),Z(">>")}},nn=function(v){On(v.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ya(),eu(),Jo(v.objectOid),Xa(),Xo(),Z(">>"),Z("endobj")},Ja=function(){var v=[];So(),Gi(),Yo(),Ao(v),Lt.publish("putResources"),v.forEach(nn),nn({resourcesOid:mr,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources")},Za=function(){Lt.publish("putAdditionalObjects");for(var v=0;v<Re.length;v++){var j=Re[v];On(j.objId,!0),Z(j.content),Z("endobj")}Lt.publish("postPutAdditionalObjects")},tu=function(v){Yt[v.fontName]=Yt[v.fontName]||{},Yt[v.fontName][v.fontStyle]=v.id},el=function(v,j,re,se,me){var xe={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:v,fontName:j,fontStyle:re,encoding:se,isStandardFont:me||!1,metadata:{}};return Lt.publish("addFont",{font:xe,instance:this}),Ft[xe.id]=xe,tu(xe),xe.id},nu=function(v){for(var j=0,re=Ce.length;j<re;j++){var se=el.call(this,v[j][0],v[j][1],v[j][2],Ce[j][3],!0);m===!1&&(g[se]=!0);var me=v[j][0].split("-");tu({id:se,fontName:me[0],fontStyle:me[1]||""})}Lt.publish("addFonts",{fonts:Ft,dictionary:Yt})},$r=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(se){var j=se.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var re="Error in function "+j.split(`
`)[0].split("<")[0]+": "+se.message;if(!ct.console)throw new Error(re);ct.console.error(re,se),ct.alert&&alert(re)}},v.foo.bar=v,v.foo},Ds=function(v,j){var re,se,me,xe,De,$e,c,x,D;if(me=(j=j||{}).sourceEncoding||"Unicode",De=j.outputEncoding,(j.autoencode||De)&&Ft[pt].metadata&&Ft[pt].metadata[me]&&Ft[pt].metadata[me].encoding&&(xe=Ft[pt].metadata[me].encoding,!De&&Ft[pt].encoding&&(De=Ft[pt].encoding),!De&&xe.codePages&&(De=xe.codePages[0]),typeof De=="string"&&(De=xe[De]),De)){for(c=!1,$e=[],re=0,se=v.length;re<se;re++)(x=De[v.charCodeAt(re)])?$e.push(String.fromCharCode(x)):$e.push(v[re]),$e[re].charCodeAt(0)>>8&&(c=!0);v=$e.join("")}for(re=v.length;c===void 0&&re!==0;)v.charCodeAt(re-1)>>8&&(c=!0),re--;if(!c)return v;for($e=j.noBOM?[]:[254,255],re=0,se=v.length;re<se;re++){if((D=(x=v.charCodeAt(re))>>8)>>8)throw new Error("Character at position "+re+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$e.push(D),$e.push(x-(D<<8))}return String.fromCharCode.apply(void 0,$e)},yn=p.__private__.pdfEscape=p.pdfEscape=function(v,j){return Ds(v,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lr=p.__private__.beginPage=function(v){ke[++Xt]=[],at[Xt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},tl(Xt),fe(ke[H])},Zo=function(v,j){var re,se,me;switch(n=j||n,typeof v=="string"&&(re=w(v.toLowerCase()),Array.isArray(re)&&(se=re[0],me=re[1])),Array.isArray(v)&&(se=v[0]*He,me=v[1]*He),isNaN(se)&&(se=i[0],me=i[1]),(se>14400||me>14400)&&(Qt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),me=Math.min(14400,me)),i=[se,me],n.substr(0,1)){case"l":me>se&&(i=[me,se]);break;case"p":se>me&&(i=[me,se])}Lr(i),sl(ol),Z(rr),ul!==0&&Z(ul+" J"),Hs!==0&&Z(Hs+" j"),Lt.publish("addPage",{pageNumber:Xt})},Fs=function(v){v>0&&v<=Xt&&(ke.splice(v,1),at.splice(v,1),Xt--,H>Xt&&(H=Xt),this.setPage(H))},tl=function(v){v>0&&v<=Xt&&(H=v)},Ut=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ke.length-1},es=function(v,j,re){var se,me=void 0;return re=re||{},v=v!==void 0?v:Ft[pt].fontName,j=j!==void 0?j:Ft[pt].fontStyle,se=v.toLowerCase(),Yt[se]!==void 0&&Yt[se][j]!==void 0?me=Yt[se][j]:Yt[v]!==void 0&&Yt[v][j]!==void 0?me=Yt[v][j]:re.disableWarning===!1&&Qt.warn("Unable to look up font label for font '"+v+"', '"+j+"'. Refer to getFontList() for available fonts."),me||re.noFallback||(me=Yt.times[j])==null&&(me=Yt.times.normal),me},ts=p.__private__.putInfo=function(){var v=xn(),j=function(se){return se};for(var re in d!==null&&(j=rn.encryptor(v,0)),Z("<<"),Z("/Producer ("+yn(j("jsPDF "+ut.version))+")"),nt)nt.hasOwnProperty(re)&&nt[re]&&Z("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+yn(j(nt[re]))+")");Z("/CreationDate ("+yn(j(ce))+")"),Z(">>"),Z("endobj")},Ki=p.__private__.putCatalog=function(v){var j=(v=v||{}).rootDictionaryObjId||Wi;switch(xn(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+j+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+Be;re.substr(re.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+R(Be)+"]")}switch(Ze||(Ze="continuous"),Ze){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}st&&Z("/PageMode /"+st),Lt.publish("putCatalog"),Z(">>"),Z("endobj")},Lc=p.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(ie+1)),Z("/Root "+ie+" 0 R"),Z("/Info "+(ie-1)+" 0 R"),d!==null&&Z("/Encrypt "+rn.oid+" 0 R"),Z("/ID [ <"+ee+"> <"+ee+"> ]"),Z(">>")},ru=p.__private__.putHeader=function(){Z("%PDF-"+P),Z("%")},Rc=p.__private__.putXRef=function(){var v="0000000000";Z("xref"),Z("0 "+(ie+1)),Z("0000000000 65535 f ");for(var j=1;j<=ie;j++)typeof pe[j]=="function"?Z((v+pe[j]()).slice(-10)+" 00000 n "):pe[j]!==void 0?Z((v+pe[j]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Qi=p.__private__.buildDocument=function(){it(),fe(ye),Lt.publish("buildDocument"),ru(),_o(),Za(),Ja(),d!==null&&kc(),ts(),Ki();var v=we;return Rc(),Lc(),Z("startxref"),Z(""+v),Z("%%EOF"),fe(ke[H]),ye.join(`
`)},Os=p.__private__.getBlob=function(v){return new Blob([ze(v)],{type:"application/pdf"})},js=p.output=p.__private__.output=$r(function(v,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",v){case void 0:return Qi();case"save":p.save(j.filename);break;case"arraybuffer":return ze(Qi());case"blob":return Os(Qi());case"bloburi":case"bloburl":if(ct.URL!==void 0&&typeof ct.URL.createObjectURL=="function")return ct.URL&&ct.URL.createObjectURL(Os(Qi()))||void 0;Qt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",se=Qi();try{re=L0(se)}catch{re=L0(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+j.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(me=j.pdfObjectUrl,xe="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",$e=ct.open();return $e!==null&&$e.document.write(De),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',x=ct.open();if(x!==null){x.document.write(c);var D=this;x.document.documentElement.querySelector("#pdfViewer").onload=function(){x.document.title=j.filename,x.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(D.output("bloburl"))}}return x}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var q='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',de=ct.open();if(de!==null&&(de.document.write(q),de.document.title=j.filename),de||typeof safari>"u")return de;break;case"datauri":case"dataurl":return ct.document.location.href=this.output("datauristring",j);default:return null}}),Eo=function(v){return Array.isArray(Ti)===!0&&Ti.indexOf(v)>-1};switch(r){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=Eo("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);He=r}var rn=null;ve(),Q();var iu=function(v){return d!==null?rn.encryptor(v,0):function(j){return j}},nl=p.__private__.getPageInfo=p.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:at[v].objId,pageNumber:v,pageContext:at[v]}},ft=p.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in at)if(at[j].objId===v)break;return nl(j)},Po=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:at[H].objId,pageNumber:H,pageContext:at[H]}};p.addPage=function(){return Zo.apply(this,arguments),this},p.setPage=function(){return tl.apply(this,arguments),fe.call(this,ke[H]),this},p.insertPage=function(v){return this.addPage(),this.movePage(H,v),this},p.movePage=function(v,j){var re,se;if(v>j){re=ke[v],se=at[v];for(var me=v;me>j;me--)ke[me]=ke[me-1],at[me]=at[me-1];ke[j]=re,at[j]=se,this.setPage(j)}else if(v<j){re=ke[v],se=at[v];for(var xe=v;xe<j;xe++)ke[xe]=ke[xe+1],at[xe]=at[xe+1];ke[j]=re,at[j]=se,this.setPage(j)}return this},p.deletePage=function(){return Fs.apply(this,arguments),this},p.__private__.text=p.text=function(v,j,re,se,me){var xe,De,$e,c,x,D,q,de,Se,Oe=(se=se||{}).scope||this;if(typeof v=="number"&&typeof j=="number"&&(typeof re=="string"||Array.isArray(re))){var gt=re;re=j,j=v,v=gt}if(arguments[3]instanceof Qe?(b("The transform parameter of text() with a Matrix value"),Se=me):($e=arguments[4],c=arguments[5],$t(q=arguments[3])==="object"&&q!==null||(typeof $e=="string"&&(c=$e,$e=null),typeof q=="string"&&(c=q,q=null),typeof q=="number"&&($e=q,q=null),se={flags:q,angle:$e,align:c})),isNaN(j)||isNaN(re)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Oe;var xt="",vt=!1,Mt=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:jt,Gt=Oe.internal.scaleFactor;function eo(Jt){return Jt=Jt.split("	").join(Array(se.TabLen||9).join(" ")),yn(Jt,q)}function ir(Jt){for(var Zt,Tn=Jt.concat(),$n=[],us=Tn.length;us--;)typeof(Zt=Tn.shift())=="string"?$n.push(Zt):Array.isArray(Jt)&&(Zt.length===1||Zt[1]===void 0&&Zt[2]===void 0)?$n.push(Zt[0]):$n.push([Zt[0],Zt[1],Zt[2]]);return $n}function Io(Jt,Zt){var Tn;if(typeof Jt=="string")Tn=Zt(Jt)[0];else if(Array.isArray(Jt)){for(var $n,us,zc=Jt.concat(),vu=[],Lf=zc.length;Lf--;)typeof($n=zc.shift())=="string"?vu.push(Zt($n)[0]):Array.isArray($n)&&typeof $n[0]=="string"&&(us=Zt($n[0],$n[1],$n[2]),vu.push([us[0],us[1],us[2]]));Tn=vu}return Tn}var ko=!1,Fc=!0;if(typeof v=="string")ko=!0;else if(Array.isArray(v)){var Oc=v.concat();De=[];for(var uu,or=Oc.length;or--;)(typeof(uu=Oc.shift())!="string"||Array.isArray(uu)&&typeof uu[0]!="string")&&(Fc=!1);ko=Fc}if(ko===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var cu=Fe/Oe.internal.scaleFactor,hu=cu*(Mt-1);switch(se.baseline){case"bottom":re-=hu;break;case"top":re+=cu-hu;break;case"hanging":re+=cu-2*hu;break;case"middle":re+=cu/2-hu}if((D=se.maxWidth||0)>0&&(typeof v=="string"?v=Oe.splitTextToSize(v,D):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Jt,Zt){return Jt.concat(Oe.splitTextToSize(Zt,D))},[]))),xe={text:v,x:j,y:re,options:se,mutex:{pdfEscape:yn,activeFontKey:pt,fonts:Ft,activeFontSize:Fe}},Lt.publish("preProcessText",xe),v=xe.text,$e=(se=xe.options).angle,!(Se instanceof Qe)&&$e&&typeof $e=="number"){$e*=Math.PI/180,se.rotationDirection===0&&($e=-$e),A===y.ADVANCED&&($e=-$e);var fu=Math.cos($e),jc=Math.sin($e);Se=new Qe(fu,jc,-jc,fu,0,0)}else $e&&$e instanceof Qe&&(Se=$e);A!==y.ADVANCED||Se||(Se=pr),(x=se.charSpace||rs)!==void 0&&(xt+=C(S(x))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(de=se.horizontalScale)!==void 0&&(xt+=C(100*de)+` Tz
`),se.lang;var Hr=-1,jm=se.renderingMode!==void 0?se.renderingMode:se.stroke,Mc=Oe.internal.getCurrentPageInfo().pageContext;switch(jm){case 0:case!1:case"fill":Hr=0;break;case 1:case!0:case"stroke":Hr=1;break;case 2:case"fillThenStroke":Hr=2;break;case 3:case"invisible":Hr=3;break;case 4:case"fillAndAddForClipping":Hr=4;break;case 5:case"strokeAndAddPathForClipping":Hr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Hr=6;break;case 7:case"addToPathForClipping":Hr=7}var Cf=Mc.usedRenderingMode!==void 0?Mc.usedRenderingMode:-1;Hr!==-1?xt+=Hr+` Tr
`:Cf!==-1&&(xt+=`0 Tr
`),Hr!==-1&&(Mc.usedRenderingMode=Hr),c=se.align||"left";var Ni,du=Fe*Mt,Nf=Oe.internal.pageSize.getWidth(),If=Ft[pt];x=se.charSpace||rs,D=se.maxWidth||0,q=Object.assign({autoencode:!0,noBOM:!0},se.flags);var Ys=[],cl=function(Jt){return Oe.getStringUnitWidth(Jt,{font:If,charSpace:x,fontSize:Fe,doKerning:!1})*Fe/Gt};if(Object.prototype.toString.call(v)==="[object Array]"){var Wr;De=ir(v),c!=="left"&&(Ni=De.map(cl));var Rr,Xs=0;if(c==="right"){j-=Ni[0],v=[],or=De.length;for(var ss=0;ss<or;ss++)ss===0?(Rr=hi(j),Wr=qn(re)):(Rr=S(Xs-Ni[ss]),Wr=-du),v.push([De[ss],Rr,Wr]),Xs=Ni[ss]}else if(c==="center"){j-=Ni[0]/2,v=[],or=De.length;for(var as=0;as<or;as++)as===0?(Rr=hi(j),Wr=qn(re)):(Rr=S((Xs-Ni[as])/2),Wr=-du),v.push([De[as],Rr,Wr]),Xs=Ni[as]}else if(c==="left"){v=[],or=De.length;for(var pu=0;pu<or;pu++)v.push(De[pu])}else if(c==="justify"&&If.encoding==="Identity-H"){v=[],or=De.length,D=D!==0?D:Nf;for(var ls=0,Pn=0;Pn<or;Pn++)if(Wr=Pn===0?qn(re):-du,Rr=Pn===0?hi(j):ls,Pn<or-1){var Vc=S((D-Ni[Pn])/(De[Pn].split(" ").length-1)),Dr=De[Pn].split(" ");v.push([Dr[0]+" ",Rr,Wr]),ls=0;for(var Ii=1;Ii<Dr.length;Ii++){var mu=(cl(Dr[Ii-1]+" "+Dr[Ii])-cl(Dr[Ii]))*Gt+Vc;Ii==Dr.length-1?v.push([Dr[Ii],mu,0]):v.push([Dr[Ii]+" ",mu,0]),ls-=mu}}else v.push([De[Pn],Rr,Wr]);v.push(["",ls,0])}else{if(c!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],or=De.length,D=D!==0?D:Nf,Pn=0;Pn<or;Pn++)Wr=Pn===0?qn(re):-du,Rr=Pn===0?hi(j):0,Pn<or-1?Ys.push(C(S((D-Ni[Pn])/(De[Pn].split(" ").length-1)))):Ys.push(0),v.push([De[Pn],Rr,Wr])}}var kf=typeof se.R2L=="boolean"?se.R2L:tt;kf===!0&&(v=Io(v,function(Jt,Zt,Tn){return[Jt.split("").reverse().join(""),Zt,Tn]})),xe={text:v,x:j,y:re,options:se,mutex:{pdfEscape:yn,activeFontKey:pt,fonts:Ft,activeFontSize:Fe}},Lt.publish("postProcessText",xe),v=xe.text,vt=xe.mutex.isHex||!1;var Bc=Ft[pt].encoding;Bc!=="WinAnsiEncoding"&&Bc!=="StandardEncoding"||(v=Io(v,function(Jt,Zt,Tn){return[eo(Jt),Zt,Tn]})),De=ir(v),v=[];for(var hl,fl,Js,dl=0,gu=1,pl=Array.isArray(De[0])?gu:dl,Zs="",Uc=function(Jt,Zt,Tn){var $n="";return Tn instanceof Qe?(Tn=typeof se.angle=="number"?zr(Tn,new Qe(1,0,0,1,Jt,Zt)):zr(new Qe(1,0,0,1,Jt,Zt),Tn),A===y.ADVANCED&&(Tn=zr(new Qe(1,0,0,-1,0,0),Tn)),$n=Tn.join(" ")+` Tm
`):$n=C(Jt)+" "+C(Zt)+` Td
`,$n},ki=0;ki<De.length;ki++){switch(Zs="",pl){case gu:Js=(vt?"<":"(")+De[ki][0]+(vt?">":")"),hl=parseFloat(De[ki][1]),fl=parseFloat(De[ki][2]);break;case dl:Js=(vt?"<":"(")+De[ki]+(vt?">":")"),hl=hi(j),fl=qn(re)}Ys!==void 0&&Ys[ki]!==void 0&&(Zs=Ys[ki]+` Tw
`),ki===0?v.push(Zs+Uc(hl,fl,Se)+Js):pl===dl?v.push(Zs+Js):pl===gu&&v.push(Zs+Uc(hl,fl,Se)+Js)}v=pl===dl?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Li=`BT
/`;return Li+=pt+" "+Fe+` Tf
`,Li+=C(Fe*Mt)+` TL
`,Li+=Ji+`
`,Li+=xt,Li+=v,Z(Li+="ET"),g[pt]=!0,Oe};var Dc=p.__private__.clip=p.clip=function(v){return Z(v==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Dc("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Z("n"),this};var Ci=p.__private__.isValidStyle=function(v){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(j=!0),j};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(v){return Ci(v)&&(h=v),this};var ou=p.__private__.getStyle=p.getStyle=function(v){var j=h;switch(v){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=v}return j},ui=p.close=function(){return Z("h"),this};p.stroke=function(){return Z("S"),this},p.fill=function(v){return Ms("f",v),this},p.fillEvenOdd=function(v){return Ms("f*",v),this},p.fillStroke=function(v){return Ms("B",v),this},p.fillStrokeEvenOdd=function(v){return Ms("B*",v),this};var Ms=function(v,j){$t(j)==="object"?Bs(j,v):Z(v)},rl=function(v){v===null||A===y.ADVANCED&&v===void 0||(v=ou(v),Z(v))};function Vs(v,j,re,se,me){var xe=new El(j||this.boundingBox,re||this.xStep,se||this.yStep,this.gState,me||this.matrix);xe.stream=this.stream;var De=v+"$$"+this.cloneIndex+++"$$";return Fn(De,xe),xe}var Bs=function(v,j){var re=wo[v.key],se=Nt[re];if(se instanceof va)Z("q"),Z(su(j)),se.gState&&p.setGState(se.gState),Z(v.matrix.toString()+" cm"),Z("/"+re+" sh"),Z("Q");else if(se instanceof El){var me=new Qe(1,0,0,-1,0,gr());v.matrix&&(me=me.multiply(v.matrix||pr),re=Vs.call(se,v.key,v.boundingBox,v.xStep,v.yStep,me).id),Z("q"),Z("/Pattern cs"),Z("/"+re+" scn"),se.gState&&p.setGState(se.gState),Z(j),Z("Q")}},su=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Yi=p.moveTo=function(v,j){return Z(C(S(v))+" "+C(K(j))+" m"),this},ci=p.lineTo=function(v,j){return Z(C(S(v))+" "+C(K(j))+" l"),this},Xi=p.curveTo=function(v,j,re,se,me,xe){return Z([C(S(v)),C(K(j)),C(S(re)),C(K(se)),C(S(me)),C(K(xe)),"c"].join(" ")),this};p.__private__.line=p.line=function(v,j,re,se,me){if(isNaN(v)||isNaN(j)||isNaN(re)||isNaN(se)||!Ci(me))throw new Error("Invalid arguments passed to jsPDF.line");return A===y.COMPAT?this.lines([[re-v,se-j]],v,j,[1,1],me||"S"):this.lines([[re-v,se-j]],v,j,[1,1]).stroke()},p.__private__.lines=p.lines=function(v,j,re,se,me,xe){var De,$e,c,x,D,q,de,Se,Oe,gt,xt,vt;if(typeof v=="number"&&(vt=re,re=j,j=v,v=vt),se=se||[1,1],xe=xe||!1,isNaN(j)||isNaN(re)||!Array.isArray(v)||!Array.isArray(se)||!Ci(me)||typeof xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Yi(j,re),De=se[0],$e=se[1],x=v.length,gt=j,xt=re,c=0;c<x;c++)(D=v[c]).length===2?(gt=D[0]*De+gt,xt=D[1]*$e+xt,ci(gt,xt)):(q=D[0]*De+gt,de=D[1]*$e+xt,Se=D[2]*De+gt,Oe=D[3]*$e+xt,gt=D[4]*De+gt,xt=D[5]*$e+xt,Xi(q,de,Se,Oe,gt,xt));return xe&&ui(),rl(me),this},p.path=function(v){for(var j=0;j<v.length;j++){var re=v[j],se=re.c;switch(re.op){case"m":Yi(se[0],se[1]);break;case"l":ci(se[0],se[1]);break;case"c":Xi.apply(this,se);break;case"h":ui()}}return this},p.__private__.rect=p.rect=function(v,j,re,se,me){if(isNaN(v)||isNaN(j)||isNaN(re)||isNaN(se)||!Ci(me))throw new Error("Invalid arguments passed to jsPDF.rect");return A===y.COMPAT&&(se=-se),Z([C(S(v)),C(K(j)),C(S(re)),C(S(se)),"re"].join(" ")),rl(me),this},p.__private__.triangle=p.triangle=function(v,j,re,se,me,xe,De){if(isNaN(v)||isNaN(j)||isNaN(re)||isNaN(se)||isNaN(me)||isNaN(xe)||!Ci(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-v,se-j],[me-re,xe-se],[v-me,j-xe]],v,j,[1,1],De,!0),this},p.__private__.roundedRect=p.roundedRect=function(v,j,re,se,me,xe,De){if(isNaN(v)||isNaN(j)||isNaN(re)||isNaN(se)||isNaN(me)||isNaN(xe)||!Ci(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*re),xe=Math.min(xe,.5*se),this.lines([[re-2*me,0],[me*$e,0,me,xe-xe*$e,me,xe],[0,se-2*xe],[0,xe*$e,-me*$e,xe,-me,xe],[2*me-re,0],[-me*$e,0,-me,-xe*$e,-me,-xe],[0,2*xe-se],[0,-xe*$e,me*$e,-xe,me,-xe]],v+me,j,[1,1],De,!0),this},p.__private__.ellipse=p.ellipse=function(v,j,re,se,me){if(isNaN(v)||isNaN(j)||isNaN(re)||isNaN(se)||!Ci(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*re,De=4/3*(Math.SQRT2-1)*se;return Yi(v+re,j),Xi(v+re,j-De,v+xe,j-se,v,j-se),Xi(v-xe,j-se,v-re,j-De,v-re,j),Xi(v-re,j+De,v-xe,j+se,v,j+se),Xi(v+xe,j+se,v+re,j+De,v+re,j),rl(me),this},p.__private__.circle=p.circle=function(v,j,re,se){if(isNaN(v)||isNaN(j)||isNaN(re)||!Ci(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,j,re,re,se)},p.setFont=function(v,j,re){return re&&(j=z(j,re)),pt=es(v,j,{disableWarning:!1}),this};var il=p.__private__.getFont=p.getFont=function(){return Ft[es.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var v,j,re={};for(v in Yt)if(Yt.hasOwnProperty(v))for(j in re[v]=[],Yt[v])Yt[v].hasOwnProperty(j)&&re[v].push(j);return re},p.addFont=function(v,j,re,se,me){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xe.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&xe.indexOf(arguments[3])==-1&&(re=z(re,se)),me=me||"Identity-H",el.call(this,v,j,re,me)};var jt,ol=t.lineWidth||.200025,Us=p.__private__.getLineWidth=p.getLineWidth=function(){return ol},sl=p.__private__.setLineWidth=p.setLineWidth=function(v){return ol=v,Z(C(S(v))+" w"),this};p.__private__.setLineDash=ut.API.setLineDash=ut.API.setLineDashPattern=function(v,j){if(v=v||[],j=j||0,isNaN(j)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(re){return C(S(re))}).join(" "),j=C(S(j)),Z("["+v+"] "+j+" d"),this};var al=p.__private__.getLineHeight=p.getLineHeight=function(){return Fe*jt};p.__private__.getLineHeight=p.getLineHeight=function(){return Fe*jt};var ll=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(jt=v),this},ns=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return jt};ll(t.lineHeight);var hi=p.__private__.getHorizontalCoordinate=function(v){return S(v)},qn=p.__private__.getVerticalCoordinate=function(v){return A===y.ADVANCED?v:at[H].mediaBox.topRightY-at[H].mediaBox.bottomLeftY-S(v)},au=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(v){return C(hi(v))},To=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(v){return C(qn(v))},rr=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return qr(rr)},p.__private__.setStrokeColor=p.setDrawColor=function(v,j,re,se){return rr=Ir({ch1:v,ch2:j,ch3:re,ch4:se,pdfColorType:"draw",precision:2}),Z(rr),this};var zs=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return qr(zs)},p.__private__.setFillColor=p.setFillColor=function(v,j,re,se){return zs=Ir({ch1:v,ch2:j,ch3:re,ch4:se,pdfColorType:"fill",precision:2}),Z(zs),this};var Ji=t.textColor||"0 g",qs=p.__private__.getTextColor=p.getTextColor=function(){return qr(Ji)};p.__private__.setTextColor=p.setTextColor=function(v,j,re,se){return Ji=Ir({ch1:v,ch2:j,ch3:re,ch4:se,pdfColorType:"text",precision:3}),this};var rs=t.charSpace,$s=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(rs||0)};p.__private__.setCharSpace=p.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return rs=v,this};var ul=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(v){var j=p.CapJoinStyles[v];if(j===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ul=j,Z(j+" J"),this};var Hs=0;p.__private__.setLineJoin=p.setLineJoin=function(v){var j=p.CapJoinStyles[v];if(j===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hs=j,Z(j+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(C(S(v))+" M"),this},p.GState=ff,p.setGState=function(v){(v=typeof v=="string"?tn[nr[v]]:Co(null,v)).equals(si)||(Z("/"+v.id+" gs"),si=v)};var Co=function(v,j){if(!v||!nr[v]){var re=!1;for(var se in tn)if(tn.hasOwnProperty(se)&&tn[se].equals(j)){re=!0;break}if(re)j=tn[se];else{var me="GS"+(Object.keys(tn).length+1).toString(10);tn[me]=j,j.id=me}return v&&(nr[v]=j.id),Lt.publish("addGState",j),j}};p.addGState=function(v,j){return Co(v,j),this},p.saveGraphicsState=function(){return Z("q"),Pi.push({key:pt,size:Fe,color:Ji}),this},p.restoreGraphicsState=function(){Z("Q");var v=Pi.pop();return pt=v.key,Fe=v.size,Ji=v.color,si=null,this},p.setCurrentTransformationMatrix=function(v){return Z(v.toString()+" cm"),this},p.comment=function(v){return Z("#"+v),this};var is=function(v,j){var re=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(xe){isNaN(xe)||(re=parseFloat(xe))}});var se=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(xe){isNaN(xe)||(se=parseFloat(xe))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(xe){me=xe.toString()}}),this},Ws=function(v,j,re,se){is.call(this,v,j),this.type="rect";var me=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(De){isNaN(De)||(me=parseFloat(De))}});var xe=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(De){isNaN(De)||(xe=parseFloat(De))}}),this},os=function(){this.page=Xt,this.currentPage=H,this.pages=ke.slice(0),this.pagesContext=at.slice(0),this.x=gn,this.y=Tt,this.matrix=Ur,this.width=No(H),this.height=gr(H),this.outputDestination=Ve,this.id="",this.objectNumber=-1};os.prototype.restore=function(){Xt=this.page,H=this.currentPage,at=this.pagesContext,ke=this.pages,gn=this.x,Tt=this.y,Ur=this.matrix,Ks(H,this.width),Qs(H,this.height),Ve=this.outputDestination};var Gs=function(v,j,re,se,me){ai.push(new os),Xt=H=0,ke=[],gn=v,Tt=j,Ur=me,Lr([re,se])},lu=function(v){if(dr[v])ai.pop().restore();else{var j=new os,re="Xo"+(Object.keys(Dn).length+1).toString(10);j.id=re,dr[v]=re,Dn[re]=j,Lt.publish("addFormObject",j),ai.pop().restore()}};for(var Zi in p.beginFormObject=function(v,j,re,se,me){return Gs(v,j,re,se,me),this},p.endFormObject=function(v){return lu(v),this},p.doFormObject=function(v,j){var re=Dn[dr[v]];return Z("q"),Z(j.toString()+" cm"),Z("/"+re.id+" Do"),Z("Q"),this},p.getFormObject=function(v){var j=Dn[dr[v]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},p.save=function(v,j){return v=v||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(wl(Os(Qi()),v),typeof wl.unload=="function"&&ct.setTimeout&&setTimeout(wl.unload,911),this):new Promise(function(re,se){try{var me=wl(Os(Qi()),v);typeof wl.unload=="function"&&ct.setTimeout&&setTimeout(wl.unload,911),re(me)}catch(xe){se(xe.message)}})},ut.API)ut.API.hasOwnProperty(Zi)&&(Zi==="events"&&ut.API.events.length?function(v,j){var re,se,me;for(me=j.length-1;me!==-1;me--)re=j[me][0],se=j[me][1],v.subscribe.apply(v,[re].concat(typeof se=="function"?[se]:se))}(Lt,ut.API.events):p[Zi]=ut.API[Zi]);var No=p.getPageWidth=function(v){return(at[v=v||H].mediaBox.topRightX-at[v].mediaBox.bottomLeftX)/He},Ks=p.setPageWidth=function(v,j){at[v].mediaBox.topRightX=j*He+at[v].mediaBox.bottomLeftX},gr=p.getPageHeight=function(v){return(at[v=v||H].mediaBox.topRightY-at[v].mediaBox.bottomLeftY)/He},Qs=p.setPageHeight=function(v,j){at[v].mediaBox.topRightY=j*He+at[v].mediaBox.bottomLeftY};return p.internal={pdfEscape:yn,getStyle:ou,getFont:il,getFontSize:Ue,getCharSpace:$s,getTextColor:qs,getLineHeight:al,getLineHeightFactor:ns,getLineWidth:Us,write:Je,getHorizontalCoordinate:hi,getVerticalCoordinate:qn,getCoordinateString:au,getVerticalCoordinateString:To,collections:{},newObject:xn,newAdditionalObject:Ls,newObjectDeferred:vn,newObjectDeferredBegin:On,getFilters:kr,putStream:En,events:Lt,scaleFactor:He,pageSize:{getWidth:function(){return No(H)},setWidth:function(v){Ks(H,v)},getHeight:function(){return gr(H)},setHeight:function(v){Qs(H,v)}},encryptionOptions:d,encryption:rn,getEncryptor:iu,output:js,getNumberOfPages:Ut,pages:ke,out:Z,f2:R,f3:E,getPageInfo:nl,getPageInfoByObjId:ft,getCurrentPageInfo:Po,getPDFVersion:N,Point:is,Rectangle:Ws,Matrix:Qe,hasHotfix:Eo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return No(H)},set:function(v){Ks(H,v)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return gr(H)},set:function(v){Qs(H,v)},enumerable:!0,configurable:!0}),nu.call(p,Ce),pt="F1",Zo(i,n),Lt.publish("initialized"),p}ku.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},ku.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ku.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},ku.prototype.processOwnerPassword=function(t,e){return D0(R0(e).substr(0,5),t)},ku.prototype.encryptor=function(t,e){var n=R0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return D0(n,r)}},ff.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||$t(t)!==$t(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ut.API={events:[]},ut.version="2.5.2";var _n=ut.API,Dv=1,Xl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yt=function(t){return t.toFixed(2)},ca=function(t){return t.toFixed(5)};_n.__acroform__={};var oi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Jw=function(t){return t*Dv},Do=function(t){var e=new kA,n=et.internal.getHeight(t)||0,r=et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(yt(r)),Number(yt(n))],e},e7=_n.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},t7=_n.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},n7=_n.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},kn=_n.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return n7(t,e-1)},Ln=_n.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return e7(t,e-1)},Rn=_n.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return t7(t,e-1)},r7=_n.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(yt(l.lowerLeft_X)),Number(yt(l.lowerLeft_Y)),Number(yt(l.upperRight_X)),Number(yt(l.upperRight_Y))]},i7=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=F0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+yt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Do(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},F0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var o=n,s=et.internal.getHeight(t)||0;s=s<0?-s:s;var a=et.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(E,S,I){if(E+1<i.length){var K=S+" "+i[E+1][0];return Pd(K,t,I).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var h,d,m=Pd("3",t,o).height,g=t.multiline?s-o:(s-m)/2,p=g+=2,P=0,N=0,L=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Pd(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var w="",y=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var F=!1;if(i[A].length!==1&&L!==i[A].length-1){if((m+2)*(y+2)+2>s)continue e;w+=i[A][L],F=!0,N=A,A--}else{w=(w+=i[A][L]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var V=parseInt(A),z=l(V,w,o),C=A>=i.length-1;if(z&&!C){w+=" ",L=0;continue}if(z||C){if(C)N=V;else if(t.multiline&&(m+2)*(y+2)+2>s)continue e}else{if(!t.multiline||(m+2)*(y+2)+2>s)continue e;N=V}}for(var b="",T=P;T<=N;T++){var R=i[T];if(t.multiline){if(T===N){b+=R[L]+" ",L=(L+1)%R.length;continue}if(T===P){b+=R[R.length-1]+" ";continue}}b+=R[0]+" "}switch(b=b.substr(b.length-1)==" "?b.substr(0,b.length-1):b,d=Pd(b,t,o).width,t.textAlign){case"right":h=a-d-2;break;case"center":h=(a-d)/2;break;case"left":default:h=2}e+=yt(h)+" "+yt(p)+` Td
`,e+="("+Xl(b)+`) Tj
`,e+=-yt(h)+` 0 Td
`,p=-(o+2),d=0,P=F?N:N+1,y++,w=""}break}return r.text=e,r.fontSize=o,r},Pd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},o7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},s7=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},a7=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),$t(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},l7=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(vo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(o7)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Dv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new LA,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&s7(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],h=a.Rect;if(a.Rect&&(a.Rect=r7(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=et.createDefaultAppearanceStream(a),$t(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=i7(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var m="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var p=a.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var P=p[s];typeof P=="function"&&(P=P.call(i,a)),m+="/"+s+" "+P+" ",i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P)}}else typeof(P=p)=="function"&&(P=P.call(i,a)),m+="/"+s+" "+P,i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&a7(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},IA=_n.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),$t(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Xl(r(t[o].toString()))+")"):i+=t[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Xg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Xl(r(t))+")"},Vo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vo.prototype.toString=function(){return this.objId+" 0 R"},Vo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Vo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:IA(i,this.objId,this.scope)}):i instanceof Vo?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var kA=function(){Vo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};oi(kA,Vo);var LA=function(){Vo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Xl(n(t))+")"}},set:function(n){t=n}})};oi(LA,Vo);var vo=function t(){Vo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!kn(e,3)},set:function(w){w?this.F=Ln(e,3):this.F=Rn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof zp)return;o="FieldObject"+t.FieldNum++}var w=function(y){return y};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Xl(w(o))+")"},set:function(w){o=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(w){o=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Dv:h},set:function(w){h=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof zp||this instanceof Da))return Xg(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Wn?g:Xg(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof Wn?w:w.substr(0,1)==="("?Eu(w.substr(1,w.length-2)):Eu(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wn?Eu(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Wn?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Wn?p:Xg(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof Wn?w:w.substr(0,1)==="("?Eu(w.substr(1,w.length-2)):Eu(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wn?Eu(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Wn?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(w){w=!!w,N=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(w){P=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,1)},set:function(w){w?this.Ff=Ln(this.Ff,1):this.Ff=Rn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,2)},set:function(w){w?this.Ff=Ln(this.Ff,2):this.Ff=Rn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,3)},set:function(w){w?this.Ff=Ln(this.Ff,3):this.Ff=Rn(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');L=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(L){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:L=2;break;case"center":case 1:L=1;break;case"left":case 0:default:L=0}}})};oi(vo,Vo);var Ll=function(){vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return IA(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,h=[];l=s.exec(o);)h.push(l[a]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,18)},set:function(n){n?this.Ff=Ln(this.Ff,18):this.Ff=Rn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ln(this.Ff,19):this.Ff=Rn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,20)},set:function(n){n?(this.Ff=Ln(this.Ff,20),e.sort()):this.Ff=Rn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,22)},set:function(n){n?this.Ff=Ln(this.Ff,22):this.Ff=Rn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,23)},set:function(n){n?this.Ff=Ln(this.Ff,23):this.Ff=Rn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,27)},set:function(n){n?this.Ff=Ln(this.Ff,27):this.Ff=Rn(this.Ff,27)}}),this.hasAppearanceStream=!1};oi(Ll,vo);var Rl=function(){Ll.call(this),this.fontName="helvetica",this.combo=!1};oi(Rl,Ll);var Dl=function(){Rl.call(this),this.combo=!0};oi(Dl,Rl);var Lh=function(){Dl.call(this),this.edit=!0};oi(Lh,Dl);var Wn=function(){vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,15)},set:function(n){n?this.Ff=Ln(this.Ff,15):this.Ff=Rn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,16)},set:function(n){n?this.Ff=Ln(this.Ff,16):this.Ff=Rn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,17)},set:function(n){n?this.Ff=Ln(this.Ff,17):this.Ff=Rn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,26)},set:function(n){n?this.Ff=Ln(this.Ff,26):this.Ff=Rn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Xl(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){$t(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};oi(Wn,vo);var Rh=function(){Wn.call(this),this.pushButton=!0};oi(Rh,Wn);var Fl=function(){Wn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};oi(Fl,Wn);var zp=function(){var t,e;vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Xl(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){$t(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};oi(zp,vo),Fl.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Fl.prototype.createOption=function(t){var e=new zp;return e.Parent=this,e.optionName=t,this.Kids.push(e),u7.call(this.scope,e),e};var Dh=function(){Wn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};oi(Dh,Wn);var Da=function(){vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,13)},set:function(e){e?this.Ff=Ln(this.Ff,13):this.Ff=Rn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,21)},set:function(e){e?this.Ff=Ln(this.Ff,21):this.Ff=Rn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,23)},set:function(e){e?this.Ff=Ln(this.Ff,23):this.Ff=Rn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,24)},set:function(e){e?this.Ff=Ln(this.Ff,24):this.Ff=Rn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,25)},set:function(e){e?this.Ff=Ln(this.Ff,25):this.Ff=Rn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,26)},set:function(e){e?this.Ff=Ln(this.Ff,26):this.Ff=Rn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};oi(Da,vo);var Fh=function(){Da.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,14)},set:function(t){t?this.Ff=Ln(this.Ff,14):this.Ff=Rn(this.Ff,14)}}),this.password=!0};oi(Fh,Da);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=F0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+yt(et.internal.getWidth(t))+" "+yt(et.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+yt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Do(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=et.internal.getHeight(t),s=et.internal.getWidth(t),a=F0(t,t.caption);return i.push("1 g"),i.push("0 0 "+yt(s)+" "+yt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+yt(s-1)+" "+yt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+yt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yt(et.internal.getWidth(t))+" "+yt(et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Circle.YesNormal,e.D[t]=et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Do(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=et.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ca(et.internal.getWidth(t)/2)+" "+ca(et.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*et.internal.Bezier_C).toFixed(5)),s=Number((r*et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ca(et.internal.getWidth(t)/2)+" "+ca(et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ca(et.internal.getWidth(t)/2)+" "+ca(et.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ca(et.internal.getWidth(t)/2)+" "+ca(et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Cross.YesNormal,e.D[t]=et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Do(t);e.scope=t.scope;var n=[],r=et.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+yt(et.internal.getWidth(t)-2)+" "+yt(et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(yt(r.x1.x)+" "+yt(r.x1.y)+" m"),n.push(yt(r.x2.x)+" "+yt(r.x2.y)+" l"),n.push(yt(r.x4.x)+" "+yt(r.x4.y)+" m"),n.push(yt(r.x3.x)+" "+yt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=et.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+yt(et.internal.getWidth(t))+" "+yt(et.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+yt(et.internal.getWidth(t)-2)+" "+yt(et.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(yt(n.x1.x)+" "+yt(n.x1.y)+" m"),r.push(yt(n.x2.x)+" "+yt(n.x2.y)+" l"),r.push(yt(n.x4.x)+" "+yt(n.x4.y)+" m"),r.push(yt(n.x3.x)+" "+yt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yt(et.internal.getWidth(t))+" "+yt(et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=et.internal.getWidth(t),n=et.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},et.internal.getWidth=function(t){var e=0;return $t(t)==="object"&&(e=Jw(t.Rect[2])),e},et.internal.getHeight=function(t){var e=0;return $t(t)==="object"&&(e=Jw(t.Rect[3])),e};var u7=_n.addField=function(t){if(l7(this,t),!(t instanceof vo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};_n.AcroFormChoiceField=Ll,_n.AcroFormListBox=Rl,_n.AcroFormComboBox=Dl,_n.AcroFormEditBox=Lh,_n.AcroFormButton=Wn,_n.AcroFormPushButton=Rh,_n.AcroFormRadioButton=Fl,_n.AcroFormCheckBox=Dh,_n.AcroFormTextField=Da,_n.AcroFormPasswordField=Fh,_n.AcroFormAppearance=et,_n.AcroForm={ChoiceField:Ll,ListBox:Rl,ComboBox:Dl,EditBox:Lh,Button:Wn,PushButton:Rh,RadioButton:Fl,CheckBox:Dh,TextField:Da,PasswordField:Fh,Appearance:et},ut.AcroForm={ChoiceField:Ll,ListBox:Rl,ComboBox:Dl,EditBox:Lh,Button:Wn,PushButton:Rh,RadioButton:Fl,CheckBox:Dh,TextField:Da,PasswordField:Fh,Appearance:et};var c7=ut.AcroForm;function RA(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(E,S){var I,K,ce,ee,J,Q=e;if((S=S||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(z(E))for(J in n)for(ce=n[J],I=0;I<ce.length;I+=1){for(ee=!0,K=0;K<ce[I].length;K+=1)if(ce[I][K]!==void 0&&ce[I][K]!==E[K]){ee=!1;break}if(ee===!0){Q=J;break}}else for(J in n)for(ce=n[J],I=0;I<ce.length;I+=1){for(ee=!0,K=0;K<ce[I].length;K+=1)if(ce[I][K]!==void 0&&ce[I][K]!==E.charCodeAt(K)){ee=!1;break}if(ee===!0){Q=J;break}}return Q===e&&S!==e&&(Q=S),Q},i=function E(S){for(var I=this.internal.write,K=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);S.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:S.width}),ee.push({key:"Height",value:S.height}),S.colorSpace===L.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(S.palette.length/3-1)+" "+("sMask"in S&&S.sMask!==void 0?S.objectId+2:S.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+S.colorSpace}),S.colorSpace===L.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:S.bitsPerComponent}),"decodeParameters"in S&&S.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+S.decodeParameters+">>"}),"transparency"in S&&Array.isArray(S.transparency)){for(var J="",Q=0,Y=S.transparency.length;Q<Y;Q++)J+=S.transparency[Q]+" "+S.transparency[Q]+" ";ee.push({key:"Mask",value:"["+J+"]"})}S.sMask!==void 0&&ee.push({key:"SMask",value:S.objectId+1+" 0 R"});var oe=S.filter!==void 0?["/"+S.filter]:void 0;if(K({data:S.data,additionalKeyValues:ee,alreadyAppliedFilters:oe,objectId:S.objectId}),I("endobj"),"sMask"in S&&S.sMask!==void 0){var ve="/Predictor "+S.predictor+" /Colors 1 /BitsPerComponent "+S.bitsPerComponent+" /Columns "+S.width,O={width:S.width,height:S.height,colorSpace:"DeviceGray",bitsPerComponent:S.bitsPerComponent,decodeParameters:ve,data:S.sMask};"filter"in S&&(O.filter=S.filter),E.call(this,O)}if(S.colorSpace===L.INDEXED){var H=this.internal.newObject();K({data:b(new Uint8Array(S.palette)),objectId:H}),I("endobj")}},o=function(){var E=this.internal.collections.addImage_images;for(var S in E)i.call(this,E[S])},s=function(){var E,S=this.internal.collections.addImage_images,I=this.internal.write;for(var K in S)I("/I"+(E=S[K]).index,E.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var E=this.internal.collections.addImage_images;return a.call(this),E},h=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(E){return typeof t["process"+E.toUpperCase()]=="function"},m=function(E){return $t(E)==="object"&&E.nodeType===1},g=function(E,S){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var I=""+E.getAttribute("src");if(I.indexOf("data:image/")===0)return kh(unescape(I).split("base64,").pop());var K=t.loadFile(I,!0);if(K!==void 0)return K}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ce;switch(S){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return kh(E.toDataURL(ce,1).split("base64,").pop())}},p=function(E){var S=this.internal.collections.addImage_images;if(S){for(var I in S)if(E===S[I].alias)return S[I]}},P=function(E,S,I){return E||S||(E=-96,S=-96),E<0&&(E=-1*I.width*72/E/this.internal.scaleFactor),S<0&&(S=-1*I.height*72/S/this.internal.scaleFactor),E===0&&(E=S*I.width/I.height),S===0&&(S=E*I.height/I.width),[E,S]},N=function(E,S,I,K,ce,ee){var J=P.call(this,I,K,ce),Q=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,oe=l.call(this);if(I=J[0],K=J[1],oe[ce.index]=ce,ee){ee*=Math.PI/180;var ve=Math.cos(ee),O=Math.sin(ee),H=function(ne){return ne.toFixed(4)},X=[H(ve),H(O),H(-1*O),H(ve),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,Q(E),Y(S+K),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([Q(I),"0","0",Q(K),"0","0","cm"].join(" "))):this.internal.write([Q(I),"0","0",Q(K),Q(E),Y(S+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},L=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(E){var S,I,K=0;if(typeof E=="string")for(I=E.length,S=0;S<I;S++)K=(K<<5)-K+E.charCodeAt(S),K|=0;else if(z(E))for(I=E.byteLength/2,S=0;S<I;S++)K=(K<<5)-K+E[S],K|=0;return K},A=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var S=!0;return E.length===0&&(S=!1),E.length%4!=0&&(S=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(S=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(S=!1),S},F=t.__addimage__.extractImageFromDataUrl=function(E){var S=(E=E||"").split("base64,"),I=null;if(S.length===2){var K=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(S[0]);Array.isArray(K)&&(I={mimeType:K[1],charset:K[2],data:S[1]})}return I},V=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return V()&&E instanceof ArrayBuffer};var z=t.__addimage__.isArrayBufferView=function(E){return V()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},C=t.__addimage__.binaryStringToUint8Array=function(E){for(var S=E.length,I=new Uint8Array(S),K=0;K<S;K++)I[K]=E.charCodeAt(K);return I},b=t.__addimage__.arrayBufferToBinaryString=function(E){for(var S="",I=z(E)?E:new Uint8Array(E),K=0;K<I.length;K+=8192)S+=String.fromCharCode.apply(null,I.subarray(K,K+8192));return S};t.addImage=function(){var E,S,I,K,ce,ee,J,Q,Y;if(typeof arguments[1]=="number"?(S=e,I=arguments[1],K=arguments[2],ce=arguments[3],ee=arguments[4],J=arguments[5],Q=arguments[6],Y=arguments[7]):(S=arguments[1],I=arguments[2],K=arguments[3],ce=arguments[4],ee=arguments[5],J=arguments[6],Q=arguments[7],Y=arguments[8]),$t(E=arguments[0])==="object"&&!m(E)&&"imageData"in E){var oe=E;E=oe.imageData,S=oe.format||S||e,I=oe.x||I||0,K=oe.y||K||0,ce=oe.w||oe.width||ce,ee=oe.h||oe.height||ee,J=oe.alias||J,Q=oe.compression||Q,Y=oe.rotation||oe.angle||Y}var ve=this.internal.getFilters();if(Q===void 0&&ve.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(I)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var O=T.call(this,E,S,J,Q);return N.call(this,I,K,ce,ee,O,Y),this};var T=function(E,S,I,K){var ce,ee,J;if(typeof E=="string"&&r(E)===e){E=unescape(E);var Q=R(E,!1);(Q!==""||(Q=t.loadFile(E,!0))!==void 0)&&(E=Q)}if(m(E)&&(E=g(E,S)),S=r(E,S),!d(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(((J=I)==null||J.length===0)&&(I=function(Y){return typeof Y=="string"||z(Y)?y(Y):z(Y.data)?y(Y.data):null}(E)),(ce=p.call(this,I))||(V()&&(E instanceof Uint8Array||S==="RGBA"||(ee=E,E=C(E))),ce=this["process"+S.toUpperCase()](E,h.call(this),I,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:w.NONE}(K),ee)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},R=t.__addimage__.convertBase64ToBinaryString=function(E,S){var I;S=typeof S!="boolean"||S;var K,ce="";if(typeof E=="string"){K=(I=F(E))!==null?I.data:E;try{ce=kh(K)}catch(ee){if(S)throw A(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};t.getImageProperties=function(E){var S,I,K="";if(m(E)&&(E=g(E)),typeof E=="string"&&r(E)===e&&((K=R(E,!1))===""&&(K=t.loadFile(E)||""),E=K),I=r(E),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!V()||E instanceof Uint8Array||(E=C(E)),!(S=this["process"+I.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return S.fileType=I,S}})(ut.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ut.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,d=!1,m=0;m<h.length&&!d;m++)switch((r=h[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<h.length;g++){r=h[g];var p=this.internal.pdfEscape,P=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(N.objId),y=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",o+=" /Popup "+L.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+p(w(y))+") >>",N.content=o;var A=N.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+A,r.open&&(o+=" /Open true"),o+=" >>",L.content=o,this.internal.write(N.objId,"0 R",L.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(P(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var V=this.annotations._nameMap[r.options.name];r.options.pageNumber=V.page,r.options.top=V.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(P(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var z=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+z+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:h(r),w:l(n+i),h:h(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,l=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var d=this.splitTextToSize(n,a).length;s=Math.ceil(h*d)}else a=l,s=h;return this.text(n,r,i,o),i+=.2*h,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-h,a,s,o),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ut.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},a=t.__arabicParser__.isArabicEndLetter=function(N){return s(N)&&o(N)&&e[N.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(N){return s(N)&&i.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return s(N)&&o(N)&&e[N.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return s(N)&&o(N)&&e[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return s(N)&&o(N)&&e[N.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return s(N)&&o(N)&&e[N.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(N){var L=0,w=n,y="",A=0;for(L=0;L<N.length;L+=1)w[N.charCodeAt(L)]!==void 0?(A++,typeof(w=w[N.charCodeAt(L)])=="number"&&(y+=String.fromCharCode(w),w=n,A=0),L===N.length-1&&(w=n,y+=N.charAt(L-(A-1)),L-=A-1,A=0)):(w=n,y+=N.charAt(L-A),L-=A,A=0);return y};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&r[N.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(N,L,w){return s(N)?o(N)===!1?-1:!h(N)||!s(L)&&!s(w)||!s(w)&&a(L)||a(N)&&!s(L)||a(N)&&l(L)||a(N)&&a(L)?0:d(N)&&s(L)&&!a(L)&&s(w)&&h(w)?3:a(N)||!s(w)?1:2:-1},p=function(N){var L=0,w=0,y=0,A="",F="",V="",z=(N=N||"").split("\\s+"),C=[];for(L=0;L<z.length;L+=1){for(C.push(""),w=0;w<z[L].length;w+=1)A=z[L][w],F=z[L][w-1],V=z[L][w+1],s(A)?(y=g(A,F,V),C[L]+=y!==-1?String.fromCharCode(e[A.charCodeAt(0)][y]):A):C[L]+=A;C[L]=m(C[L])}return C.join(" ")},P=t.__arabicParser__.processArabic=t.processArabic=function(){var N,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(L)){var y=0;for(w=[],y=0;y<L.length;y+=1)Array.isArray(L[y])?w.push([p(L[y][0]),L[y][1],L[y][2]]):w.push([p(L[y])]);N=w}else N=p(L);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",P])}(ut.API),ut.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ut.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(N){l=N}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(N){P=N}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,h){r.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),m=h.font||this.getFont(),g=h.scaleFactor||this.internal.scaleFactor,p=0,P=0,N=0,L=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=h.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,F){return A.concat(L.splitTextToSize(F,w))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)p<(N=this.getStringUnitWidth(l[y],{font:m})*d)&&(p=N);return p!==0&&(P=l.length),{w:p/=g,h:Math.max((P*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===l.lineNumber?(l.x=(h.x||0)+(h.width||0),l.y=h.y||0):h.y+h.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=h.y+h.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,h,d,m,g){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,P,N,L,w=[],y=[],A=[],F={},V={},z=[],C=[],b=(g=g||{}).autoSize||!1,T=g.printHeaders!==!1,R=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,E=g.margins||Object.assign({width:this.getPageWidth()},e),S=typeof g.padding=="number"?g.padding:3,I=g.headerBackgroundColor||"#c8c8c8",K=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=K,this.setFontSize(R),m==null)y=w=Object.keys(d[0]),A=w.map(function(){return"left"});else if(Array.isArray(m)&&$t(m[0])==="object")for(w=m.map(function(oe){return oe.name}),y=m.map(function(oe){return oe.prompt||oe.name||""}),A=m.map(function(oe){return oe.align||"left"}),p=0;p<m.length;p+=1)V[m[p].name]=m[p].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(y=w=m,A=w.map(function(){return"left"}));if(b||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<w.length;p+=1){for(F[L=w[p]]=d.map(function(oe){return oe[L]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=F[L],this.setFont(void 0,"normal"),N=0;N<P.length;N+=1)z.push(this.getTextDimensions(P[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[L]=Math.max.apply(null,z)+S+S,z=[]}if(T){var ce={};for(p=0;p<w.length;p+=1)ce[w[p]]={},ce[w[p]].text=y[p],ce[w[p]].align=A[p];var ee=a.call(this,ce,V);C=w.map(function(oe){return new o(l,h,V[oe],ee,ce[oe].text,void 0,ce[oe].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var J=m.reduce(function(oe,ve){return oe[ve.name]=ve.align,oe},{});for(p=0;p<d.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:d[p]},this);var Q=a.call(this,d[p],V);for(N=0;N<w.length;N+=1){var Y=d[p][w[N]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:N,data:Y},this),s.call(this,new o(l,h,V[w[N]],Q,Y,p+2,J[w[N]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=h,this};var a=function(l,h){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var P=l[p];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,h[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/g+d+d},this).reduce(function(p,P){return Math.max(p,P)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=l;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(P)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(ut.API);var DA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},FA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],O0=RA(FA),OA=[100,200,300,400,500,600,700,800,900],h7=RA(OA);function j0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return DA[o=o||"normal"]?o:"normal"}(t.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(o){return typeof O0[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Zw(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var f7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},e_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function t_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function d7(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},f7,n.genericFontFamilies||{}),o=null,s=null,a=0;a<e.length;++a)if(i[(o=j0(e[a])).family]&&(o.family=i[o.family]),t.hasOwnProperty(o.family)){s=t[o.family];break}if(!(s=s||t[r]))throw new Error("Could not find a font-family for the rule '"+t_(o)+"' and default family '"+r+"'.");if(s=function(l,h){if(h[l])return h[l];var d=O0[l],m=d<=O0.normal?-1:1,g=Zw(h,FA,d,m);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(o.stretch,s),s=function(l,h){if(h[l])return h[l];for(var d=DA[l],m=0;m<d.length;++m)if(h[d[m]])return h[d[m]];throw new Error("Could not find a matching font-style for "+l)}(o.style,s),!(s=function(l,h){if(h[l])return h[l];if(l===400&&h[500])return h[500];if(l===500&&h[400])return h[400];var d=h7[l],m=Zw(h,OA,d,l<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+l);return m}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+t_(o)+"'.");return s}function n_(t){return t.trimLeft()}function p7(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function m7(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Td,r_,i_,Jg=["times"];(function(t){var e,n,r,i,o,s,a,l,h,d=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new l,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new s,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new s,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,h=new d}]);var m=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=O;Object.defineProperty(this,"pdf",{get:function(){return H}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(fe){X=!!fe}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(fe){ne=!!fe}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(fe){isNaN(fe)||(ie=fe)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(fe){isNaN(fe)||(pe=fe)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(fe){var Z;typeof fe=="number"?Z=[fe,fe,fe,fe]:((Z=new Array(4))[0]=fe[0],Z[1]=fe.length>=2?fe[1]:Z[0],Z[2]=fe.length>=3?fe[2]:Z[0],Z[3]=fe.length>=4?fe[3]:Z[1]),h.margin=Z}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(fe){ye=fe}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(fe){we=fe}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(fe){Re=fe}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(fe){fe instanceof d&&(h=fe)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(fe){h.path=fe}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(fe){ke=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var Z;Z=g(fe),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var Z=g(fe);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var Me=null;function Ve(fe,Z){if(Me===null){var Je=function(ze){var Ce=[];return Object.keys(ze).forEach(function(Fe){ze[Fe].forEach(function(Be){var Ue=null;switch(Be){case"bold":Ue={family:Fe,weight:"bold"};break;case"italic":Ue={family:Fe,style:"italic"};break;case"bolditalic":Ue={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":Ue={family:Fe}}Ue!==null&&(Ue.ref={name:Fe,style:Be},Ce.push(Ue))})}),Ce}(fe.getFontList());Me=function(ze){for(var Ce={},Fe=0;Fe<ze.length;++Fe){var Be=j0(ze[Fe]),Ue=Be.family,tt=Be.stretch,st=Be.style,ht=Be.weight;Ce[Ue]=Ce[Ue]||{},Ce[Ue][tt]=Ce[Ue][tt]||{},Ce[Ue][tt][st]=Ce[Ue][tt][st]||{},Ce[Ue][tt][st][ht]=Be}return Ce}(Je.concat(Z))}return Me}var it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(fe){Me=null,it=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var Z;if(this.ctx.font=fe,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(fe))!==null){var Je=Z[1],ze=(Z[2],Z[3]),Ce=Z[4],Fe=(Z[5],Z[6]),Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(Be==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var Ue=function(nt){var pt,He,gn=[],Tt=nt.trim();if(Tt==="")return Jg;if(Tt in e_)return[e_[Tt]];for(;Tt!=="";){switch(He=null,pt=(Tt=n_(Tt)).charAt(0)){case'"':case"'":He=p7(Tt.substring(1),pt);break;default:He=m7(Tt)}if(He===null||(gn.push(He[0]),(Tt=n_(He[1]))!==""&&Tt.charAt(0)!==","))return Jg;Tt=Tt.replace(/^,/,"")}return gn}(Fe);if(this.fontFaces){var tt=d7(Ve(this.pdf,this.fontFaces),Ue.map(function(nt){return{family:nt,stretch:"normal",weight:ze,style:Je}}));this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var st="";(ze==="bold"||parseInt(ze,10)>=700||Je==="bold")&&(st="bold"),Je==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var ht="",Ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<Ue.length;rt++){if(this.pdf.internal.getFont(Ue[rt],st,{noFallback:!0,disableWarning:!0})!==void 0){ht=Ue[rt];break}if(st==="bolditalic"&&this.pdf.internal.getFont(Ue[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=Ue[rt],st="bold";else if(this.pdf.internal.getFont(Ue[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=Ue[rt],st="normal";break}}if(ht===""){for(var St=0;St<Ue.length;St++)if(Ze[Ue[St]]){ht=Ze[Ue[St]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};m.prototype.setLineDash=function(O){this.lineDash=O},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){F.call(this,"fill",!1)},m.prototype.stroke=function(){F.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(O,H){if(isNaN(O)||isNaN(H))throw Qt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new s(O,H));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(O,H)},m.prototype.closePath=function(){var O=new s(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&$t(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){O=new s(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(O.x,O.y)},m.prototype.lineTo=function(O,H){if(isNaN(O)||isNaN(H))throw Qt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new s(O,H));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},m.prototype.quadraticCurveTo=function(O,H,X,ne){if(isNaN(X)||isNaN(ne)||isNaN(O)||isNaN(H))throw Qt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new s(X,ne)),pe=this.ctx.transform.applyToPoint(new s(O,H));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(ie.x,ie.y)},m.prototype.bezierCurveTo=function(O,H,X,ne,ie,pe){if(isNaN(ie)||isNaN(pe)||isNaN(O)||isNaN(H)||isNaN(X)||isNaN(ne))throw Qt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new s(ie,pe)),we=this.ctx.transform.applyToPoint(new s(O,H)),Re=this.ctx.transform.applyToPoint(new s(X,ne));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Re.x,y2:Re.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new s(ye.x,ye.y)},m.prototype.arc=function(O,H,X,ne,ie,pe){if(isNaN(O)||isNaN(H)||isNaN(X)||isNaN(ne)||isNaN(ie))throw Qt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new s(O,H));O=ye.x,H=ye.y;var we=this.ctx.transform.applyToPoint(new s(0,X)),Re=this.ctx.transform.applyToPoint(new s(0,0));X=Math.sqrt(Math.pow(we.x-Re.x,2)+Math.pow(we.y-Re.y,2))}Math.abs(ie-ne)>=2*Math.PI&&(ne=0,ie=2*Math.PI),this.path.push({type:"arc",x:O,y:H,radius:X,startAngle:ne,endAngle:ie,counterclockwise:pe})},m.prototype.arcTo=function(O,H,X,ne,ie){throw new Error("arcTo not implemented.")},m.prototype.rect=function(O,H,X,ne){if(isNaN(O)||isNaN(H)||isNaN(X)||isNaN(ne))throw Qt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,H),this.lineTo(O+X,H),this.lineTo(O+X,H+ne),this.lineTo(O,H+ne),this.lineTo(O,H),this.lineTo(O+X,H),this.lineTo(O,H)},m.prototype.fillRect=function(O,H,X,ne){if(isNaN(O)||isNaN(H)||isNaN(X)||isNaN(ne))throw Qt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,H,X,ne),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},m.prototype.strokeRect=function(O,H,X,ne){if(isNaN(O)||isNaN(H)||isNaN(X)||isNaN(ne))throw Qt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(O,H,X,ne),this.stroke())},m.prototype.clearRect=function(O,H,X,ne){if(isNaN(O)||isNaN(H)||isNaN(X)||isNaN(ne))throw Qt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,H,X,ne))},m.prototype.save=function(O){O=typeof O!="boolean"||O;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},m.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(H),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(O){var H,X,ne,ie;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))H=0,X=0,ne=0,ie=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(pe!==null)H=parseInt(pe[1]),X=parseInt(pe[2]),ne=parseInt(pe[3]),ie=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)H=parseInt(pe[1]),X=parseInt(pe[2]),ne=parseInt(pe[3]),ie=parseFloat(pe[4]);else{if(ie=1,typeof O=="string"&&O.charAt(0)!=="#"){var ye=new TA(O);O=ye.ok?ye.toHex():"#000000"}O.length===4?(H=O.substring(1,2),H+=H,X=O.substring(2,3),X+=X,ne=O.substring(3,4),ne+=ne):(H=O.substring(1,3),X=O.substring(3,5),ne=O.substring(5,7)),H=parseInt(H,16),X=parseInt(X,16),ne=parseInt(ne,16)}}return{r:H,g:X,b:ne,a:ie,style:O}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(O,H,X,ne){if(isNaN(H)||isNaN(X)||typeof O!="string")throw Qt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!p.call(this)){var ie=Q(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;S.call(this,{text:O,x:H,y:X,scale:pe,angle:ie,align:this.textAlign,maxWidth:ne})}},m.prototype.strokeText=function(O,H,X,ne){if(isNaN(H)||isNaN(X)||typeof O!="string")throw Qt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){ne=isNaN(ne)?void 0:ne;var ie=Q(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;S.call(this,{text:O,x:H,y:X,scale:pe,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:ne})}},m.prototype.measureText=function(O){if(typeof O!="string")throw Qt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,X=this.pdf.internal.scaleFactor,ne=H.internal.getFontSize(),ie=H.getStringUnitWidth(O)*ne/H.internal.scaleFactor,pe=function(ye){var we=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this};return new pe({width:ie*=Math.round(96*X/72*1e4)/1e4})},m.prototype.scale=function(O,H){if(isNaN(O)||isNaN(H))throw Qt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(O,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.rotate=function(O){if(isNaN(O))throw Qt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.translate=function(O,H){if(isNaN(O)||isNaN(H))throw Qt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,O,H);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.transform=function(O,H,X,ne,ie,pe){if(isNaN(O)||isNaN(H)||isNaN(X)||isNaN(ne)||isNaN(ie)||isNaN(pe))throw Qt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new l(O,H,X,ne,ie,pe);this.ctx.transform=this.ctx.transform.multiply(ye)},m.prototype.setTransform=function(O,H,X,ne,ie,pe){O=isNaN(O)?1:O,H=isNaN(H)?0:H,X=isNaN(X)?0:X,ne=isNaN(ne)?1:ne,ie=isNaN(ie)?0:ie,pe=isNaN(pe)?0:pe,this.ctx.transform=new l(O,H,X,ne,ie,pe)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(O,H,X,ne,ie,pe,ye,we,Re){var ke=this.pdf.getImageProperties(O),Me=1,Ve=1,it=1,fe=1;ne!==void 0&&we!==void 0&&(it=we/ne,fe=Re/ie,Me=ke.width/ne*we/ne,Ve=ke.height/ie*Re/ie),pe===void 0&&(pe=H,ye=X,H=0,X=0),ne!==void 0&&we===void 0&&(we=ne,Re=ie),ne===void 0&&we===void 0&&(we=ke.width,Re=ke.height);for(var Z,Je=this.ctx.transform.decompose(),ze=Q(Je.rotate.shx),Ce=new l,Fe=(Ce=(Ce=(Ce=Ce.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new a(pe-H*it,ye-X*fe,ne*Me,ie*Ve)),Be=L.call(this,Fe),Ue=[],tt=0;tt<Be.length;tt+=1)Ue.indexOf(Be[tt])===-1&&Ue.push(Be[tt]);if(A(Ue),this.autoPaging)for(var st=Ue[0],ht=Ue[Ue.length-1],Ze=st;Ze<ht+1;Ze++){this.pdf.setPage(Ze);var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=Ze===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=Ze===1?0:nt+(Ze-2)*pt;if(this.ctx.clip_path.length!==0){var gn=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Z,this.posX+this.margin[3],-He+St+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=gn}var Tt=JSON.parse(JSON.stringify(Fe));Tt=y([Tt],this.posX+this.margin[3],-He+St+this.ctx.prevPageLastElemOffset)[0];var Ur=(Ze>st||Ze<ht)&&N.call(this);Ur&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,pt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Tt.x,Tt.y,Tt.w,Tt.h,null,null,ze),Ur&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,ze)};var L=function(O,H,X){var ne=[];H=H||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":ne.push(Math.floor((O.y+ie)/X)+1);break;case"arc":ne.push(Math.floor((O.y+ie-O.radius)/X)+1),ne.push(Math.floor((O.y+ie+O.radius)/X)+1);break;case"qct":var pe=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);ne.push(Math.floor((pe.y+ie)/X)+1),ne.push(Math.floor((pe.y+pe.h+ie)/X)+1);break;case"bct":var ye=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);ne.push(Math.floor((ye.y+ie)/X)+1),ne.push(Math.floor((ye.y+ye.h+ie)/X)+1);break;case"rect":ne.push(Math.floor((O.y+ie)/X)+1),ne.push(Math.floor((O.y+O.h+ie)/X)+1)}for(var we=0;we<ne.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<ne[we];)w.call(this);return ne},w=function(){var O=this.fillStyle,H=this.strokeStyle,X=this.font,ne=this.lineCap,ie=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=H,this.font=X,this.lineCap=ne,this.lineWidth=ie,this.lineJoin=pe},y=function(O,H,X){for(var ne=0;ne<O.length;ne++)switch(O[ne].type){case"bct":O[ne].x2+=H,O[ne].y2+=X;case"qct":O[ne].x1+=H,O[ne].y1+=X;case"mt":case"lt":case"arc":default:O[ne].x+=H,O[ne].y+=X}return O},A=function(O){return O.sort(function(H,X){return H-X})},F=function(O,H){for(var X,ne,ie=this.fillStyle,pe=this.strokeStyle,ye=this.lineCap,we=this.lineWidth,Re=Math.abs(we*this.ctx.transform.scaleX),ke=this.lineJoin,Me=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),it=[],fe=0;fe<Ve.length;fe++)if(Ve[fe].x!==void 0)for(var Z=L.call(this,Ve[fe]),Je=0;Je<Z.length;Je+=1)it.indexOf(Z[Je])===-1&&it.push(Z[Je]);for(var ze=0;ze<it.length;ze++)for(;this.pdf.internal.getNumberOfPages()<it[ze];)w.call(this);if(A(it),this.autoPaging)for(var Ce=it[0],Fe=it[it.length-1],Be=Ce;Be<Fe+1;Be++){this.pdf.setPage(Be),this.fillStyle=ie,this.strokeStyle=pe,this.lineCap=ye,this.lineWidth=Re,this.lineJoin=ke;var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=Be===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=Be===1?0:st+(Be-2)*ht;if(this.ctx.clip_path.length!==0){var rt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(X,this.posX+this.margin[3],-Ze+tt+this.ctx.prevPageLastElemOffset),V.call(this,O,!0),this.path=rt}if(ne=JSON.parse(JSON.stringify(Me)),this.path=y(ne,this.posX+this.margin[3],-Ze+tt+this.ctx.prevPageLastElemOffset),H===!1||Be===0){var St=(Be>Ce||Be<Fe)&&N.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,ht,null).clip().discardPath()),V.call(this,O,H),St&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=Re,V.call(this,O,H),this.lineWidth=we;this.path=Me},V=function(O,H){if((O!=="stroke"||H||!P.call(this))&&(O==="stroke"||H||!p.call(this))){for(var X,ne,ie=[],pe=this.path,ye=0;ye<pe.length;ye++){var we=pe[ye];switch(we.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:we,deltas:[],abs:[]});break;case"lt":var Re=ie.length;if(pe[ye-1]&&!isNaN(pe[ye-1].x)&&(X=[we.x-pe[ye-1].x,we.y-pe[ye-1].y],Re>0)){for(;Re>=0;Re--)if(ie[Re-1].close!==!0&&ie[Re-1].begin!==!0){ie[Re-1].deltas.push(X),ie[Re-1].abs.push(we);break}}break;case"bct":X=[we.x1-pe[ye-1].x,we.y1-pe[ye-1].y,we.x2-pe[ye-1].x,we.y2-pe[ye-1].y,we.x-pe[ye-1].x,we.y-pe[ye-1].y],ie[ie.length-1].deltas.push(X);break;case"qct":var ke=pe[ye-1].x+2/3*(we.x1-pe[ye-1].x),Me=pe[ye-1].y+2/3*(we.y1-pe[ye-1].y),Ve=we.x+2/3*(we.x1-we.x),it=we.y+2/3*(we.y1-we.y),fe=we.x,Z=we.y;X=[ke-pe[ye-1].x,Me-pe[ye-1].y,Ve-pe[ye-1].x,it-pe[ye-1].y,fe-pe[ye-1].x,Z-pe[ye-1].y],ie[ie.length-1].deltas.push(X);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(we)}}ne=H?null:O==="stroke"?"stroke":"fill";for(var Je=!1,ze=0;ze<ie.length;ze++)if(ie[ze].arc)for(var Ce=ie[ze].abs,Fe=0;Fe<Ce.length;Fe++){var Be=Ce[Fe];Be.type==="arc"?b.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,H,!Je):I.call(this,Be.x,Be.y),Je=!0}else if(ie[ze].close===!0)this.pdf.internal.out("h"),Je=!1;else if(ie[ze].begin!==!0){var Ue=ie[ze].start.x,tt=ie[ze].start.y;K.call(this,ie[ze].deltas,Ue,tt),Je=!0}ne&&T.call(this,ne),H&&R.call(this)}},z=function(O){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-X;case"top":return O+H-X;case"hanging":return O+H-2*X;case"middle":return O+H/2-X;case"ideographic":return O;case"alphabetic":default:return O}},C=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(H,X){this.colorStops.push([H,X])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var b=function(O,H,X,ne,ie,pe,ye,we,Re){for(var ke=ee.call(this,X,ne,ie,pe),Me=0;Me<ke.length;Me++){var Ve=ke[Me];Me===0&&(Re?E.call(this,Ve.x1+O,Ve.y1+H):I.call(this,Ve.x1+O,Ve.y1+H)),ce.call(this,O,H,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}we?R.call(this):T.call(this,ye)},T=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(O,H){this.pdf.internal.out(n(O)+" "+r(H)+" m")},S=function(O){var H;switch(O.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var X=this.pdf.getTextDimensions(O.text),ne=z.call(this,O.y),ie=C.call(this,ne)-X.h,pe=this.ctx.transform.applyToPoint(new s(O.x,ne)),ye=this.ctx.transform.decompose(),we=new l;we=(we=(we=we.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Re,ke,Me,Ve=this.ctx.transform.applyToRectangle(new a(O.x,ne,X.w,X.h)),it=we.applyToRectangle(new a(O.x,ie,X.w,X.h)),fe=L.call(this,it),Z=[],Je=0;Je<fe.length;Je+=1)Z.indexOf(fe[Je])===-1&&Z.push(fe[Je]);if(A(Z),this.autoPaging)for(var ze=Z[0],Ce=Z[Z.length-1],Fe=ze;Fe<Ce+1;Fe++){this.pdf.setPage(Fe);var Be=Fe===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],st=tt-this.margin[0],ht=this.pdf.internal.pageSize.width-this.margin[1],Ze=ht-this.margin[3],rt=Fe===1?0:Ue+(Fe-2)*st;if(this.ctx.clip_path.length!==0){var St=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Re,this.posX+this.margin[3],-1*rt+Be),V.call(this,"fill",!0),this.path=St}var nt=y([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-rt+Be+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*O.scale),Me=this.lineWidth,this.lineWidth=Me*O.scale);var pt=this.autoPaging!=="text";if(pt||nt.y+nt.h<=tt){if(pt||nt.y>=Be&&nt.x<=ht){var He=pt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||ht-nt.x)[0],gn=y([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-rt+Be+this.ctx.prevPageLastElemOffset)[0],Tt=pt&&(Fe>ze||Fe<Ce)&&N.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,st,null).clip().discardPath()),this.pdf.text(He,gn.x,gn.y,{angle:O.angle,align:H,renderingMode:O.renderingMode}),Tt&&this.pdf.restoreGraphicsState()}}else nt.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-nt.y);O.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Me)}else O.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*O.scale),Me=this.lineWidth,this.lineWidth=Me*O.scale),this.pdf.text(O.text,pe.x+this.posX,pe.y+this.posY,{angle:O.angle,align:H,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Me)},I=function(O,H,X,ne){X=X||0,ne=ne||0,this.pdf.internal.out(n(O+X)+" "+r(H+ne)+" l")},K=function(O,H,X){return this.pdf.lines(O,H,X,null,null)},ce=function(O,H,X,ne,ie,pe,ye,we){this.pdf.internal.out([e(i(X+O)),e(o(ne+H)),e(i(ie+O)),e(o(pe+H)),e(i(ye+O)),e(o(we+H)),"c"].join(" "))},ee=function(O,H,X,ne){for(var ie=2*Math.PI,pe=Math.PI/2;H>X;)H-=ie;var ye=Math.abs(X-H);ye<ie&&ne&&(ye=ie-ye);for(var we=[],Re=ne?-1:1,ke=H;ye>1e-5;){var Me=ke+Re*Math.min(ye,pe);we.push(J.call(this,O,ke,Me)),ye-=Math.abs(Me-ke),ke=Me}return we},J=function(O,H,X){var ne=(X-H)/2,ie=O*Math.cos(ne),pe=O*Math.sin(ne),ye=ie,we=-pe,Re=ye*ye+we*we,ke=Re+ye*ie+we*pe,Me=4/3*(Math.sqrt(2*Re*ke)-ke)/(ye*pe-we*ie),Ve=ye-Me*we,it=we+Me*ye,fe=Ve,Z=-it,Je=ne+H,ze=Math.cos(Je),Ce=Math.sin(Je);return{x1:O*Math.cos(H),y1:O*Math.sin(H),x2:Ve*ze-it*Ce,y2:Ve*Ce+it*ze,x3:fe*ze-Z*Ce,y3:fe*Ce+Z*ze,x4:O*Math.cos(X),y4:O*Math.sin(X)}},Q=function(O){return 180*O/Math.PI},Y=function(O,H,X,ne,ie,pe){var ye=O+.5*(X-O),we=H+.5*(ne-H),Re=ie+.5*(X-ie),ke=pe+.5*(ne-pe),Me=Math.min(O,ie,ye,Re),Ve=Math.max(O,ie,ye,Re),it=Math.min(H,pe,we,ke),fe=Math.max(H,pe,we,ke);return new a(Me,it,Ve-Me,fe-it)},oe=function(O,H,X,ne,ie,pe,ye,we){var Re,ke,Me,Ve,it,fe,Z,Je,ze,Ce,Fe,Be,Ue,tt,st=X-O,ht=ne-H,Ze=ie-X,rt=pe-ne,St=ye-ie,nt=we-pe;for(ke=0;ke<41;ke++)ze=(Z=(Me=O+(Re=ke/40)*st)+Re*((it=X+Re*Ze)-Me))+Re*(it+Re*(ie+Re*St-it)-Z),Ce=(Je=(Ve=H+Re*ht)+Re*((fe=ne+Re*rt)-Ve))+Re*(fe+Re*(pe+Re*nt-fe)-Je),ke==0?(Fe=ze,Be=Ce,Ue=ze,tt=Ce):(Fe=Math.min(Fe,ze),Be=Math.min(Be,Ce),Ue=Math.max(Ue,ze),tt=Math.max(tt,Ce));return new a(Math.round(Fe),Math.round(Be),Math.round(Ue-Fe),Math.round(tt-Be))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,H,X=(O=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:H}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(ut.API),function(t){var e=function(o){var s,a,l,h,d,m,g,p,P,N;for(a=[],l=0,h=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;h>l;l+=4)(d=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(m=(d=((d=((d=((d=(d-(N=d%85))/85)-(P=d%85))/85)-(p=d%85))/85)-(g=d%85))/85)%85,a.push(m+33,g+33,p+33,P+33,N+33)):a.push(122);return function(L,w){for(var y=w;y>0;y--)L.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},n=function(o){var s,a,l,h,d,m=String,g="length",p=255,P="charCodeAt",N="slice",L="replace";for(o[N](-2),o=o[N](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),l=[],h=0,d=(o+=s="uuuuu"[N](o[g]%5||5))[g];d>h;h+=5)a=52200625*(o[P](h)-33)+614125*(o[P](h+1)-33)+7225*(o[P](h+2)-33)+85*(o[P](h+3)-33)+(o[P](h+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(w,y){for(var A=y;A>0;A--)w.pop()}(l,s[g]),m.fromCharCode.apply(m,l)},r=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",l=0;l<o.length;l+=2)a+=String.fromCharCode("0x"+(o[l]+o[l+1]));return a},i=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=k0(s)).reduce(function(l,h){return l+String.fromCharCode(h)},"")};t.processDataByFilters=function(o,s){var a=0,l=o||"",h=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:l,reverseChain:h.reverse().join(" ")}}}(ut.API),function(t){t.loadFile=function(e,n,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,h,d){var m=new XMLHttpRequest,g=0,p=function(P){var N=P.length,L=[],w=String.fromCharCode;for(g=0;g<N;g+=1)L.push(w(255&P.charCodeAt(g)));return L.join("")};if(m.open("GET",l,!h),m.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(m.onload=function(){m.status===200?d(p(this.responseText)):d(void 0)}),m.send(null),h&&m.status===200)return p(m.responseText)}(i,o,s)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(ut.API),function(t){function e(){return(ct.html2canvas?Promise.resolve(ct.html2canvas):P0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(ct.DOMPurify?Promise.resolve(ct.DOMPurify):P0(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var a=$t(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(s,a){var l=document.createElement(s);for(var h in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[h]=a.style[h];return l},o=function s(a){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),h=s.convert(Promise.resolve(),l);return h=(h=h.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(h,d){for(var m=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),g=h.firstChild;g;g=g.nextSibling)d!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||m.appendChild(l(g,d));return h.nodeType===1&&(h.nodeName==="CANVAS"?(m.width=h.width,m.height=h.height,m.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(m.value=h.value),m.addEventListener("load",function(){m.scrollTop=h.scrollTop,m.scrollLeft=h.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=this.opt.jsPDF,h=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=h,h)for(var g=0;g<h.length;++g){var p=h[g],P=p.src.find(function(N){return N.format==="truetype"});P&&l.addFont(P.url,p.ref.name,p.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,l.context2d.save(!0),a(this.prop.container,m)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var a=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(l,h){return Math.floor(l*h/72*96)}return this.then(function(){(s=s||ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,l,h){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,l,h){return this.setProgress(s?this.progress.val+s:null,a||null,l?this.progress.n+l:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(s,a){var l=this;return this.thenCore(s,a,function(h,d){return l.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(m){return l.updateProgress(null,h),m}).then(h,d).then(function(m){return l.updateProgress(1),m})})},o.prototype.thenCore=function(s,a,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),d=l.call(h,s,a);return o.convert(d,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(l){a=a.thenCore(l)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ut.getPageSize=function(s,a,l){if($t(s)==="object"){var h=s;s=h.orientation,a=h.unit||a,l=h.format||l}a=a||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var d,m=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var p,P=0,N=0;if(g.hasOwnProperty(m))P=g[m][1]/d,N=g[m][0]/d;else try{P=l[1],N=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",N>P&&(p=N,N=P,P=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",P>N&&(p=N,N=P,P=p)}return{width:N,height:P,unit:a,k:d,orientation:s}},t.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(j0):null;var l=new o(a);return a.worker?l:l.from(s).doCallback()}}(ut.API),ut.API.addJS=function(t){return i_=t,this.internal.events.subscribe("postPutResources",function(){Td=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Td+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Td!==void 0&&r_!==void 0&&this.internal.out("/Names <</JavaScript "+Td+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(o=0;o<h;o++){var m=n.internal.newObject();d.push(m);var g=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<d.length;o++)n.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(ut.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var l,h=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(m){for(var g,p=256*m.charCodeAt(4)+m.charCodeAt(5),P=m.length,N={width:0,height:0,numcomponents:1},L=4;L<P;L+=2){if(L+=p,e.indexOf(m.charCodeAt(L+1))!==-1){g=256*m.charCodeAt(L+5)+m.charCodeAt(L+6),N={width:256*m.charCodeAt(L+7)+m.charCodeAt(L+8),height:g,numcomponents:m.charCodeAt(L+9)};break}p=256*m.charCodeAt(L+2)+m.charCodeAt(L+3)}return N}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:h,index:r,alias:i}}return d}}(ut.API);var Pu,Cd,o_,s_,a_,g7=function(){var t,e,n;function r(o){var s,a,l,h,d,m,g,p,P,N,L,w,y,A;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(s=this.readUInt32(),P=(function(){var F,V;for(V=[],F=0;F<4;++F)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),h=this.readUInt16()||100,m.delay=1e3*d/h,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(P==="fdAT"&&(this.pos+=4,s-=4),o=(m!=null?m.data:void 0)||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((N=l-this.transparency.indexed.length)>0)for(y=0;0<=N?y<N:y>N;0<=N?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(L=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,L.slice(0,g)),this.text[p]=String.fromCharCode.apply(String,L.slice(g+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),l=0,h=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function d(m,g,p,P){var N,L,w,y,A,F,V,z,C,b,T,R,E,S,I,K,ce,ee,J,Q,Y,oe=Math.ceil((h.width-m)/p),ve=Math.ceil((h.height-g)/P),O=h.width==oe&&h.height==ve;for(S=s*oe,R=O?a:new Uint8Array(S*ve),F=o.length,E=0,L=0;E<ve&&l<F;){switch(o[l++]){case 0:for(y=ce=0;ce<S;y=ce+=1)R[L++]=o[l++];break;case 1:for(y=ee=0;ee<S;y=ee+=1)N=o[l++],A=y<s?0:R[L-s],R[L++]=(N+A)%256;break;case 2:for(y=J=0;J<S;y=J+=1)N=o[l++],w=(y-y%s)/s,I=E&&R[(E-1)*S+w*s+y%s],R[L++]=(I+N)%256;break;case 3:for(y=Q=0;Q<S;y=Q+=1)N=o[l++],w=(y-y%s)/s,A=y<s?0:R[L-s],I=E&&R[(E-1)*S+w*s+y%s],R[L++]=(N+Math.floor((A+I)/2))%256;break;case 4:for(y=Y=0;Y<S;y=Y+=1)N=o[l++],w=(y-y%s)/s,A=y<s?0:R[L-s],E===0?I=K=0:(I=R[(E-1)*S+w*s+y%s],K=w&&R[(E-1)*S+(w-1)*s+y%s]),V=A+I-K,z=Math.abs(V-A),b=Math.abs(V-I),T=Math.abs(V-K),C=z<=b&&z<=T?A:b<=T?I:K,R[L++]=(N+C)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!O){var H=((g+E*P)*h.width+m)*s,X=E*S;for(y=0;y<oe;y+=1){for(var ne=0;ne<s;ne+=1)a[H++]=R[X++];H+=(p-1)*s}}E++}}return o=G8(o),h.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var o,s,a,l,h,d,m,g,p;for(a=this.palette,d=this.transparency.indexed||[],h=new Uint8Array((d.length||0)+a.length),l=0,o=0,s=m=0,g=a.length;m<g;s=m+=3)h[l++]=a[s],h[l++]=a[s+1],h[l++]=a[s+2],h[l++]=(p=d[o++])!=null?p:255;return h},r.prototype.copyToImageData=function(o,s){var a,l,h,d,m,g,p,P,N,L,w;if(l=this.colors,N=null,a=this.hasAlphaChannel,this.palette.length&&(N=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),P=(h=o.data||o).length,m=N||s,d=g=0,l===1)for(;d<P;)p=N?4*s[d/4]:g,L=m[p++],h[d++]=L,h[d++]=L,h[d++]=L,h[d++]=a?m[p++]:255,g=p;else for(;d<P;)p=N?4*s[d/4]:g,h[d++]=m[p++],h[d++]=m[p++],h[d++]=m[p++],h[d++]=a?m[p++]:255,g=p},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(ct)==="[object Window]"){try{e=ct.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(o){var s;if(i()===!0)return n.width=o.width,n.height=o.height,n.clearRect(0,0,o.width,o.height),n.putImageData(o,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var s,a,l,h,d,m,g,p;if(this.animation){for(p=[],a=d=0,m=(g=this.animation.frames).length;d<m;a=++d)s=g[a],l=o.createImageData(s.width,s.height),h=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,h),s.imageData=l,p.push(s.image=t(l));return p}},r.prototype.renderFrame=function(o,s){var a,l,h;return a=(l=this.animation.frames)[s],h=l[s-1],s===0&&o.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?o.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&o.putImageData(h.imageData,h.xOffset,h.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(o){var s,a,l,h,d,m,g=this;return a=0,m=this.animation,h=m.numFrames,l=m.frames,d=m.numPlays,(s=function(){var p,P;if(p=a++%h,P=l[p],g.renderFrame(o,p),h>1&&a/h<d)return g.animation._timeout=setTimeout(s,P.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function v7(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var h=!0,d=[],m=0,g=null,p=0,P=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,P=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[e++];m=t[e++]|t[e++]<<8,g=t[e++],!(1&N)&&(g=null),p=N>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var L=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,F=t[e++],V=F>>6&1,z=1<<(7&F)+1,C=a,b=l,T=!1;F>>7&&(T=!0,C=e,b=z,e+=3*z);var R=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}d.push({x:L,y:w,width:y,height:A,has_local_palette:T,palette_offset:C,palette_size:b,data_offset:R,data_length:e-R,transparent_index:g,interlaced:!!V,delay:m,disposal:p});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return P},this.frameInfo=function(S){if(S<0||S>=d.length)throw new Error("Frame index out of range.");return d[S]},this.decodeAndBlitFrameBGRA=function(S,I){var K=this.frameInfo(S),ce=K.width*K.height,ee=new Uint8Array(ce);l_(t,K.data_offset,ee,ce);var J=K.palette_offset,Q=K.transparent_index;Q===null&&(Q=256);var Y=K.width,oe=n-Y,ve=Y,O=4*(K.y*n+K.x),H=4*((K.y+K.height)*n+K.x),X=O,ne=4*oe;K.interlaced===!0&&(ne+=4*n*7);for(var ie=8,pe=0,ye=ee.length;pe<ye;++pe){var we=ee[pe];if(ve===0&&(ve=Y,(X+=ne)>=H&&(ne=4*oe+4*n*(ie-1),X=O+(Y+oe)*(ie<<1),ie>>=1)),we===Q)X+=4;else{var Re=t[J+3*we],ke=t[J+3*we+1],Me=t[J+3*we+2];I[X++]=Me,I[X++]=ke,I[X++]=Re,I[X++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(S,I){var K=this.frameInfo(S),ce=K.width*K.height,ee=new Uint8Array(ce);l_(t,K.data_offset,ee,ce);var J=K.palette_offset,Q=K.transparent_index;Q===null&&(Q=256);var Y=K.width,oe=n-Y,ve=Y,O=4*(K.y*n+K.x),H=4*((K.y+K.height)*n+K.x),X=O,ne=4*oe;K.interlaced===!0&&(ne+=4*n*7);for(var ie=8,pe=0,ye=ee.length;pe<ye;++pe){var we=ee[pe];if(ve===0&&(ve=Y,(X+=ne)>=H&&(ne=4*oe+4*n*(ie-1),X=O+(Y+oe)*(ie<<1),ie>>=1)),we===Q)X+=4;else{var Re=t[J+3*we],ke=t[J+3*we+1],Me=t[J+3*we+2];I[X++]=Re,I[X++]=ke,I[X++]=Me,I[X++]=255}--ve}}}function l_(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,l=i+1,h=(1<<l)-1,d=0,m=0,g=0,p=t[e++],P=new Int32Array(4096),N=null;;){for(;d<16&&p!==0;)m|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<l)break;var L=m&h;if(m>>=l,d-=l,L!==o){if(L===s)break;for(var w=L<a?L:N,y=0,A=w;A>o;)A=P[A]>>8,++y;var F=A;if(g+y+(w!==L?1:0)>r)return void Qt.log("Warning, gif stream longer than expected.");n[g++]=F;var V=g+=y;for(w!==L&&(n[g++]=F),A=w;y--;)A=P[A],n[--V]=255&A,A>>=8;N!==null&&a<4096&&(P[a++]=N<<8|F,a>=h+1&&l<12&&(++l,h=h<<1|1)),N=L}else a=s+1,h=(1<<(l=i+1))-1,N=null}return g!==r&&Qt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Zg(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),h=new Array(64),d=new Array(64),m=new Array(65535),g=new Array(65535),p=new Array(64),P=new Array(64),N=[],L=0,w=7,y=new Array(64),A=new Array(64),F=new Array(64),V=new Array(256),z=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],b=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(O,H){for(var X=0,ne=0,ie=new Array,pe=1;pe<=16;pe++){for(var ye=1;ye<=O[pe];ye++)ie[H[ne]]=[],ie[H[ne]][0]=X,ie[H[ne]][1]=pe,ne++,X++;X*=2}return ie}function J(O){for(var H=O[0],X=O[1]-1;X>=0;)H&1<<X&&(L|=1<<w),X--,--w<0&&(L==255?(Q(255),Q(0)):Q(L),w=7,L=0)}function Q(O){N.push(O)}function Y(O){Q(O>>8&255),Q(255&O)}function oe(O,H,X,ne,ie){for(var pe,ye=ie[0],we=ie[240],Re=function(Ce,Fe){var Be,Ue,tt,st,ht,Ze,rt,St,nt,pt,He=0;for(nt=0;nt<8;++nt){Be=Ce[He],Ue=Ce[He+1],tt=Ce[He+2],st=Ce[He+3],ht=Ce[He+4],Ze=Ce[He+5],rt=Ce[He+6];var gn=Be+(St=Ce[He+7]),Tt=Be-St,Ur=Ue+rt,Ft=Ue-rt,Yt=tt+Ze,Pi=tt-Ze,Nt=st+ht,wo=st-ht,tn=gn+Nt,nr=gn-Nt,si=Ur+Yt,Xt=Ur-Yt;Ce[He]=tn+si,Ce[He+4]=tn-si;var at=.707106781*(Xt+nr);Ce[He+2]=nr+at,Ce[He+6]=nr-at;var Lt=.382683433*((tn=wo+Pi)-(Xt=Ft+Tt)),Ti=.5411961*tn+Lt,Dn=1.306562965*Xt+Lt,dr=.707106781*(si=Pi+Ft),ai=Tt+dr,Qe=Tt-dr;Ce[He+5]=Qe+Ti,Ce[He+3]=Qe-Ti,Ce[He+1]=ai+Dn,Ce[He+7]=ai-Dn,He+=8}for(He=0,nt=0;nt<8;++nt){Be=Ce[He],Ue=Ce[He+8],tt=Ce[He+16],st=Ce[He+24],ht=Ce[He+32],Ze=Ce[He+40],rt=Ce[He+48];var zr=Be+(St=Ce[He+56]),pr=Be-St,Fn=Ue+rt,xn=Ue-rt,vn=tt+Ze,On=tt-Ze,Ls=st+ht,Wi=st-ht,mr=zr+Ls,qr=zr-Ls,Ir=Fn+vn,kr=Fn-vn;Ce[He]=mr+Ir,Ce[He+32]=mr-Ir;var En=.707106781*(kr+qr);Ce[He+16]=qr+En,Ce[He+48]=qr-En;var li=.382683433*((mr=Wi+On)-(kr=xn+pr)),_o=.5411961*mr+li,bo=1.306562965*kr+li,So=.707106781*(Ir=On+xn),Qo=pr+So,Yo=pr-So;Ce[He+40]=Yo+_o,Ce[He+24]=Yo-_o,Ce[He+8]=Qo+bo,Ce[He+56]=Qo-bo,He++}for(nt=0;nt<64;++nt)pt=Ce[nt]*Fe[nt],p[nt]=pt>0?pt+.5|0:pt-.5|0;return p}(O,H),ke=0;ke<64;++ke)P[C[ke]]=Re[ke];var Me=P[0]-X;X=P[0],Me==0?J(ne[0]):(J(ne[g[pe=32767+Me]]),J(m[pe]));for(var Ve=63;Ve>0&&P[Ve]==0;)Ve--;if(Ve==0)return J(ye),X;for(var it,fe=1;fe<=Ve;){for(var Z=fe;P[fe]==0&&fe<=Ve;)++fe;var Je=fe-Z;if(Je>=16){it=Je>>4;for(var ze=1;ze<=it;++ze)J(we);Je&=15}pe=32767+P[fe],J(ie[(Je<<4)+g[pe]]),J(m[pe]),fe++}return Ve!=63&&J(ye),X}function ve(O){O=Math.min(Math.max(O,1),100),o!=O&&(function(H){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ie=s((X[ne]*H+50)/100);ie=Math.min(Math.max(ie,1),255),a[C[ne]]=ie}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var we=s((pe[ye]*H+50)/100);we=Math.min(Math.max(we,1),255),l[C[ye]]=we}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Me=0;Me<8;Me++)for(var Ve=0;Ve<8;Ve++)h[ke]=1/(a[C[ke]]*Re[Me]*Re[Ve]*8),d[ke]=1/(l[C[ke]]*Re[Me]*Re[Ve]*8),ke++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,H){H&&ve(H),N=new Array,L=0,w=7,Y(65496),Y(65504),Y(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),Y(1),Y(1),Q(0),Q(0),function(){Y(65499),Y(132),Q(0);for(var Ue=0;Ue<64;Ue++)Q(a[Ue]);Q(1);for(var tt=0;tt<64;tt++)Q(l[tt])}(),function(Ue,tt){Y(65472),Y(17),Q(8),Y(tt),Y(Ue),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(O.width,O.height),function(){Y(65476),Y(418),Q(0);for(var Ue=0;Ue<16;Ue++)Q(b[Ue+1]);for(var tt=0;tt<=11;tt++)Q(T[tt]);Q(16);for(var st=0;st<16;st++)Q(R[st+1]);for(var ht=0;ht<=161;ht++)Q(E[ht]);Q(1);for(var Ze=0;Ze<16;Ze++)Q(S[Ze+1]);for(var rt=0;rt<=11;rt++)Q(I[rt]);Q(17);for(var St=0;St<16;St++)Q(K[St+1]);for(var nt=0;nt<=161;nt++)Q(ce[nt])}(),Y(65498),Y(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var X=0,ne=0,ie=0;L=0,w=7,this.encode.displayName="_encode_";for(var pe,ye,we,Re,ke,Me,Ve,it,fe,Z=O.data,Je=O.width,ze=O.height,Ce=4*Je,Fe=0;Fe<ze;){for(pe=0;pe<Ce;){for(ke=Ce*Fe+pe,Ve=-1,it=0,fe=0;fe<64;fe++)Me=ke+(it=fe>>3)*Ce+(Ve=4*(7&fe)),Fe+it>=ze&&(Me-=Ce*(Fe+1+it-ze)),pe+Ve>=Ce&&(Me-=pe+Ve-Ce+4),ye=Z[Me++],we=Z[Me++],Re=Z[Me++],y[fe]=(z[ye]+z[we+256>>0]+z[Re+512>>0]>>16)-128,A[fe]=(z[ye+768>>0]+z[we+1024>>0]+z[Re+1280>>0]>>16)-128,F[fe]=(z[ye+1280>>0]+z[we+1536>>0]+z[Re+1792>>0]>>16)-128;X=oe(y,h,X,e,r),ne=oe(A,d,ne,n,i),ie=oe(F,d,ie,n,i),pe+=32}Fe+=8}if(w>=0){var Be=[];Be[1]=w+1,Be[0]=(1<<w+1)-1,J(Be)}return Y(65497),new Uint8Array(N)},t=t||50,function(){for(var O=String.fromCharCode,H=0;H<256;H++)V[H]=O(H)}(),e=ee(b,T),n=ee(S,I),r=ee(R,E),i=ee(K,ce),function(){for(var O=1,H=2,X=1;X<=15;X++){for(var ne=O;ne<H;ne++)g[32767+ne]=X,m[32767+ne]=[],m[32767+ne][1]=X,m[32767+ne][0]=ne;for(var ie=-(H-1);ie<=-O;ie++)g[32767+ie]=X,m[32767+ie]=[],m[32767+ie][1]=X,m[32767+ie][0]=H-1+ie;O<<=1,H<<=1}}(),function(){for(var O=0;O<256;O++)z[O]=19595*O,z[O+256>>0]=38470*O,z[O+512>>0]=7471*O+32768,z[O+768>>0]=-11059*O,z[O+1024>>0]=-21709*O,z[O+1280>>0]=32768*O+8421375,z[O+1536>>0]=-27439*O,z[O+1792>>0]=-5329*O}(),ve(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function oo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function u_(t){function e(b){if(!b)throw Error("assert :P")}function n(b,T,R){for(var E=0;4>E;E++)if(b[T+E]!=R.charCodeAt(E))return!0;return!1}function r(b,T,R,E,S){for(var I=0;I<S;I++)b[T+I]=R[E+I]}function i(b,T,R,E){for(var S=0;S<E;S++)b[T+S]=R}function o(b){return new Int32Array(b)}function s(b,T){for(var R=[],E=0;E<b;E++)R.push(new T);return R}function a(b,T){var R=[];return function E(S,I,K){for(var ce=K[I],ee=0;ee<ce&&(S.push(K.length>I+1?[]:new T),!(K.length<I+1));ee++)E(S[ee],I+1,K)}(R,0,b),R}var l=function(){var b=this;function T(u,f){for(var _=1<<f-1>>>0;u&_;)_>>>=1;return _?(u&_-1)+_:u}function R(u,f,_,k,M){e(!(k%_));do u[f+(k-=_)]=M;while(0<k)}function E(u,f,_,k,M){if(e(2328>=M),512>=M)var B=o(512);else if((B=o(M))==null)return 0;return function(U,$,G,te,ae,_e){var be,ge,Te=$,Ae=1<<G,le=o(16),he=o(16);for(e(ae!=0),e(te!=null),e(U!=null),e(0<G),ge=0;ge<ae;++ge){if(15<te[ge])return 0;++le[te[ge]]}if(le[0]==ae)return 0;for(he[1]=0,be=1;15>be;++be){if(le[be]>1<<be)return 0;he[be+1]=he[be]+le[be]}for(ge=0;ge<ae;++ge)be=te[ge],0<te[ge]&&(_e[he[be]++]=ge);if(he[15]==1)return(te=new S).g=0,te.value=_e[0],R(U,Te,1,Ae,te),Ae;var Ee,Le=-1,Pe=Ae-1,Ge=0,qe=1,lt=1,We=1<<G;for(ge=0,be=1,ae=2;be<=G;++be,ae<<=1){if(qe+=lt<<=1,0>(lt-=le[be]))return 0;for(;0<le[be];--le[be])(te=new S).g=be,te.value=_e[ge++],R(U,Te+Ge,ae,We,te),Ge=T(Ge,be)}for(be=G+1,ae=2;15>=be;++be,ae<<=1){if(qe+=lt<<=1,0>(lt-=le[be]))return 0;for(;0<le[be];--le[be]){if(te=new S,(Ge&Pe)!=Le){for(Te+=We,Ee=1<<(Le=be)-G;15>Le&&!(0>=(Ee-=le[Le]));)++Le,Ee<<=1;Ae+=We=1<<(Ee=Le-G),U[$+(Le=Ge&Pe)].g=Ee+G,U[$+Le].value=Te-$-Le}te.g=be-G,te.value=_e[ge++],R(U,Te+(Ge>>G),ae,We,te),Ge=T(Ge,be)}}return qe!=2*he[15]-1?0:Ae}(u,f,_,k,M,B)}function S(){this.value=this.g=0}function I(){this.value=this.g=0}function K(){this.G=s(5,S),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(or,I)}function ce(u,f,_,k){e(u!=null),e(f!=null),e(2147483648>k),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=_,u.Jd=f,u.Yc=_+k,u.Zc=4<=k?_+k-4+1:_,pe(u)}function ee(u,f){for(var _=0;0<f--;)_|=we(u,128)<<f;return _}function J(u,f){var _=ee(u,f);return ye(u)?-_:_}function Q(u,f,_,k){var M,B=0;for(e(u!=null),e(f!=null),e(4294967288>k),u.Sb=k,u.Ra=0,u.u=0,u.h=0,4<k&&(k=4),M=0;M<k;++M)B+=f[_+M]<<8*M;u.Ra=B,u.bb=k,u.oa=f,u.pa=_}function Y(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<fu-8>>>0,++u.bb,u.u-=8;X(u)&&(u.h=1,u.u=0)}function oe(u,f){if(e(0<=f),!u.h&&f<=hu){var _=H(u)&cu[f];return u.u+=f,Y(u),_}return u.h=1,u.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(u){return u.Ra>>>(u.u&fu-1)>>>0}function X(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>fu}function ne(u,f){u.u=f,u.h=X(u)}function ie(u){u.u>=jc&&(e(u.u>=jc),Y(u))}function pe(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ye(u){return ee(u,1)}function we(u,f){var _=u.Ca;0>u.b&&pe(u);var k=u.b,M=_*f>>>8,B=(u.I>>>k>M)+0;for(B?(_-=M,u.I-=M+1<<k>>>0):_=M+1,k=_,M=0;256<=k;)M+=8,k>>=8;return k=7^M+Hr[k],u.b-=k,u.Ca=(_<<k)-1,B}function Re(u,f,_){u[f+0]=_>>24&255,u[f+1]=_>>16&255,u[f+2]=_>>8&255,u[f+3]=_>>0&255}function ke(u,f){return u[f+0]<<0|u[f+1]<<8}function Me(u,f){return ke(u,f)|u[f+2]<<16}function Ve(u,f){return ke(u,f)|ke(u,f+2)<<16}function it(u,f){var _=1<<f;return e(u!=null),e(0<f),u.X=o(_),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function fe(u,f){e(u!=null),e(f!=null),e(u.Xa==f.Xa),r(f.X,0,u.X,0,1<<f.Xa)}function Z(){this.X=[],this.Xa=this.Mb=0}function Je(u,f,_,k){e(_!=null),e(k!=null);var M=_[0],B=k[0];return M==0&&(M=(u*B+f/2)/f),B==0&&(B=(f*M+u/2)/u),0>=M||0>=B?0:(_[0]=M,k[0]=B,1)}function ze(u,f){return u+(1<<f)-1>>>f}function Ce(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function Fe(u,f){b[f]=function(_,k,M,B,U,$,G){var te;for(te=0;te<U;++te){var ae=b[u]($[G+te-1],M,B+te);$[G+te]=Ce(_[k+te],ae)}}}function Be(){this.ud=this.hd=this.jd=0}function Ue(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function tt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function st(u,f){return tt(u+(u-f+.5>>1))}function ht(u,f,_){return Math.abs(f-_)-Math.abs(u-_)}function Ze(u,f,_,k,M,B,U){for(k=B[U-1],_=0;_<M;++_)B[U+_]=k=Ce(u[f+_],k)}function rt(u,f,_,k,M){var B;for(B=0;B<_;++B){var U=u[f+B],$=U>>8&255,G=16711935&(G=(G=16711935&U)+(($<<16)+$));k[M+B]=(4278255360&U)+G>>>0}}function St(u,f){f.jd=u>>0&255,f.hd=u>>8&255,f.ud=u>>16&255}function nt(u,f,_,k,M,B){var U;for(U=0;U<k;++U){var $=f[_+U],G=$>>>8,te=$,ae=255&(ae=(ae=$>>>16)+((u.jd<<24>>24)*(G<<24>>24)>>>5));te=255&(te=(te=te+((u.hd<<24>>24)*(G<<24>>24)>>>5))+((u.ud<<24>>24)*(ae<<24>>24)>>>5)),M[B+U]=(4278255360&$)+(ae<<16)+te}}function pt(u,f,_,k,M){b[f]=function(B,U,$,G,te,ae,_e,be,ge){for(G=_e;G<be;++G)for(_e=0;_e<ge;++_e)te[ae++]=M($[k(B[U++])])},b[u]=function(B,U,$,G,te,ae,_e){var be=8>>B.b,ge=B.Ea,Te=B.K[0],Ae=B.w;if(8>be)for(B=(1<<B.b)-1,Ae=(1<<be)-1;U<$;++U){var le,he=0;for(le=0;le<ge;++le)le&B||(he=k(G[te++])),ae[_e++]=M(Te[he&Ae]),he>>=be}else b["VP8LMapColor"+_](G,te,Te,Ae,ae,_e,U,$,ge)}}function He(u,f,_,k,M){for(_=f+_;f<_;){var B=u[f++];k[M++]=B>>16&255,k[M++]=B>>8&255,k[M++]=B>>0&255}}function gn(u,f,_,k,M){for(_=f+_;f<_;){var B=u[f++];k[M++]=B>>16&255,k[M++]=B>>8&255,k[M++]=B>>0&255,k[M++]=B>>24&255}}function Tt(u,f,_,k,M){for(_=f+_;f<_;){var B=(U=u[f++])>>16&240|U>>12&15,U=U>>0&240|U>>28&15;k[M++]=B,k[M++]=U}}function Ur(u,f,_,k,M){for(_=f+_;f<_;){var B=(U=u[f++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;k[M++]=B,k[M++]=U}}function Ft(u,f,_,k,M){for(_=f+_;f<_;){var B=u[f++];k[M++]=B>>0&255,k[M++]=B>>8&255,k[M++]=B>>16&255}}function Yt(u,f,_,k,M,B){if(B==0)for(_=f+_;f<_;)Re(k,((B=u[f++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),M+=32;else r(k,M,u,f,_)}function Pi(u,f){b[f][0]=b[u+"0"],b[f][1]=b[u+"1"],b[f][2]=b[u+"2"],b[f][3]=b[u+"3"],b[f][4]=b[u+"4"],b[f][5]=b[u+"5"],b[f][6]=b[u+"6"],b[f][7]=b[u+"7"],b[f][8]=b[u+"8"],b[f][9]=b[u+"9"],b[f][10]=b[u+"10"],b[f][11]=b[u+"11"],b[f][12]=b[u+"12"],b[f][13]=b[u+"13"],b[f][14]=b[u+"0"],b[f][15]=b[u+"0"]}function Nt(u){return u==Bm||u==Um||u==Mf||u==zm}function wo(){this.eb=[],this.size=this.A=this.fb=0}function tn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function nr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wo,this.f.kb=new tn,this.sd=null}function si(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function at(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Lt(u,f){var _=u.T,k=f.ba.f.RGBA,M=k.eb,B=k.fb+u.ka*k.A,U=Di[f.ba.S],$=u.y,G=u.O,te=u.f,ae=u.N,_e=u.ea,be=u.W,ge=f.cc,Te=f.dc,Ae=f.Mc,le=f.Nc,he=u.ka,Ee=u.ka+u.T,Le=u.U,Pe=Le+1>>1;for(he==0?U($,G,null,null,te,ae,_e,be,te,ae,_e,be,M,B,null,null,Le):(U(f.ec,f.fc,$,G,ge,Te,Ae,le,te,ae,_e,be,M,B-k.A,M,B,Le),++_);he+2<Ee;he+=2)ge=te,Te=ae,Ae=_e,le=be,ae+=u.Rc,be+=u.Rc,B+=2*k.A,U($,(G+=2*u.fa)-u.fa,$,G,ge,Te,Ae,le,te,ae,_e,be,M,B-k.A,M,B,Le);return G+=u.fa,u.j+Ee<u.o?(r(f.ec,f.fc,$,G,Le),r(f.cc,f.dc,te,ae,Pe),r(f.Mc,f.Nc,_e,be,Pe),_--):1&Ee||U($,G,null,null,te,ae,_e,be,te,ae,_e,be,M,B+k.A,null,null,Le),_}function Ti(u,f,_){var k=u.F,M=[u.J];if(k!=null){var B=u.U,U=f.ba.S,$=U==jf||U==Mf;f=f.ba.f.RGBA;var G=[0],te=u.ka;G[0]=u.T,u.Kb&&(te==0?--G[0]:(--te,M[0]-=u.width),u.j+u.ka+u.T==u.o&&(G[0]=u.o-u.j-te));var ae=f.eb;te=f.fb+te*f.A,u=Zt(k,M[0],u.width,B,G,ae,te+($?0:3),f.A),e(_==G),u&&Nt(U)&&Li(ae,te,$,B,G,f.A)}return 0}function Dn(u){var f=u.ma,_=f.ba.S,k=11>_,M=_==Ff||_==Of||_==jf||_==Vm||_==12||Nt(_);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Fc(f.Oa,u,M?11:12))return 0;if(M&&Nt(_)&&De(),u.da)alert("todo:use_scaling");else{if(k){if(f.Ib=at,u.Kb){if(_=u.U+1>>1,f.memory=o(u.U+2*_),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+_,f.Ib=Lt,De()}}else alert("todo:EmitYUV");M&&(f.Jb=Ti,k&&me())}if(k&&!Hv){for(u=0;256>u;++u)rx[u]=89858*(u-128)+Bf>>Vf,sx[u]=-22014*(u-128)+Bf,ox[u]=-45773*(u-128),ix[u]=113618*(u-128)+Bf>>Vf;for(u=$c;u<Hm;++u)f=76283*(u-16)+Bf>>Vf,ax[u-$c]=Mt(f,255),lx[u-$c]=Mt(f+8>>4,15);Hv=1}return 1}function dr(u){var f=u.ma,_=u.U,k=u.T;return e(!(1&u.ka)),0>=_||0>=k?0:(_=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,_),f.Dc+=_,1)}function ai(u){u.ma.memory=null}function Qe(u,f,_,k){return oe(u,8)!=47?0:(f[0]=oe(u,14)+1,_[0]=oe(u,14)+1,k[0]=oe(u,1),oe(u,3)!=0?0:!u.h)}function zr(u,f){if(4>u)return u+1;var _=u-2>>1;return(2+(1&u)<<_)+oe(f,_)+1}function pr(u,f){return 120<f?f-120:1<=(_=((_=qA[f-1])>>4)*u+(8-(15&_)))?_:1;var _}function Fn(u,f,_){var k=H(_),M=u[f+=255&k].g-8;return 0<M&&(ne(_,_.u+8),k=H(_),f+=u[f].value,f+=k&(1<<M)-1),ne(_,_.u+u[f].g),u[f].value}function xn(u,f,_){return _.g+=u.g,_.value+=u.value<<f>>>0,e(8>=_.g),u.g}function vn(u,f,_){var k=u.xc;return e((f=k==0?0:u.vc[u.md*(_>>k)+(f>>k)])<u.Wb),u.Ya[f]}function On(u,f,_,k){var M=u.ab,B=u.c*f,U=u.C;f=U+f;var $=_,G=k;for(k=u.Ta,_=u.Ua;0<M--;){var te=u.gc[M],ae=U,_e=f,be=$,ge=G,Te=(G=k,$=_,te.Ea);switch(e(ae<_e),e(_e<=te.nc),te.hc){case 2:Cf(be,ge,(_e-ae)*Te,G,$);break;case 0:var Ae=ae,le=_e,he=G,Ee=$,Le=(We=te).Ea;Ae==0&&(jm(be,ge,null,null,1,he,Ee),Ze(be,ge+1,0,0,Le-1,he,Ee+1),ge+=Le,Ee+=Le,++Ae);for(var Pe=1<<We.b,Ge=Pe-1,qe=ze(Le,We.b),lt=We.K,We=We.w+(Ae>>We.b)*qe;Ae<le;){var Ot=lt,zt=We,Rt=1;for(Mc(be,ge,he,Ee-Le,1,he,Ee);Rt<Le;){var Et=(Rt&~Ge)+Pe;Et>Le&&(Et=Le),(0,Ys[Ot[zt++]>>8&15])(be,ge+ +Rt,he,Ee+Rt-Le,Et-Rt,he,Ee+Rt),Rt=Et}ge+=Le,Ee+=Le,++Ae&Ge||(We+=qe)}_e!=te.nc&&r(G,$-Te,G,$+(_e-ae-1)*Te,Te);break;case 1:for(Te=be,le=ge,Le=(be=te.Ea)-(Ee=be&~(he=(ge=1<<te.b)-1)),Ae=ze(be,te.b),Pe=te.K,te=te.w+(ae>>te.b)*Ae;ae<_e;){for(Ge=Pe,qe=te,lt=new Be,We=le+Ee,Ot=le+be;le<We;)St(Ge[qe++],lt),cl(lt,Te,le,ge,G,$),le+=ge,$+=ge;le<Ot&&(St(Ge[qe++],lt),cl(lt,Te,le,Le,G,$),le+=Le,$+=Le),++ae&he||(te+=Ae)}break;case 3:if(be==G&&ge==$&&0<te.b){for(le=G,be=Te=$+(_e-ae)*Te-(Ee=(_e-ae)*ze(te.Ea,te.b)),ge=G,he=$,Ae=[],Ee=(Le=Ee)-1;0<=Ee;--Ee)Ae[Ee]=ge[he+Ee];for(Ee=Le-1;0<=Ee;--Ee)le[be+Ee]=Ae[Ee];Ni(te,ae,_e,G,Te,G,$)}else Ni(te,ae,_e,be,ge,G,$)}$=k,G=_}G!=_&&r(k,_,$,G,B)}function Ls(u,f){var _=u.V,k=u.Ba+u.c*u.C,M=f-u.C;if(e(f<=u.l.o),e(16>=M),0<M){var B=u.l,U=u.Ta,$=u.Ua,G=B.width;if(On(u,M,_,k),M=$=[$],e((_=u.C)<(k=f)),e(B.v<B.va),k>B.o&&(k=B.o),_<B.j){var te=B.j-_;_=B.j,M[0]+=te*G}if(_>=k?_=0:(M[0]+=4*B.v,B.ka=_-B.j,B.U=B.va-B.v,B.T=k-_,_=1),_){if($=$[0],11>(_=u.ca).S){var ae=_.f.RGBA,_e=(k=_.S,M=B.U,B=B.T,te=ae.eb,ae.A),be=B;for(ae=ae.fb+u.Ma*ae.A;0<be--;){var ge=U,Te=$,Ae=M,le=te,he=ae;switch(k){case Df:Wr(ge,Te,Ae,le,he);break;case Ff:Rr(ge,Te,Ae,le,he);break;case Bm:Rr(ge,Te,Ae,le,he),Li(le,he,0,Ae,1,0);break;case Fv:as(ge,Te,Ae,le,he);break;case Of:Yt(ge,Te,Ae,le,he,1);break;case Um:Yt(ge,Te,Ae,le,he,1),Li(le,he,0,Ae,1,0);break;case jf:Yt(ge,Te,Ae,le,he,0);break;case Mf:Yt(ge,Te,Ae,le,he,0),Li(le,he,1,Ae,1,0);break;case Vm:Xs(ge,Te,Ae,le,he);break;case zm:Xs(ge,Te,Ae,le,he),Jt(le,he,Ae,1,0);break;case Ov:ss(ge,Te,Ae,le,he);break;default:e(0)}$+=G,ae+=_e}u.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=_.height)}}u.C=f,e(u.C<=u.i)}function Wi(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var _=u.Ya[f].G,k=u.Ya[f].H;if(0<_[1][k[1]+0].g||0<_[2][k[2]+0].g||0<_[3][k[3]+0].g)return 0}return 1}function mr(u,f,_,k,M,B){if(u.Z!=0){var U=u.qd,$=u.rd;for(e(ta[u.Z]!=null);f<_;++f)ta[u.Z](U,$,k,M,k,M,B),U=k,$=M,M+=B;u.qd=U,u.rd=$}}function qr(u,f){var _=u.l.ma,k=_.Z==0||_.Z==1?u.l.j:u.C;if(k=u.C<k?k:u.C,e(f<=u.l.o),f>k){var M=u.l.width,B=_.ca,U=_.tb+M*k,$=u.V,G=u.Ba+u.c*k,te=u.gc;e(u.ab==1),e(te[0].hc==3),Nf(te[0],k,f,$,G,B,U),mr(_,k,f,B,U,M)}u.C=u.Ma=f}function Ir(u,f,_,k,M,B,U){var $=u.$/k,G=u.$%k,te=u.m,ae=u.s,_e=_+u.$,be=_e;M=_+k*M;var ge=_+k*B,Te=280+ae.ua,Ae=u.Pb?$:16777216,le=0<ae.ua?ae.Wa:null,he=ae.wc,Ee=_e<ge?vn(ae,G,$):null;e(u.C<B),e(ge<=M);var Le=!1;e:for(;;){for(;Le||_e<ge;){var Pe=0;if($>=Ae){var Ge=_e-_;e((Ae=u).Pb),Ae.wd=Ae.m,Ae.xd=Ge,0<Ae.s.ua&&fe(Ae.s.Wa,Ae.s.vb),Ae=$+HA}if(G&he||(Ee=vn(ae,G,$)),e(Ee!=null),Ee.Qb&&(f[_e]=Ee.qb,Le=!0),!Le)if(ie(te),Ee.jc){Pe=te,Ge=f;var qe=_e,lt=Ee.pd[H(Pe)&or-1];e(Ee.jc),256>lt.g?(ne(Pe,Pe.u+lt.g),Ge[qe]=lt.value,Pe=0):(ne(Pe,Pe.u+lt.g-256),e(256<=lt.value),Pe=lt.value),Pe==0&&(Le=!0)}else Pe=Fn(Ee.G[0],Ee.H[0],te);if(te.h)break;if(Le||256>Pe){if(!Le)if(Ee.nd)f[_e]=(Ee.qb|Pe<<8)>>>0;else{if(ie(te),Le=Fn(Ee.G[1],Ee.H[1],te),ie(te),Ge=Fn(Ee.G[2],Ee.H[2],te),qe=Fn(Ee.G[3],Ee.H[3],te),te.h)break;f[_e]=(qe<<24|Le<<16|Pe<<8|Ge)>>>0}if(Le=!1,++_e,++G>=k&&(G=0,++$,U!=null&&$<=B&&!($%16)&&U(u,$),le!=null))for(;be<_e;)Pe=f[be++],le.X[(506832829*Pe&4294967295)>>>le.Mb]=Pe}else if(280>Pe){if(Pe=zr(Pe-256,te),Ge=Fn(Ee.G[4],Ee.H[4],te),ie(te),Ge=pr(k,Ge=zr(Ge,te)),te.h)break;if(_e-_<Ge||M-_e<Pe)break e;for(qe=0;qe<Pe;++qe)f[_e+qe]=f[_e+qe-Ge];for(_e+=Pe,G+=Pe;G>=k;)G-=k,++$,U!=null&&$<=B&&!($%16)&&U(u,$);if(e(_e<=M),G&he&&(Ee=vn(ae,G,$)),le!=null)for(;be<_e;)Pe=f[be++],le.X[(506832829*Pe&4294967295)>>>le.Mb]=Pe}else{if(!(Pe<Te))break e;for(Le=Pe-280,e(le!=null);be<_e;)Pe=f[be++],le.X[(506832829*Pe&4294967295)>>>le.Mb]=Pe;Pe=_e,e(!(Le>>>(Ge=le).Xa)),f[Pe]=Ge.X[Le],Le=!0}Le||e(te.h==X(te))}if(u.Pb&&te.h&&_e<M)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&fe(u.s.vb,u.s.Wa);else{if(te.h)break e;U!=null&&U(u,$>B?B:$),u.a=0,u.$=_e-_}return 1}return u.a=3,0}function kr(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,e(u!=null)}function En(){var u=new lu;return u==null?null:(u.a=0,u.xb=Vv,Pi("Predictor","VP8LPredictors"),Pi("Predictor","VP8LPredictors_C"),Pi("PredictorAdd","VP8LPredictorsAdd"),Pi("PredictorAdd","VP8LPredictorsAdd_C"),Cf=rt,cl=nt,Wr=He,Rr=gn,Xs=Tt,ss=Ur,as=Ft,b.VP8LMapColor32b=du,b.VP8LMapColor8b=If,u)}function li(u,f,_,k,M){var B=1,U=[u],$=[f],G=k.m,te=k.s,ae=null,_e=0;e:for(;;){if(_)for(;B&&oe(G,1);){var be=U,ge=$,Te=k,Ae=1,le=Te.m,he=Te.gc[Te.ab],Ee=oe(le,2);if(Te.Oc&1<<Ee)B=0;else{switch(Te.Oc|=1<<Ee,he.hc=Ee,he.Ea=be[0],he.nc=ge[0],he.K=[null],++Te.ab,e(4>=Te.ab),Ee){case 0:case 1:he.b=oe(le,3)+2,Ae=li(ze(he.Ea,he.b),ze(he.nc,he.b),0,Te,he.K),he.K=he.K[0];break;case 3:var Le,Pe=oe(le,8)+1,Ge=16<Pe?0:4<Pe?1:2<Pe?2:3;if(be[0]=ze(he.Ea,Ge),he.b=Ge,Le=Ae=li(Pe,1,0,Te,he.K)){var qe,lt=Pe,We=he,Ot=1<<(8>>We.b),zt=o(Ot);if(zt==null)Le=0;else{var Rt=We.K[0],Et=We.w;for(zt[0]=We.K[0][0],qe=1;qe<1*lt;++qe)zt[qe]=Ce(Rt[Et+qe],zt[qe-1]);for(;qe<4*Ot;++qe)zt[qe]=0;We.K[0]=null,We.K[0]=zt,Le=1}}Ae=Le;break;case 2:break;default:e(0)}B=Ae}}if(U=U[0],$=$[0],B&&oe(G,1)&&!(B=1<=(_e=oe(G,4))&&11>=_e)){k.a=3;break e}var Kt;if(Kt=B)t:{var Wt,_t,jn,Gr=k,Mn=U,Kr=$,qt=_e,di=_,pi=Gr.m,Yn=Gr.s,sr=[null],Fr=1,Fi=0,Lo=$A[qt];n:for(;;){if(di&&oe(pi,1)){var Xn=oe(pi,3)+2,hs=ze(Mn,Xn),ml=ze(Kr,Xn),yu=hs*ml;if(!li(hs,ml,0,Gr,sr))break n;for(sr=sr[0],Yn.xc=Xn,Wt=0;Wt<yu;++Wt){var na=sr[Wt]>>8&65535;sr[Wt]=na,na>=Fr&&(Fr=na+1)}}if(pi.h)break n;for(_t=0;5>_t;++_t){var wn=jv[_t];!_t&&0<qt&&(wn+=1<<qt),Fi<wn&&(Fi=wn)}var Wm=s(Fr*Lo,S),Kv=Fr,Qv=s(Kv,K);if(Qv==null)var zf=null;else e(65536>=Kv),zf=Qv;var Hc=o(Fi);if(zf==null||Hc==null||Wm==null){Gr.a=1;break n}var qf=Wm;for(Wt=jn=0;Wt<Fr;++Wt){var no=zf[Wt],wu=no.G,_u=no.H,Yv=0,$f=1,Xv=0;for(_t=0;5>_t;++_t){wn=jv[_t],wu[_t]=qf,_u[_t]=jn,!_t&&0<qt&&(wn+=1<<qt);i:{var Hf,Gm=wn,Wf=Gr,Wc=Hc,hx=qf,fx=jn,Km=0,ra=Wf.m,dx=oe(ra,1);if(i(Wc,0,0,Gm),dx){var px=oe(ra,1)+1,mx=oe(ra,1),Jv=oe(ra,mx==0?1:8);Wc[Jv]=1,px==2&&(Wc[Jv=oe(ra,8)]=1);var Gf=1}else{var Zv=o(19),ey=oe(ra,4)+4;if(19<ey){Wf.a=3;var Kf=0;break i}for(Hf=0;Hf<ey;++Hf)Zv[zA[Hf]]=oe(ra,3);var Qm=void 0,Gc=void 0,ty=Wf,gx=Zv,Qf=Gm,ny=Wc,Ym=0,ia=ty.m,ry=8,iy=s(128,S);r:for(;E(iy,0,7,gx,19);){if(oe(ia,1)){var vx=2+2*oe(ia,3);if((Qm=2+oe(ia,vx))>Qf)break r}else Qm=Qf;for(Gc=0;Gc<Qf&&Qm--;){ie(ia);var oy=iy[0+(127&H(ia))];ne(ia,ia.u+oy.g);var bu=oy.value;if(16>bu)ny[Gc++]=bu,bu!=0&&(ry=bu);else{var yx=bu==16,sy=bu-16,wx=BA[sy],ay=oe(ia,VA[sy])+wx;if(Gc+ay>Qf)break r;for(var _x=yx?ry:0;0<ay--;)ny[Gc++]=_x}}Ym=1;break r}Ym||(ty.a=3),Gf=Ym}(Gf=Gf&&!ra.h)&&(Km=E(hx,fx,8,Wc,Gm)),Gf&&Km!=0?Kf=Km:(Wf.a=3,Kf=0)}if(Kf==0)break n;if($f&&UA[_t]==1&&($f=qf[jn].g==0),Yv+=qf[jn].g,jn+=Kf,3>=_t){var Kc,Xm=Hc[0];for(Kc=1;Kc<wn;++Kc)Hc[Kc]>Xm&&(Xm=Hc[Kc]);Xv+=Xm}}if(no.nd=$f,no.Qb=0,$f&&(no.qb=(wu[3][_u[3]+0].value<<24|wu[1][_u[1]+0].value<<16|wu[2][_u[2]+0].value)>>>0,Yv==0&&256>wu[0][_u[0]+0].value&&(no.Qb=1,no.qb+=wu[0][_u[0]+0].value<<8)),no.jc=!no.Qb&&6>Xv,no.jc){var Yf,fs=no;for(Yf=0;Yf<or;++Yf){var oa=Yf,sa=fs.pd[oa],Xf=fs.G[0][fs.H[0]+oa];256<=Xf.value?(sa.g=Xf.g+256,sa.value=Xf.value):(sa.g=0,sa.value=0,oa>>=xn(Xf,8,sa),oa>>=xn(fs.G[1][fs.H[1]+oa],16,sa),oa>>=xn(fs.G[2][fs.H[2]+oa],0,sa),xn(fs.G[3][fs.H[3]+oa],24,sa))}}}Yn.vc=sr,Yn.Wb=Fr,Yn.Ya=zf,Yn.yc=Wm,Kt=1;break t}Kt=0}if(!(B=Kt)){k.a=3;break e}if(0<_e){if(te.ua=1<<_e,!it(te.Wa,_e)){k.a=1,B=0;break e}}else te.ua=0;var Jm=k,ly=U,bx=$,Zm=Jm.s,eg=Zm.xc;if(Jm.c=ly,Jm.i=bx,Zm.md=ze(ly,eg),Zm.wc=eg==0?-1:(1<<eg)-1,_){k.xb=JA;break e}if((ae=o(U*$))==null){k.a=1,B=0;break e}B=(B=Ir(k,ae,0,U,$,$,null))&&!G.h;break e}return B?(M!=null?M[0]=ae:(e(ae==null),e(_)),k.$=0,_||kr(te)):kr(te),B}function _o(u,f){var _=u.c*u.i,k=_+f+16*f;return e(u.c<=f),u.V=o(k),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+_+f,1)}function bo(u,f){var _=u.C,k=f-_,M=u.V,B=u.Ba+u.c*_;for(e(f<=u.l.o);0<k;){var U=16<k?16:k,$=u.l.ma,G=u.l.width,te=G*U,ae=$.ca,_e=$.tb+G*_,be=u.Ta,ge=u.Ua;On(u,U,M,B),Tn(be,ge,ae,_e,te),mr($,_,_+U,ae,_e,G),k-=U,M+=U*u.c,_+=U}e(_==f),u.C=u.Ma=f}function So(){this.ub=this.yd=this.td=this.Rb=0}function Qo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Yo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Jl(){this.Yb=function(){var u=[];return function f(_,k,M){for(var B=M[k],U=0;U<B&&(_.push(M.length>k+1?[]:0),!(M.length<k+1));U++)f(_[U],k+1,M)}(u,0,[3,11]),u}()}function Rs(){this.jb=o(3),this.Wc=a([4,8],Jl),this.Xc=a([4,17],Jl)}function Zl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ao(){this.ld=this.La=this.dd=this.tc=0}function xo(){this.Na=this.la=0}function Gi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function kc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ao),this.Y=0,this.ya=Array(new Xo),this.aa=0,this.l=new Jo}function Ya(){this.y=o(16),this.f=o(8),this.ea=o(8)}function eu(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new So,this.Kc=new Qo,this.ed=new Zl,this.Qa=new Yo,this.Ic=this.$c=this.Aa=0,this.D=new kc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ve),this.ia=0,this.pb=s(4,Gi),this.Pa=new Rs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ya),this.Hd=0,this.rb=Array(new xo),this.sb=0,this.wa=Array(new Ao),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xo),this.L=this.aa=0,this.gd=a([4,2],Ao),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Jo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xa(){var u=new eu;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,qc||(qc=tu)),u}function nn(u,f,_){return u.a==0&&(u.a=f,u.sc=_,u.cb=0),0}function Ja(u,f,_){return 3<=_&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function Za(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return nn(u,2,"null VP8Io passed to VP8GetHeaders()");var _=f.data,k=f.w,M=f.ha;if(4>M)return nn(u,7,"Truncated header.");var B=_[k+0]|_[k+1]<<8|_[k+2]<<16,U=u.Od;if(U.Rb=!(1&B),U.td=B>>1&7,U.yd=B>>4&1,U.ub=B>>5,3<U.td)return nn(u,3,"Incorrect keyframe parameters.");if(!U.yd)return nn(u,4,"Frame not displayable.");k+=3,M-=3;var $=u.Kc;if(U.Rb){if(7>M)return nn(u,7,"cannot parse picture header");if(!Ja(_,k,M))return nn(u,3,"Bad code word");$.c=16383&(_[k+4]<<8|_[k+3]),$.Td=_[k+4]>>6,$.i=16383&(_[k+6]<<8|_[k+5]),$.Ud=_[k+6]>>6,k+=7,M-=7,u.za=$.c+15>>4,u.Ub=$.i+15>>4,f.width=$.c,f.height=$.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((B=u.Pa).jb,0,255,B.jb.length),e((B=u.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(U.ub>M)return nn(u,7,"bad partition length");ce(B=u.m,_,k,U.ub),k+=U.ub,M-=U.ub,U.Rb&&($.Ld=ye(B),$.Kd=ye(B)),$=u.Qa;var G,te=u.Pa;if(e(B!=null),e($!=null),$.Cb=ye(B),$.Cb){if($.Bb=ye(B),ye(B)){for($.Fb=ye(B),G=0;4>G;++G)$.Zb[G]=ye(B)?J(B,7):0;for(G=0;4>G;++G)$.Lb[G]=ye(B)?J(B,6):0}if($.Bb)for(G=0;3>G;++G)te.jb[G]=ye(B)?ee(B,8):255}else $.Bb=0;if(B.Ka)return nn(u,3,"cannot parse segment header");if(($=u.ed).zd=ye(B),$.Tb=ee(B,6),$.wb=ee(B,3),$.Pc=ye(B),$.Pc&&ye(B)){for(te=0;4>te;++te)ye(B)&&($.vd[te]=J(B,6));for(te=0;4>te;++te)ye(B)&&($.od[te]=J(B,6))}if(u.L=$.Tb==0?0:$.zd?1:2,B.Ka)return nn(u,3,"cannot parse filter header");var ae=M;if(M=G=k,k=G+ae,$=ae,u.Xb=(1<<ee(u.m,2))-1,ae<3*(te=u.Xb))_=7;else{for(G+=3*te,$-=3*te,ae=0;ae<te;++ae){var _e=_[M+0]|_[M+1]<<8|_[M+2]<<16;_e>$&&(_e=$),ce(u.Jc[+ae],_,G,_e),G+=_e,$-=_e,M+=3}ce(u.Jc[+te],_,G,$),_=G<k?0:5}if(_!=0)return nn(u,_,"cannot parse partitions");for(_=ee(G=u.m,7),M=ye(G)?J(G,4):0,k=ye(G)?J(G,4):0,$=ye(G)?J(G,4):0,te=ye(G)?J(G,4):0,G=ye(G)?J(G,4):0,ae=u.Qa,_e=0;4>_e;++_e){if(ae.Cb){var be=ae.Zb[_e];ae.Fb||(be+=_)}else{if(0<_e){u.pb[_e]=u.pb[0];continue}be=_}var ge=u.pb[_e];ge.Sc[0]=qm[Mt(be+M,127)],ge.Sc[1]=$m[Mt(be+0,127)],ge.Eb[0]=2*qm[Mt(be+k,127)],ge.Eb[1]=101581*$m[Mt(be+$,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=qm[Mt(be+te,117)],ge.Qc[1]=$m[Mt(be+G,127)],ge.lc=be+G}if(!U.Rb)return nn(u,4,"Not a key frame.");for(ye(B),U=u.Pa,_=0;4>_;++_){for(M=0;8>M;++M)for(k=0;3>k;++k)for($=0;11>$;++$)te=we(B,YA[_][M][k][$])?ee(B,8):KA[_][M][k][$],U.Wc[_][M].Yb[k][$]=te;for(M=0;17>M;++M)U.Xc[_][M]=U.Wc[_][XA[M]]}return u.kc=ye(B),u.kc&&(u.Bd=ee(B,8)),u.cb=1}function tu(u,f,_,k,M,B,U){var $=f[M].Yb[_];for(_=0;16>M;++M){if(!we(u,$[_+0]))return M;for(;!we(u,$[_+1]);)if($=f[++M].Yb[0],_=0,M==16)return 16;var G=f[M+1].Yb;if(we(u,$[_+2])){var te=u,ae=0;if(we(te,(be=$)[(_e=_)+3]))if(we(te,be[_e+6])){for($=0,_e=2*(ae=we(te,be[_e+8]))+(be=we(te,be[_e+9+ae])),ae=0,be=WA[_e];be[$];++$)ae+=ae+we(te,be[$]);ae+=3+(8<<_e)}else we(te,be[_e+7])?(ae=7+2*we(te,165),ae+=we(te,145)):ae=5+we(te,159);else ae=we(te,be[_e+4])?3+we(te,be[_e+5]):2;$=G[2]}else ae=1,$=G[1];G=U+GA[M],0>(te=u).b&&pe(te);var _e,be=te.b,ge=(_e=te.Ca>>1)-(te.I>>be)>>31;--te.b,te.Ca+=ge,te.Ca|=1,te.I-=(_e+1&ge)<<be,B[G]=((ae^ge)-ge)*k[(0<M)+0]}return 16}function el(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function nu(u,f){if(u==null)return 0;if(f==null)return nn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Za(u,f))return 0;if(e(u.cb),f.ac==null||f.ac(f)){f.ob&&(u.L=0);var _=Uf[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=f.v-_>>4,u.zb=f.j-_>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=f.o+15+_>>4,u.Hb=f.va+15+_>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var k=u.ed;for(_=0;4>_;++_){var M;if(u.Qa.Cb){var B=u.Qa.Lb[_];u.Qa.Fb||(B+=k.Tb)}else B=k.Tb;for(M=0;1>=M;++M){var U=u.gd[_][M],$=B;if(k.Pc&&($+=k.vd[0],M&&($+=k.od[0])),0<($=0>$?0:63<$?63:$)){var G=$;0<k.wb&&(G=4<k.wb?G>>2:G>>1)>9-k.wb&&(G=9-k.wb),1>G&&(G=1),U.dd=G,U.tc=2*$+G,U.ld=40<=$?2:15<=$?1:0}else U.tc=0;U.La=M}}}_=0}else nn(u,6,"Frame setup failed"),_=u.a;if(_=_==0){if(_){u.$c=0,0<u.Aa||(u.Ic=cx);e:{_=u.Ic,k=4*(G=u.za);var te=32*G,ae=G+1,_e=0<u.L?G*(0<u.Aa?2:1):0,be=(u.Aa==2?2:1)*G;if((U=k+832+(M=3*(16*_+Uf[u.L])/2*te)+(B=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=U)_=0;else{if(U>u.Vb){if(u.Vb=0,u.Ec=o(U),u.Fc=0,u.Ec==null){_=nn(u,1,"no memory during frame initialization.");break e}u.Vb=U}U=u.Ec,$=u.Fc,u.Ac=U,u.Bc=$,$+=k,u.Gd=s(te,Ya),u.Hd=0,u.rb=s(ae+1,xo),u.sb=1,u.wa=_e?s(_e,Ao):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=G),e(!0),u.oc=U,u.pc=$,$+=832,u.ya=s(be,Xo),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=G),u.R=16*G,u.B=8*G,G=(te=Uf[u.L])*u.R,te=te/2*u.B,u.sa=U,u.ta=$+G,u.qa=u.sa,u.ra=u.ta+16*_*u.R+te,u.Ha=u.qa,u.Ia=u.ra+8*_*u.B+te,u.$c=0,$+=M,u.mb=B?U:null,u.nb=B?$:null,e($+B<=u.Fc+u.Vb),el(u),i(u.Ac,u.Bc,0,k),_=1}}if(_){if(f.ka=0,f.y=u.sa,f.O=u.ta,f.f=u.qa,f.N=u.ra,f.ea=u.Ha,f.Vd=u.Ia,f.fa=u.R,f.Rc=u.B,f.F=null,f.J=0,!Lf){for(_=-255;255>=_;++_)$n[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)us[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)zc[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)vu[255+_]=0>_?0:255<_?255:_;Lf=1}pu=ts,ls=Fs,Vc=tl,Dr=Ut,Ii=es,Pn=Zo,mu=zs,kf=Ji,Bc=$s,hl=ul,fl=qs,Js=rs,dl=Hs,gu=Co,pl=ns,Zs=hi,Uc=qn,ki=au,to[0]=Ci,to[1]=Lc,to[2]=Po,to[3]=Dc,to[4]=ou,to[5]=Ms,to[6]=ui,to[7]=rl,to[8]=Bs,to[9]=Vs,ea[0]=Eo,ea[1]=Rc,ea[2]=Qi,ea[3]=Os,ea[4]=rn,ea[5]=iu,ea[6]=nl,cs[0]=Xi,cs[1]=ru,cs[2]=su,cs[3]=Yi,cs[4]=jt,cs[5]=il,cs[6]=ol,_=1}else _=0}_&&(_=function(ge,Te){for(ge.M=0;ge.M<ge.Va;++ge.M){var Ae,le=ge.Jc[ge.M&ge.Xb],he=ge.m,Ee=ge;for(Ae=0;Ae<Ee.za;++Ae){var Le=he,Pe=Ee,Ge=Pe.Ac,qe=Pe.Bc+4*Ae,lt=Pe.zc,We=Pe.ya[Pe.aa+Ae];if(Pe.Qa.Bb?We.$b=we(Le,Pe.Pa.jb[0])?2+we(Le,Pe.Pa.jb[2]):we(Le,Pe.Pa.jb[1]):We.$b=0,Pe.kc&&(We.Ad=we(Le,Pe.Bd)),We.Za=!we(Le,145)+0,We.Za){var Ot=We.Ob,zt=0;for(Pe=0;4>Pe;++Pe){var Rt,Et=lt[0+Pe];for(Rt=0;4>Rt;++Rt){Et=QA[Ge[qe+Rt]][Et];for(var Kt=Mv[we(Le,Et[0])];0<Kt;)Kt=Mv[2*Kt+we(Le,Et[Kt])];Et=-Kt,Ge[qe+Rt]=Et}r(Ot,zt,Ge,qe,4),zt+=4,lt[0+Pe]=Et}}else Et=we(Le,156)?we(Le,128)?1:3:we(Le,163)?2:0,We.Ob[0]=Et,i(Ge,qe,Et,4),i(lt,0,Et,4);We.Dd=we(Le,142)?we(Le,114)?we(Le,183)?1:3:2:0}if(Ee.m.Ka)return nn(ge,7,"Premature end-of-partition0 encountered.");for(;ge.ja<ge.za;++ge.ja){if(Ee=le,Le=(he=ge).rb[he.sb-1],Ge=he.rb[he.sb+he.ja],Ae=he.ya[he.aa+he.ja],qe=he.kc?Ae.Ad:0)Le.la=Ge.la=0,Ae.Za||(Le.Na=Ge.Na=0),Ae.Hc=0,Ae.Gc=0,Ae.ia=0;else{var Wt,_t;if(Le=Ge,Ge=Ee,qe=he.Pa.Xc,lt=he.ya[he.aa+he.ja],We=he.pb[lt.$b],Pe=lt.ad,Ot=0,zt=he.rb[he.sb-1],Et=Rt=0,i(Pe,Ot,0,384),lt.Za)var jn=0,Gr=qe[3];else{Kt=o(16);var Mn=Le.Na+zt.Na;if(Mn=qc(Ge,qe[1],Mn,We.Eb,0,Kt,0),Le.Na=zt.Na=(0<Mn)+0,1<Mn)pu(Kt,0,Pe,Ot);else{var Kr=Kt[0]+3>>3;for(Kt=0;256>Kt;Kt+=16)Pe[Ot+Kt]=Kr}jn=1,Gr=qe[0]}var qt=15&Le.la,di=15&zt.la;for(Kt=0;4>Kt;++Kt){var pi=1&di;for(Kr=_t=0;4>Kr;++Kr)qt=qt>>1|(pi=(Mn=qc(Ge,Gr,Mn=pi+(1&qt),We.Sc,jn,Pe,Ot))>jn)<<7,_t=_t<<2|(3<Mn?3:1<Mn?2:Pe[Ot+0]!=0),Ot+=16;qt>>=4,di=di>>1|pi<<7,Rt=(Rt<<8|_t)>>>0}for(Gr=qt,jn=di>>4,Wt=0;4>Wt;Wt+=2){for(_t=0,qt=Le.la>>4+Wt,di=zt.la>>4+Wt,Kt=0;2>Kt;++Kt){for(pi=1&di,Kr=0;2>Kr;++Kr)Mn=pi+(1&qt),qt=qt>>1|(pi=0<(Mn=qc(Ge,qe[2],Mn,We.Qc,0,Pe,Ot)))<<3,_t=_t<<2|(3<Mn?3:1<Mn?2:Pe[Ot+0]!=0),Ot+=16;qt>>=2,di=di>>1|pi<<5}Et|=_t<<4*Wt,Gr|=qt<<4<<Wt,jn|=(240&di)<<Wt}Le.la=Gr,zt.la=jn,lt.Hc=Rt,lt.Gc=Et,lt.ia=43690&Et?0:We.ia,qe=!(Rt|Et)}if(0<he.L&&(he.wa[he.Y+he.ja]=he.gd[Ae.$b][Ae.Za],he.wa[he.Y+he.ja].La|=!qe),Ee.Ka)return nn(ge,7,"Premature end-of-file encountered.")}if(el(ge),he=Te,Ee=1,Ae=(le=ge).D,Le=0<le.L&&le.M>=le.zb&&le.M<=le.Va,le.Aa==0)e:{if(Ae.M=le.M,Ae.uc=Le,Io(le,Ae),Ee=1,Ae=(_t=le.D).Nb,Le=(Et=Uf[le.L])*le.R,Ge=Et/2*le.B,Kt=16*Ae*le.R,Kr=8*Ae*le.B,qe=le.sa,lt=le.ta-Le+Kt,We=le.qa,Pe=le.ra-Ge+Kr,Ot=le.Ha,zt=le.Ia-Ge+Kr,di=(qt=_t.M)==0,Rt=qt>=le.Va-1,le.Aa==2&&Io(le,_t),_t.uc)for(pi=(Mn=le).D.M,e(Mn.D.uc),_t=Mn.yb;_t<Mn.Hb;++_t){jn=_t,Gr=pi;var Yn=(sr=(wn=Mn).D).Nb;Wt=wn.R;var sr=sr.wa[sr.Y+jn],Fr=wn.sa,Fi=wn.ta+16*Yn*Wt+16*jn,Lo=sr.dd,Xn=sr.tc;if(Xn!=0)if(e(3<=Xn),wn.L==1)0<jn&&Zs(Fr,Fi,Wt,Xn+4),sr.La&&ki(Fr,Fi,Wt,Xn),0<Gr&&pl(Fr,Fi,Wt,Xn+4),sr.La&&Uc(Fr,Fi,Wt,Xn);else{var hs=wn.B,ml=wn.qa,yu=wn.ra+8*Yn*hs+8*jn,na=wn.Ha,wn=wn.Ia+8*Yn*hs+8*jn;Yn=sr.ld,0<jn&&(kf(Fr,Fi,Wt,Xn+4,Lo,Yn),hl(ml,yu,na,wn,hs,Xn+4,Lo,Yn)),sr.La&&(Js(Fr,Fi,Wt,Xn,Lo,Yn),gu(ml,yu,na,wn,hs,Xn,Lo,Yn)),0<Gr&&(mu(Fr,Fi,Wt,Xn+4,Lo,Yn),Bc(ml,yu,na,wn,hs,Xn+4,Lo,Yn)),sr.La&&(fl(Fr,Fi,Wt,Xn,Lo,Yn),dl(ml,yu,na,wn,hs,Xn,Lo,Yn))}}if(le.ia&&alert("todo:DitherRow"),he.put!=null){if(_t=16*qt,qt=16*(qt+1),di?(he.y=le.sa,he.O=le.ta+Kt,he.f=le.qa,he.N=le.ra+Kr,he.ea=le.Ha,he.W=le.Ia+Kr):(_t-=Et,he.y=qe,he.O=lt,he.f=We,he.N=Pe,he.ea=Ot,he.W=zt),Rt||(qt-=Et),qt>he.o&&(qt=he.o),he.F=null,he.J=null,le.Fa!=null&&0<le.Fa.length&&_t<qt&&(he.J=Qs(le,he,_t,qt-_t),he.F=le.mb,he.F==null&&he.F.length==0)){Ee=nn(le,3,"Could not decode alpha data.");break e}_t<he.j&&(Et=he.j-_t,_t=he.j,e(!(1&Et)),he.O+=le.R*Et,he.N+=le.B*(Et>>1),he.W+=le.B*(Et>>1),he.F!=null&&(he.J+=he.width*Et)),_t<qt&&(he.O+=he.v,he.N+=he.v>>1,he.W+=he.v>>1,he.F!=null&&(he.J+=he.v),he.ka=_t-he.j,he.U=he.va-he.v,he.T=qt-_t,Ee=he.put(he))}Ae+1!=le.Ic||Rt||(r(le.sa,le.ta-Le,qe,lt+16*le.R,Le),r(le.qa,le.ra-Ge,We,Pe+8*le.B,Ge),r(le.Ha,le.Ia-Ge,Ot,zt+8*le.B,Ge))}if(!Ee)return nn(ge,6,"Output aborted.")}return 1}(u,f)),f.bc!=null&&f.bc(f),_&=1}return _?(u.cb=0,_):0}function $r(u,f,_,k,M){M=u[f+_+32*k]+(M>>3),u[f+_+32*k]=-256&M?0>M?0:255:M}function Ds(u,f,_,k,M,B){$r(u,f,0,_,k+M),$r(u,f,1,_,k+B),$r(u,f,2,_,k-B),$r(u,f,3,_,k-M)}function yn(u){return(20091*u>>16)+u}function Lr(u,f,_,k){var M,B=0,U=o(16);for(M=0;4>M;++M){var $=u[f+0]+u[f+8],G=u[f+0]-u[f+8],te=(35468*u[f+4]>>16)-yn(u[f+12]),ae=yn(u[f+4])+(35468*u[f+12]>>16);U[B+0]=$+ae,U[B+1]=G+te,U[B+2]=G-te,U[B+3]=$-ae,B+=4,f++}for(M=B=0;4>M;++M)$=(u=U[B+0]+4)+U[B+8],G=u-U[B+8],te=(35468*U[B+4]>>16)-yn(U[B+12]),$r(_,k,0,0,$+(ae=yn(U[B+4])+(35468*U[B+12]>>16))),$r(_,k,1,0,G+te),$r(_,k,2,0,G-te),$r(_,k,3,0,$-ae),B++,k+=32}function Zo(u,f,_,k){var M=u[f+0]+4,B=35468*u[f+4]>>16,U=yn(u[f+4]),$=35468*u[f+1]>>16;Ds(_,k,0,M+U,u=yn(u[f+1]),$),Ds(_,k,1,M+B,u,$),Ds(_,k,2,M-B,u,$),Ds(_,k,3,M-U,u,$)}function Fs(u,f,_,k,M){Lr(u,f,_,k),M&&Lr(u,f+16,_,k+4)}function tl(u,f,_,k){ls(u,f+0,_,k,1),ls(u,f+32,_,k+128,1)}function Ut(u,f,_,k){var M;for(u=u[f+0]+4,M=0;4>M;++M)for(f=0;4>f;++f)$r(_,k,f,M,u)}function es(u,f,_,k){u[f+0]&&Dr(u,f+0,_,k),u[f+16]&&Dr(u,f+16,_,k+4),u[f+32]&&Dr(u,f+32,_,k+128),u[f+48]&&Dr(u,f+48,_,k+128+4)}function ts(u,f,_,k){var M,B=o(16);for(M=0;4>M;++M){var U=u[f+0+M]+u[f+12+M],$=u[f+4+M]+u[f+8+M],G=u[f+4+M]-u[f+8+M],te=u[f+0+M]-u[f+12+M];B[0+M]=U+$,B[8+M]=U-$,B[4+M]=te+G,B[12+M]=te-G}for(M=0;4>M;++M)U=(u=B[0+4*M]+3)+B[3+4*M],$=B[1+4*M]+B[2+4*M],G=B[1+4*M]-B[2+4*M],te=u-B[3+4*M],_[k+0]=U+$>>3,_[k+16]=te+G>>3,_[k+32]=U-$>>3,_[k+48]=te-G>>3,k+=64}function Ki(u,f,_){var k,M=f-32,B=fi,U=255-u[M-1];for(k=0;k<_;++k){var $,G=B,te=U+u[f-1];for($=0;$<_;++$)u[f+$]=G[te+u[M+$]];f+=32}}function Lc(u,f){Ki(u,f,4)}function ru(u,f){Ki(u,f,8)}function Rc(u,f){Ki(u,f,16)}function Qi(u,f){var _;for(_=0;16>_;++_)r(u,f+32*_,u,f-32,16)}function Os(u,f){var _;for(_=16;0<_;--_)i(u,f,u[f-1],16),f+=32}function js(u,f,_){var k;for(k=0;16>k;++k)i(f,_+32*k,u,16)}function Eo(u,f){var _,k=16;for(_=0;16>_;++_)k+=u[f-1+32*_]+u[f+_-32];js(k>>5,u,f)}function rn(u,f){var _,k=8;for(_=0;16>_;++_)k+=u[f-1+32*_];js(k>>4,u,f)}function iu(u,f){var _,k=8;for(_=0;16>_;++_)k+=u[f+_-32];js(k>>4,u,f)}function nl(u,f){js(128,u,f)}function ft(u,f,_){return u+2*f+_+2>>2}function Po(u,f){var _,k=f-32;for(k=new Uint8Array([ft(u[k-1],u[k+0],u[k+1]),ft(u[k+0],u[k+1],u[k+2]),ft(u[k+1],u[k+2],u[k+3]),ft(u[k+2],u[k+3],u[k+4])]),_=0;4>_;++_)r(u,f+32*_,k,0,k.length)}function Dc(u,f){var _=u[f-1],k=u[f-1+32],M=u[f-1+64],B=u[f-1+96];Re(u,f+0,16843009*ft(u[f-1-32],_,k)),Re(u,f+32,16843009*ft(_,k,M)),Re(u,f+64,16843009*ft(k,M,B)),Re(u,f+96,16843009*ft(M,B,B))}function Ci(u,f){var _,k=4;for(_=0;4>_;++_)k+=u[f+_-32]+u[f-1+32*_];for(k>>=3,_=0;4>_;++_)i(u,f+32*_,k,4)}function ou(u,f){var _=u[f-1+0],k=u[f-1+32],M=u[f-1+64],B=u[f-1-32],U=u[f+0-32],$=u[f+1-32],G=u[f+2-32],te=u[f+3-32];u[f+0+96]=ft(k,M,u[f-1+96]),u[f+1+96]=u[f+0+64]=ft(_,k,M),u[f+2+96]=u[f+1+64]=u[f+0+32]=ft(B,_,k),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=ft(U,B,_),u[f+3+64]=u[f+2+32]=u[f+1+0]=ft($,U,B),u[f+3+32]=u[f+2+0]=ft(G,$,U),u[f+3+0]=ft(te,G,$)}function ui(u,f){var _=u[f+1-32],k=u[f+2-32],M=u[f+3-32],B=u[f+4-32],U=u[f+5-32],$=u[f+6-32],G=u[f+7-32];u[f+0+0]=ft(u[f+0-32],_,k),u[f+1+0]=u[f+0+32]=ft(_,k,M),u[f+2+0]=u[f+1+32]=u[f+0+64]=ft(k,M,B),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=ft(M,B,U),u[f+3+32]=u[f+2+64]=u[f+1+96]=ft(B,U,$),u[f+3+64]=u[f+2+96]=ft(U,$,G),u[f+3+96]=ft($,G,G)}function Ms(u,f){var _=u[f-1+0],k=u[f-1+32],M=u[f-1+64],B=u[f-1-32],U=u[f+0-32],$=u[f+1-32],G=u[f+2-32],te=u[f+3-32];u[f+0+0]=u[f+1+64]=B+U+1>>1,u[f+1+0]=u[f+2+64]=U+$+1>>1,u[f+2+0]=u[f+3+64]=$+G+1>>1,u[f+3+0]=G+te+1>>1,u[f+0+96]=ft(M,k,_),u[f+0+64]=ft(k,_,B),u[f+0+32]=u[f+1+96]=ft(_,B,U),u[f+1+32]=u[f+2+96]=ft(B,U,$),u[f+2+32]=u[f+3+96]=ft(U,$,G),u[f+3+32]=ft($,G,te)}function rl(u,f){var _=u[f+0-32],k=u[f+1-32],M=u[f+2-32],B=u[f+3-32],U=u[f+4-32],$=u[f+5-32],G=u[f+6-32],te=u[f+7-32];u[f+0+0]=_+k+1>>1,u[f+1+0]=u[f+0+64]=k+M+1>>1,u[f+2+0]=u[f+1+64]=M+B+1>>1,u[f+3+0]=u[f+2+64]=B+U+1>>1,u[f+0+32]=ft(_,k,M),u[f+1+32]=u[f+0+96]=ft(k,M,B),u[f+2+32]=u[f+1+96]=ft(M,B,U),u[f+3+32]=u[f+2+96]=ft(B,U,$),u[f+3+64]=ft(U,$,G),u[f+3+96]=ft($,G,te)}function Vs(u,f){var _=u[f-1+0],k=u[f-1+32],M=u[f-1+64],B=u[f-1+96];u[f+0+0]=_+k+1>>1,u[f+2+0]=u[f+0+32]=k+M+1>>1,u[f+2+32]=u[f+0+64]=M+B+1>>1,u[f+1+0]=ft(_,k,M),u[f+3+0]=u[f+1+32]=ft(k,M,B),u[f+3+32]=u[f+1+64]=ft(M,B,B),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=B}function Bs(u,f){var _=u[f-1+0],k=u[f-1+32],M=u[f-1+64],B=u[f-1+96],U=u[f-1-32],$=u[f+0-32],G=u[f+1-32],te=u[f+2-32];u[f+0+0]=u[f+2+32]=_+U+1>>1,u[f+0+32]=u[f+2+64]=k+_+1>>1,u[f+0+64]=u[f+2+96]=M+k+1>>1,u[f+0+96]=B+M+1>>1,u[f+3+0]=ft($,G,te),u[f+2+0]=ft(U,$,G),u[f+1+0]=u[f+3+32]=ft(_,U,$),u[f+1+32]=u[f+3+64]=ft(k,_,U),u[f+1+64]=u[f+3+96]=ft(M,k,_),u[f+1+96]=ft(B,M,k)}function su(u,f){var _;for(_=0;8>_;++_)r(u,f+32*_,u,f-32,8)}function Yi(u,f){var _;for(_=0;8>_;++_)i(u,f,u[f-1],8),f+=32}function ci(u,f,_){var k;for(k=0;8>k;++k)i(f,_+32*k,u,8)}function Xi(u,f){var _,k=8;for(_=0;8>_;++_)k+=u[f+_-32]+u[f-1+32*_];ci(k>>4,u,f)}function il(u,f){var _,k=4;for(_=0;8>_;++_)k+=u[f+_-32];ci(k>>3,u,f)}function jt(u,f){var _,k=4;for(_=0;8>_;++_)k+=u[f-1+32*_];ci(k>>3,u,f)}function ol(u,f){ci(128,u,f)}function Us(u,f,_){var k=u[f-_],M=u[f+0],B=3*(M-k)+Mm[1020+u[f-2*_]-u[f+_]],U=Rf[112+(B+4>>3)];u[f-_]=fi[255+k+Rf[112+(B+3>>3)]],u[f+0]=fi[255+M-U]}function sl(u,f,_,k){var M=u[f+0],B=u[f+_];return Ri[255+u[f-2*_]-u[f-_]]>k||Ri[255+B-M]>k}function al(u,f,_,k){return 4*Ri[255+u[f-_]-u[f+0]]+Ri[255+u[f-2*_]-u[f+_]]<=k}function ll(u,f,_,k,M){var B=u[f-3*_],U=u[f-2*_],$=u[f-_],G=u[f+0],te=u[f+_],ae=u[f+2*_],_e=u[f+3*_];return 4*Ri[255+$-G]+Ri[255+U-te]>k?0:Ri[255+u[f-4*_]-B]<=M&&Ri[255+B-U]<=M&&Ri[255+U-$]<=M&&Ri[255+_e-ae]<=M&&Ri[255+ae-te]<=M&&Ri[255+te-G]<=M}function ns(u,f,_,k){var M=2*k+1;for(k=0;16>k;++k)al(u,f+k,_,M)&&Us(u,f+k,_)}function hi(u,f,_,k){var M=2*k+1;for(k=0;16>k;++k)al(u,f+k*_,1,M)&&Us(u,f+k*_,1)}function qn(u,f,_,k){var M;for(M=3;0<M;--M)ns(u,f+=4*_,_,k)}function au(u,f,_,k){var M;for(M=3;0<M;--M)hi(u,f+=4,_,k)}function To(u,f,_,k,M,B,U,$){for(B=2*B+1;0<M--;){if(ll(u,f,_,B,U))if(sl(u,f,_,$))Us(u,f,_);else{var G=u,te=f,ae=_,_e=G[te-2*ae],be=G[te-ae],ge=G[te+0],Te=G[te+ae],Ae=G[te+2*ae],le=27*(Ee=Mm[1020+3*(ge-be)+Mm[1020+_e-Te]])+63>>7,he=18*Ee+63>>7,Ee=9*Ee+63>>7;G[te-3*ae]=fi[255+G[te-3*ae]+Ee],G[te-2*ae]=fi[255+_e+he],G[te-ae]=fi[255+be+le],G[te+0]=fi[255+ge-le],G[te+ae]=fi[255+Te-he],G[te+2*ae]=fi[255+Ae-Ee]}f+=k}}function rr(u,f,_,k,M,B,U,$){for(B=2*B+1;0<M--;){if(ll(u,f,_,B,U))if(sl(u,f,_,$))Us(u,f,_);else{var G=u,te=f,ae=_,_e=G[te-ae],be=G[te+0],ge=G[te+ae],Te=Rf[112+((Ae=3*(be-_e))+4>>3)],Ae=Rf[112+(Ae+3>>3)],le=Te+1>>1;G[te-2*ae]=fi[255+G[te-2*ae]+le],G[te-ae]=fi[255+_e+Ae],G[te+0]=fi[255+be-Te],G[te+ae]=fi[255+ge-le]}f+=k}}function zs(u,f,_,k,M,B){To(u,f,_,1,16,k,M,B)}function Ji(u,f,_,k,M,B){To(u,f,1,_,16,k,M,B)}function qs(u,f,_,k,M,B){var U;for(U=3;0<U;--U)rr(u,f+=4*_,_,1,16,k,M,B)}function rs(u,f,_,k,M,B){var U;for(U=3;0<U;--U)rr(u,f+=4,1,_,16,k,M,B)}function $s(u,f,_,k,M,B,U,$){To(u,f,M,1,8,B,U,$),To(_,k,M,1,8,B,U,$)}function ul(u,f,_,k,M,B,U,$){To(u,f,1,M,8,B,U,$),To(_,k,1,M,8,B,U,$)}function Hs(u,f,_,k,M,B,U,$){rr(u,f+4*M,M,1,8,B,U,$),rr(_,k+4*M,M,1,8,B,U,$)}function Co(u,f,_,k,M,B,U,$){rr(u,f+4,1,M,8,B,U,$),rr(_,k+4,1,M,8,B,U,$)}function is(){this.ba=new nr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ws(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function os(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gs(){this.ua=0,this.Wa=new Z,this.vb=new Z,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new S}function lu(){this.xb=this.a=0,this.l=new Jo,this.ca=new nr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gs,this.ab=0,this.gc=s(4,os),this.Oc=0}function Zi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Jo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function No(u,f,_,k,M,B,U){for(u=u==null?0:u[f+0],f=0;f<U;++f)M[B+f]=u+_[k+f]&255,u=M[B+f]}function Ks(u,f,_,k,M,B,U){var $;if(u==null)No(null,null,_,k,M,B,U);else for($=0;$<U;++$)M[B+$]=u[f+$]+_[k+$]&255}function gr(u,f,_,k,M,B,U){if(u==null)No(null,null,_,k,M,B,U);else{var $,G=u[f+0],te=G,ae=G;for($=0;$<U;++$)te=ae+(G=u[f+$])-te,ae=_[k+$]+(-256&te?0>te?0:255:te)&255,te=G,M[B+$]=ae}}function Qs(u,f,_,k){var M=f.width,B=f.o;if(e(u!=null&&f!=null),0>_||0>=k||_+k>B)return null;if(!u.Cc){if(u.ga==null){var U;if(u.ga=new Zi,(U=u.ga==null)||(U=f.width*f.o,e(u.Gb.length==0),u.Gb=o(U),u.Uc=0,u.Gb==null?U=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,U=1),U=!U),!U){U=u.ga;var $=u.Fa,G=u.P,te=u.qc,ae=u.mb,_e=u.nb,be=G+1,ge=te-1,Te=U.l;if(e($!=null&&ae!=null&&f!=null),ta[0]=null,ta[1]=No,ta[2]=Ks,ta[3]=gr,U.ca=ae,U.tb=_e,U.c=f.width,U.i=f.height,e(0<U.c&&0<U.i),1>=te)f=0;else if(U.$a=$[G+0]>>0&3,U.Z=$[G+0]>>2&3,U.Lc=$[G+0]>>4&3,G=$[G+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||G)f=0;else if(Te.put=dr,Te.ac=Dn,Te.bc=ai,Te.ma=U,Te.width=f.width,Te.height=f.height,Te.Da=f.Da,Te.v=f.v,Te.va=f.va,Te.j=f.j,Te.o=f.o,U.$a)e:{e(U.$a==1),f=En();t:for(;;){if(f==null){f=0;break e}if(e(U!=null),U.mc=f,f.c=U.c,f.i=U.i,f.l=U.l,f.l.ma=U,f.l.width=U.c,f.l.height=U.i,f.a=0,Q(f.m,$,be,ge),!li(U.c,U.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Wi(f.s)?(U.ic=1,$=f.c*f.i,f.Ta=null,f.Ua=0,f.V=o($),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(U.ic=0,f=_o(f,U.c)),!f))break t;f=1;break e}U.mc=null,f=0}else f=ge>=U.c*U.i;U=!f}if(U)return null;u.ga.Lc!=1?u.Ga=0:k=B-_}e(u.ga!=null),e(_+k<=B);e:{if(f=($=u.ga).c,B=$.l.o,$.$a==0){if(be=u.rc,ge=u.Vc,Te=u.Fa,G=u.P+1+_*f,te=u.mb,ae=u.nb+_*f,e(G<=u.P+u.qc),$.Z!=0)for(e(ta[$.Z]!=null),U=0;U<k;++U)ta[$.Z](be,ge,Te,G,te,ae,f),be=te,ge=ae,ae+=f,G+=f;else for(U=0;U<k;++U)r(te,ae,Te,G,f),be=te,ge=ae,ae+=f,G+=f;u.rc=be,u.Vc=ge}else{if(e($.mc!=null),f=_+k,e((U=$.mc)!=null),e(f<=U.i),U.C>=f)f=1;else if($.ic||me(),$.ic){$=U.V,be=U.Ba,ge=U.c;var Ae=U.i,le=(Te=1,G=U.$/ge,te=U.$%ge,ae=U.m,_e=U.s,U.$),he=ge*Ae,Ee=ge*f,Le=_e.wc,Pe=le<Ee?vn(_e,te,G):null;e(le<=he),e(f<=Ae),e(Wi(_e));t:for(;;){for(;!ae.h&&le<Ee;){if(te&Le||(Pe=vn(_e,te,G)),e(Pe!=null),ie(ae),256>(Ae=Fn(Pe.G[0],Pe.H[0],ae)))$[be+le]=Ae,++le,++te>=ge&&(te=0,++G<=f&&!(G%16)&&qr(U,G));else{if(!(280>Ae)){Te=0;break t}Ae=zr(Ae-256,ae);var Ge,qe=Fn(Pe.G[4],Pe.H[4],ae);if(ie(ae),!(le>=(qe=pr(ge,qe=zr(qe,ae)))&&he-le>=Ae)){Te=0;break t}for(Ge=0;Ge<Ae;++Ge)$[be+le+Ge]=$[be+le+Ge-qe];for(le+=Ae,te+=Ae;te>=ge;)te-=ge,++G<=f&&!(G%16)&&qr(U,G);le<Ee&&te&Le&&(Pe=vn(_e,te,G))}e(ae.h==X(ae))}qr(U,G>f?f:G);break t}!Te||ae.h&&le<he?(Te=0,U.a=ae.h?5:3):U.$=le,f=Te}else f=Ir(U,U.V,U.Ba,U.c,U.i,f,bo);if(!f){k=0;break e}}_+k>=B&&(u.Cc=1),k=1}if(!k)return null;if(u.Cc&&((k=u.ga)!=null&&(k.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+_*M}function v(u,f,_,k,M,B){for(;0<M--;){var U,$=u,G=f+(_?1:0),te=u,ae=f+(_?0:3);for(U=0;U<k;++U){var _e=te[ae+4*U];_e!=255&&(_e*=32897,$[G+4*U+0]=$[G+4*U+0]*_e>>23,$[G+4*U+1]=$[G+4*U+1]*_e>>23,$[G+4*U+2]=$[G+4*U+2]*_e>>23)}f+=B}}function j(u,f,_,k,M){for(;0<k--;){var B;for(B=0;B<_;++B){var U=u[f+2*B+0],$=15&(te=u[f+2*B+1]),G=4369*$,te=(240&te|te>>4)*G>>16;u[f+2*B+0]=(240&U|U>>4)*G>>16&240|(15&U|U<<4)*G>>16>>4&15,u[f+2*B+1]=240&te|$}f+=M}}function re(u,f,_,k,M,B,U,$){var G,te,ae=255;for(te=0;te<M;++te){for(G=0;G<k;++G){var _e=u[f+G];B[U+4*G]=_e,ae&=_e}f+=_,U+=$}return ae!=255}function se(u,f,_,k,M){var B;for(B=0;B<M;++B)_[k+B]=u[f+B]>>8}function me(){Li=v,Jt=j,Zt=re,Tn=se}function xe(u,f,_){b[u]=function(k,M,B,U,$,G,te,ae,_e,be,ge,Te,Ae,le,he,Ee,Le){var Pe,Ge=Le-1>>1,qe=$[G+0]|te[ae+0]<<16,lt=_e[be+0]|ge[Te+0]<<16;e(k!=null);var We=3*qe+lt+131074>>2;for(f(k[M+0],255&We,We>>16,Ae,le),B!=null&&(We=3*lt+qe+131074>>2,f(B[U+0],255&We,We>>16,he,Ee)),Pe=1;Pe<=Ge;++Pe){var Ot=$[G+Pe]|te[ae+Pe]<<16,zt=_e[be+Pe]|ge[Te+Pe]<<16,Rt=qe+Ot+lt+zt+524296,Et=Rt+2*(Ot+lt)>>3;We=Et+qe>>1,qe=(Rt=Rt+2*(qe+zt)>>3)+Ot>>1,f(k[M+2*Pe-1],255&We,We>>16,Ae,le+(2*Pe-1)*_),f(k[M+2*Pe-0],255&qe,qe>>16,Ae,le+(2*Pe-0)*_),B!=null&&(We=Rt+lt>>1,qe=Et+zt>>1,f(B[U+2*Pe-1],255&We,We>>16,he,Ee+(2*Pe-1)*_),f(B[U+2*Pe+0],255&qe,qe>>16,he,Ee+(2*Pe+0)*_)),qe=Ot,lt=zt}1&Le||(We=3*qe+lt+131074>>2,f(k[M+Le-1],255&We,We>>16,Ae,le+(Le-1)*_),B!=null&&(We=3*lt+qe+131074>>2,f(B[U+Le-1],255&We,We>>16,he,Ee+(Le-1)*_)))}}function De(){Di[Df]=ZA,Di[Ff]=Bv,Di[Fv]=ex,Di[Of]=Uv,Di[jf]=zv,Di[Vm]=qv,Di[Ov]=tx,Di[Bm]=Bv,Di[Um]=Uv,Di[Mf]=zv,Di[zm]=qv}function $e(u){return u&~nx?0>u?0:255:u>>$v}function c(u,f){return $e((19077*u>>8)+(26149*f>>8)-14234)}function x(u,f,_){return $e((19077*u>>8)-(6419*f>>8)-(13320*_>>8)+8708)}function D(u,f){return $e((19077*u>>8)+(33050*f>>8)-17685)}function q(u,f,_,k,M){k[M+0]=c(u,_),k[M+1]=x(u,f,_),k[M+2]=D(u,f)}function de(u,f,_,k,M){k[M+0]=D(u,f),k[M+1]=x(u,f,_),k[M+2]=c(u,_)}function Se(u,f,_,k,M){var B=x(u,f,_);f=B<<3&224|D(u,f)>>3,k[M+0]=248&c(u,_)|B>>5,k[M+1]=f}function Oe(u,f,_,k,M){var B=240&D(u,f)|15;k[M+0]=240&c(u,_)|x(u,f,_)>>4,k[M+1]=B}function gt(u,f,_,k,M){k[M+0]=255,q(u,f,_,k,M+1)}function xt(u,f,_,k,M){de(u,f,_,k,M),k[M+3]=255}function vt(u,f,_,k,M){q(u,f,_,k,M),k[M+3]=255}function Mt(u,f){return 0>u?0:u>f?f:u}function Gt(u,f,_){b[u]=function(k,M,B,U,$,G,te,ae,_e){for(var be=ae+(-2&_e)*_;ae!=be;)f(k[M+0],B[U+0],$[G+0],te,ae),f(k[M+1],B[U+0],$[G+0],te,ae+_),M+=2,++U,++G,ae+=2*_;1&_e&&f(k[M+0],B[U+0],$[G+0],te,ae)}}function eo(u,f,_){return _==0?u==0?f==0?6:5:f==0?4:0:_}function ir(u,f,_,k,M){switch(u>>>30){case 3:ls(f,_,k,M,0);break;case 2:Pn(f,_,k,M);break;case 1:Dr(f,_,k,M)}}function Io(u,f){var _,k,M=f.M,B=f.Nb,U=u.oc,$=u.pc+40,G=u.oc,te=u.pc+584,ae=u.oc,_e=u.pc+600;for(_=0;16>_;++_)U[$+32*_-1]=129;for(_=0;8>_;++_)G[te+32*_-1]=129,ae[_e+32*_-1]=129;for(0<M?U[$-1-32]=G[te-1-32]=ae[_e-1-32]=129:(i(U,$-32-1,127,21),i(G,te-32-1,127,9),i(ae,_e-32-1,127,9)),k=0;k<u.za;++k){var be=f.ya[f.aa+k];if(0<k){for(_=-1;16>_;++_)r(U,$+32*_-4,U,$+32*_+12,4);for(_=-1;8>_;++_)r(G,te+32*_-4,G,te+32*_+4,4),r(ae,_e+32*_-4,ae,_e+32*_+4,4)}var ge=u.Gd,Te=u.Hd+k,Ae=be.ad,le=be.Hc;if(0<M&&(r(U,$-32,ge[Te].y,0,16),r(G,te-32,ge[Te].f,0,8),r(ae,_e-32,ge[Te].ea,0,8)),be.Za){var he=U,Ee=$-32+16;for(0<M&&(k>=u.za-1?i(he,Ee,ge[Te].y[15],4):r(he,Ee,ge[Te+1].y,0,4)),_=0;4>_;_++)he[Ee+128+_]=he[Ee+256+_]=he[Ee+384+_]=he[Ee+0+_];for(_=0;16>_;++_,le<<=2)he=U,Ee=$+Wv[_],to[be.Ob[_]](he,Ee),ir(le,Ae,16*+_,he,Ee)}else if(he=eo(k,M,be.Ob[0]),ea[he](U,$),le!=0)for(_=0;16>_;++_,le<<=2)ir(le,Ae,16*+_,U,$+Wv[_]);for(_=be.Gc,he=eo(k,M,be.Dd),cs[he](G,te),cs[he](ae,_e),le=Ae,he=G,Ee=te,255&(be=_>>0)&&(170&be?Vc(le,256,he,Ee):Ii(le,256,he,Ee)),be=ae,le=_e,255&(_>>=8)&&(170&_?Vc(Ae,320,be,le):Ii(Ae,320,be,le)),M<u.Ub-1&&(r(ge[Te].y,0,U,$+480,16),r(ge[Te].f,0,G,te+224,8),r(ge[Te].ea,0,ae,_e+224,8)),_=8*B*u.B,ge=u.sa,Te=u.ta+16*k+16*B*u.R,Ae=u.qa,be=u.ra+8*k+_,le=u.Ha,he=u.Ia+8*k+_,_=0;16>_;++_)r(ge,Te+_*u.R,U,$+32*_,16);for(_=0;8>_;++_)r(Ae,be+_*u.B,G,te+32*_,8),r(le,he+_*u.B,ae,_e+32*_,8)}}function ko(u,f,_,k,M,B,U,$,G){var te=[0],ae=[0],_e=0,be=G!=null?G.kd:0,ge=G??new Ws;if(u==null||12>_)return 7;ge.data=u,ge.w=f,ge.ha=_,f=[f],_=[_],ge.gb=[ge.gb];e:{var Te=f,Ae=_,le=ge.gb;if(e(u!=null),e(Ae!=null),e(le!=null),le[0]=0,12<=Ae[0]&&!n(u,Te[0],"RIFF")){if(n(u,Te[0]+8,"WEBP")){le=3;break e}var he=Ve(u,Te[0]+4);if(12>he||4294967286<he){le=3;break e}if(be&&he>Ae[0]-8){le=7;break e}le[0]=he,Te[0]+=12,Ae[0]-=12}le=0}if(le!=0)return le;for(he=0<ge.gb[0],_=_[0];;){e:{var Ee=u;Ae=f,le=_;var Le=te,Pe=ae,Ge=Te=[0];if((We=_e=[_e])[0]=0,8>le[0])le=7;else{if(!n(Ee,Ae[0],"VP8X")){if(Ve(Ee,Ae[0]+4)!=10){le=3;break e}if(18>le[0]){le=7;break e}var qe=Ve(Ee,Ae[0]+8),lt=1+Me(Ee,Ae[0]+12);if(2147483648<=lt*(Ee=1+Me(Ee,Ae[0]+15))){le=3;break e}Ge!=null&&(Ge[0]=qe),Le!=null&&(Le[0]=lt),Pe!=null&&(Pe[0]=Ee),Ae[0]+=18,le[0]-=18,We[0]=1}le=0}}if(_e=_e[0],Te=Te[0],le!=0)return le;if(Ae=!!(2&Te),!he&&_e)return 3;if(B!=null&&(B[0]=!!(16&Te)),U!=null&&(U[0]=Ae),$!=null&&($[0]=0),U=te[0],Te=ae[0],_e&&Ae&&G==null){le=0;break}if(4>_){le=7;break}if(he&&_e||!he&&!_e&&!n(u,f[0],"ALPH")){_=[_],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{qe=u,le=f,he=_;var We=ge.gb;Le=ge.na,Pe=ge.P,Ge=ge.Sa,lt=22,e(qe!=null),e(he!=null),Ee=le[0];var Ot=he[0];for(e(Le!=null),e(Ge!=null),Le[0]=null,Pe[0]=null,Ge[0]=0;;){if(le[0]=Ee,he[0]=Ot,8>Ot){le=7;break e}var zt=Ve(qe,Ee+4);if(4294967286<zt){le=3;break e}var Rt=8+zt+1&-2;if(lt+=Rt,0<We&&lt>We){le=3;break e}if(!n(qe,Ee,"VP8 ")||!n(qe,Ee,"VP8L")){le=0;break e}if(Ot[0]<Rt){le=7;break e}n(qe,Ee,"ALPH")||(Le[0]=qe,Pe[0]=Ee+8,Ge[0]=zt),Ee+=Rt,Ot-=Rt}}if(_=_[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],le!=0)break}_=[_],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(We=u,le=f,he=_,Le=ge.gb[0],Pe=ge.Ja,Ge=ge.xa,qe=le[0],Ee=!n(We,qe,"VP8 "),lt=!n(We,qe,"VP8L"),e(We!=null),e(he!=null),e(Pe!=null),e(Ge!=null),8>he[0])le=7;else{if(Ee||lt){if(We=Ve(We,qe+4),12<=Le&&We>Le-12){le=3;break e}if(be&&We>he[0]-8){le=7;break e}Pe[0]=We,le[0]+=8,he[0]-=8,Ge[0]=lt}else Ge[0]=5<=he[0]&&We[qe+0]==47&&!(We[qe+4]>>5),Pe[0]=he[0];le=0}if(_=_[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],f=f[0],le!=0)break;if(4294967286<ge.Ja)return 3;if($==null||Ae||($[0]=ge.xa?2:1),U=[U],Te=[Te],ge.xa){if(5>_){le=7;break}$=U,be=Te,Ae=B,u==null||5>_?u=0:5<=_&&u[f+0]==47&&!(u[f+4]>>5)?(he=[0],We=[0],Le=[0],Q(Pe=new O,u,f,_),Qe(Pe,he,We,Le)?($!=null&&($[0]=he[0]),be!=null&&(be[0]=We[0]),Ae!=null&&(Ae[0]=Le[0]),u=1):u=0):u=0}else{if(10>_){le=7;break}$=Te,u==null||10>_||!Ja(u,f+3,_-3)?u=0:(be=u[f+0]|u[f+1]<<8|u[f+2]<<16,Ae=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=ge.Ja||!Ae||!u?u=0:(U&&(U[0]=Ae),$&&($[0]=u),u=1))}if(!u||(U=U[0],Te=Te[0],_e&&(te[0]!=U||ae[0]!=Te)))return 3;G!=null&&(G[0]=ge,G.offset=f-G.w,e(4294967286>f-G.w),e(G.offset==G.ha-_));break}return le==0||le==7&&_e&&G==null?(B!=null&&(B[0]|=ge.na!=null&&0<ge.na.length),k!=null&&(k[0]=U),M!=null&&(M[0]=Te),0):le}function Fc(u,f,_){var k=f.width,M=f.height,B=0,U=0,$=k,G=M;if(f.Da=u!=null&&0<u.Da,f.Da&&($=u.cd,G=u.bd,B=u.v,U=u.j,11>_||(B&=-2,U&=-2),0>B||0>U||0>=$||0>=G||B+$>k||U+G>M))return 0;if(f.v=B,f.j=U,f.va=B+$,f.o=U+G,f.U=$,f.T=G,f.da=u!=null&&0<u.da,f.da){if(!Je($,G,_=[u.ib],B=[u.hb]))return 0;f.ib=_[0],f.hb=B[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*k/4&&f.hb<3*M/4,f.Kb=0),1}function Oc(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function uu(u,f,_,k){if(k==null||0>=u||0>=f)return 2;if(_!=null){if(_.Da){var M=_.cd,B=_.bd,U=-2&_.v,$=-2&_.j;if(0>U||0>$||0>=M||0>=B||U+M>u||$+B>f)return 2;u=M,f=B}if(_.da){if(!Je(u,f,M=[_.ib],B=[_.hb]))return 2;u=M[0],f=B[0]}}k.width=u,k.height=f;e:{var G=k.width,te=k.height;if(u=k.S,0>=G||0>=te||!(u>=Df&&13>u))u=2;else{if(0>=k.Rd&&k.sd==null){U=B=M=f=0;var ae=($=G*Gv[u])*te;if(11>u||(B=(te+1)/2*(f=(G+1)/2),u==12&&(U=(M=G)*te)),(te=o(ae+2*B+U))==null){u=1;break e}k.sd=te,11>u?((G=k.f.RGBA).eb=te,G.fb=0,G.A=$,G.size=ae):((G=k.f.kb).y=te,G.O=0,G.fa=$,G.Fd=ae,G.f=te,G.N=0+ae,G.Ab=f,G.Cd=B,G.ea=te,G.W=0+ae+B,G.Db=f,G.Ed=B,u==12&&(G.F=te,G.J=0+ae+2*B),G.Tc=U,G.lb=M)}if(f=1,M=k.S,B=k.width,U=k.height,M>=Df&&13>M)if(11>M)u=k.f.RGBA,f&=($=Math.abs(u.A))*(U-1)+B<=u.size,f&=$>=B*Gv[M],f&=u.eb!=null;else{u=k.f.kb,$=(B+1)/2,ae=(U+1)/2,G=Math.abs(u.fa),te=Math.abs(u.Ab);var _e=Math.abs(u.Db),be=Math.abs(u.lb),ge=be*(U-1)+B;f&=G*(U-1)+B<=u.Fd,f&=te*(ae-1)+$<=u.Cd,f=(f&=_e*(ae-1)+$<=u.Ed)&G>=B&te>=$&_e>=$,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,M==12&&(f&=be>=B,f&=ge<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||_!=null&&_.fd&&(u=Oc(k)),u}var or=64,cu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hu=24,fu=32,jc=8,Hr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),b.Predictor0=function(){return 4278190080},b.Predictor1=function(u){return u},b.Predictor2=function(u,f,_){return f[_+0]},b.Predictor3=function(u,f,_){return f[_+1]},b.Predictor4=function(u,f,_){return f[_-1]},b.Predictor5=function(u,f,_){return Ue(Ue(u,f[_+1]),f[_+0])},b.Predictor6=function(u,f,_){return Ue(u,f[_-1])},b.Predictor7=function(u,f,_){return Ue(u,f[_+0])},b.Predictor8=function(u,f,_){return Ue(f[_-1],f[_+0])},b.Predictor9=function(u,f,_){return Ue(f[_+0],f[_+1])},b.Predictor10=function(u,f,_){return Ue(Ue(u,f[_-1]),Ue(f[_+0],f[_+1]))},b.Predictor11=function(u,f,_){var k=f[_+0];return 0>=ht(k>>24&255,u>>24&255,(f=f[_-1])>>24&255)+ht(k>>16&255,u>>16&255,f>>16&255)+ht(k>>8&255,u>>8&255,f>>8&255)+ht(255&k,255&u,255&f)?k:u},b.Predictor12=function(u,f,_){var k=f[_+0];return(tt((u>>24&255)+(k>>24&255)-((f=f[_-1])>>24&255))<<24|tt((u>>16&255)+(k>>16&255)-(f>>16&255))<<16|tt((u>>8&255)+(k>>8&255)-(f>>8&255))<<8|tt((255&u)+(255&k)-(255&f)))>>>0},b.Predictor13=function(u,f,_){var k=f[_-1];return(st((u=Ue(u,f[_+0]))>>24&255,k>>24&255)<<24|st(u>>16&255,k>>16&255)<<16|st(u>>8&255,k>>8&255)<<8|st(u>>0&255,k>>0&255))>>>0};var jm=b.PredictorAdd0;b.PredictorAdd1=Ze,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var Mc=b.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Cf,Ni=b.ColorIndexInverseTransform,du=b.MapARGB,Nf=b.VP8LColorIndexInverseTransformAlpha,If=b.MapAlpha,Ys=b.VP8LPredictorsAdd=[];Ys.length=16,(b.VP8LPredictors=[]).length=16,(b.VP8LPredictorsAdd_C=[]).length=16,(b.VP8LPredictors_C=[]).length=16;var cl,Wr,Rr,Xs,ss,as,pu,ls,Pn,Vc,Dr,Ii,mu,kf,Bc,hl,fl,Js,dl,gu,pl,Zs,Uc,ki,Li,Jt,Zt,Tn,$n=o(511),us=o(2041),zc=o(225),vu=o(767),Lf=0,Mm=us,Rf=zc,fi=vu,Ri=$n,Df=0,Ff=1,Fv=2,Of=3,jf=4,Vm=5,Ov=6,Bm=7,Um=8,Mf=9,zm=10,VA=[2,3,7],BA=[3,3,11],jv=[280,256,256,256,40],UA=[0,1,1,1,0],zA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$A=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],HA=8,qm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$m=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qc=null,WA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],GA=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Mv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],KA=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],QA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],YA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],XA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ea=[],to=[],cs=[],JA=1,Vv=2,ta=[],Di=[];xe("UpsampleRgbLinePair",q,3),xe("UpsampleBgrLinePair",de,3),xe("UpsampleRgbaLinePair",vt,4),xe("UpsampleBgraLinePair",xt,4),xe("UpsampleArgbLinePair",gt,4),xe("UpsampleRgba4444LinePair",Oe,2),xe("UpsampleRgb565LinePair",Se,2);var ZA=b.UpsampleRgbLinePair,ex=b.UpsampleBgrLinePair,Bv=b.UpsampleRgbaLinePair,Uv=b.UpsampleBgraLinePair,zv=b.UpsampleArgbLinePair,qv=b.UpsampleRgba4444LinePair,tx=b.UpsampleRgb565LinePair,Vf=16,Bf=1<<Vf-1,$c=-227,Hm=482,$v=6,nx=(256<<$v)-1,Hv=0,rx=o(256),ix=o(256),ox=o(256),sx=o(256),ax=o(Hm-$c),lx=o(Hm-$c);Gt("YuvToRgbRow",q,3),Gt("YuvToBgrRow",de,3),Gt("YuvToRgbaRow",vt,4),Gt("YuvToBgraRow",xt,4),Gt("YuvToArgbRow",gt,4),Gt("YuvToRgba4444Row",Oe,2),Gt("YuvToRgb565Row",Se,2);var Wv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Uf=[0,2,8],ux=[8,7,6,4,4,2,2,2,1,1,1,1],cx=1;this.WebPDecodeRGBA=function(u,f,_,k,M){var B=Ff,U=new is,$=new nr;U.ba=$,$.S=B,$.width=[$.width],$.height=[$.height];var G=$.width,te=$.height,ae=new si;if(ae==null||u==null)var _e=2;else e(ae!=null),_e=ko(u,f,_,ae.width,ae.height,ae.Pd,ae.Qd,ae.format,null);if(_e!=0?G=0:(G!=null&&(G[0]=ae.width[0]),te!=null&&(te[0]=ae.height[0]),G=1),G){$.width=$.width[0],$.height=$.height[0],k!=null&&(k[0]=$.width),M!=null&&(M[0]=$.height);e:{if(k=new Jo,(M=new Ws).data=u,M.w=f,M.ha=_,M.kd=1,f=[0],e(M!=null),((u=ko(M.data,M.w,M.ha,null,null,null,f,null,M))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(e(U!=null),k.data=M.data,k.w=M.w+M.offset,k.ha=M.ha-M.offset,k.put=dr,k.ac=Dn,k.bc=ai,k.ma=U,M.xa){if((u=En())==null){U=1;break e}if(function(be,ge){var Te=[0],Ae=[0],le=[0];t:for(;;){if(be==null)return 0;if(ge==null)return be.a=2,0;if(be.l=ge,be.a=0,Q(be.m,ge.data,ge.w,ge.ha),!Qe(be.m,Te,Ae,le)){be.a=3;break t}if(be.xb=Vv,ge.width=Te[0],ge.height=Ae[0],!li(Te[0],Ae[0],1,be,null))break t;return 1}return e(be.a!=0),0}(u,k)){if(k=(f=uu(k.width,k.height,U.Oa,U.ba))==0){t:{k=u;n:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((_=k.l)!=null),e((M=_.ma)!=null),k.xb!=0){if(k.ca=M.ba,k.tb=M.tb,e(k.ca!=null),!Fc(M.Oa,_,Of)){k.a=2;break n}if(!_o(k,_.width)||_.da)break n;if((_.da||Nt(k.ca.S))&&me(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&me()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!it(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!Ir(k,k.V,k.Ba,k.c,k.i,_.o,Ls))break n;M.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(f=u.a)}else f=u.a}else{if((u=new Xa)==null){U=1;break e}if(u.Fa=M.na,u.P=M.P,u.qc=M.Sa,Za(u,k)){if((f=uu(k.width,k.height,U.Oa,U.ba))==0){if(u.Aa=0,_=U.Oa,e((M=u)!=null),_!=null){if(0<(G=0>(G=_.Md)?0:100<G?255:255*G/100)){for(te=ae=0;4>te;++te)12>(_e=M.pb[te]).lc&&(_e.ia=G*ux[0>_e.lc?0:_e.lc]>>3),ae|=_e.ia;ae&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=_.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}nu(u,k)||(f=u.a)}}else f=u.a}f==0&&U.Oa!=null&&U.Oa.fd&&(f=Oc(U.ba))}U=f}B=U!=0?null:11>B?$.f.RGBA.eb:$.f.kb.y}else B=null;return B};var Gv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(b,T){for(var R="",E=0;E<4;E++)R+=String.fromCharCode(b[T++]);return R}function d(b,T){return(b[T+0]<<0|b[T+1]<<8|b[T+2]<<16)>>>0}function m(b,T){return(b[T+0]<<0|b[T+1]<<8|b[T+2]<<16|b[T+3]<<24)>>>0}new l;var g=[0],p=[0],P=[],N=new l,L=t,w=function(b,T){var R={},E=0,S=!1,I=0,K=0;if(R.frames=[],!function(H,X,ne,ie){for(var pe=0;pe<ie;pe++)if(H[X+pe]!=ne.charCodeAt(pe))return!0;return!1}(b,T,"RIFF",4)){var ce,ee;for(m(b,T+=4),T+=8;T<b.length;){var J=h(b,T),Q=m(b,T+=4);T+=4;var Y=Q+(1&Q);switch(J){case"VP8 ":case"VP8L":R.frames[E]===void 0&&(R.frames[E]={}),(O=R.frames[E]).src_off=S?K:T-8,O.src_size=I+Q+8,E++,S&&(S=!1,I=0,K=0);break;case"VP8X":(O=R.header={}).feature_flags=b[T];var oe=T+4;O.canvas_width=1+d(b,oe),oe+=3,O.canvas_height=1+d(b,oe),oe+=3;break;case"ALPH":S=!0,I=Y+8,K=T-8;break;case"ANIM":(O=R.header).bgcolor=m(b,T),oe=T+4,O.loop_count=(ce=b)[(ee=oe)+0]<<0|ce[ee+1]<<8,oe+=2;break;case"ANMF":var ve,O;(O=R.frames[E]={}).offset_x=2*d(b,T),T+=3,O.offset_y=2*d(b,T),T+=3,O.width=1+d(b,T),T+=3,O.height=1+d(b,T),T+=3,O.duration=d(b,T),T+=3,ve=b[T++],O.dispose=1&ve,O.blend=ve>>1&1}J!="ANMF"&&(T+=Y)}return R}}(L,0);w.response=L,w.rgbaoutput=!0,w.dataurl=!1;var y=w.header?w.header:null,A=w.frames?w.frames:null;if(y){y.loop_counter=y.loop_count,g=[y.canvas_height],p=[y.canvas_width];for(var F=0;F<A.length&&A[F].blend!=0;F++);}var V=A[0],z=N.WebPDecodeRGBA(L,V.src_off,V.src_size,p,g);V.rgba=z,V.imgwidth=p[0],V.imgheight=g[0];for(var C=0;C<p[0]*g[0]*4;C++)P[C]=z[C];return this.width=p,this.height=g,this.data=P,this}(function(t){var e=function(){return typeof k0=="function"},n=function(g,p,P,N){var L=4,w=s;switch(N){case t.image_compression.FAST:L=1,w=o;break;case t.image_compression.MEDIUM:L=6,w=a;break;case t.image_compression.SLOW:L=9,w=l}g=r(g,p,P,w);var y=k0(g,{level:L});return t.__addimage__.arrayBufferToBinaryString(y)},r=function(g,p,P,N){for(var L,w,y,A=g.length/p,F=new Uint8Array(g.length+A),V=d(),z=0;z<A;z+=1){if(y=z*p,L=g.subarray(y,y+p),N)F.set(N(L,P,w),y+z);else{for(var C,b=V.length,T=[];C<b;C+=1)T[C]=V[C](L,P,w);var R=m(T.concat());F.set(T[R],y+z)}w=L}return F},i=function(g){var p=Array.apply([],g);return p.unshift(0),p},o=function(g,p){var P,N=[],L=g.length;N[0]=1;for(var w=0;w<L;w+=1)P=g[w-p]||0,N[w+1]=g[w]-P+256&255;return N},s=function(g,p,P){var N,L=[],w=g.length;L[0]=2;for(var y=0;y<w;y+=1)N=P&&P[y]||0,L[y+1]=g[y]-N+256&255;return L},a=function(g,p,P){var N,L,w=[],y=g.length;w[0]=3;for(var A=0;A<y;A+=1)N=g[A-p]||0,L=P&&P[A]||0,w[A+1]=g[A]+256-(N+L>>>1)&255;return w},l=function(g,p,P){var N,L,w,y,A=[],F=g.length;A[0]=4;for(var V=0;V<F;V+=1)N=g[V-p]||0,L=P&&P[V]||0,w=P&&P[V-p]||0,y=h(N,L,w),A[V+1]=g[V]-y+256&255;return A},h=function(g,p,P){if(g===p&&p===P)return g;var N=Math.abs(p-P),L=Math.abs(g-P),w=Math.abs(g+p-P-P);return N<=L&&N<=w?g:L<=w?p:P},d=function(){return[i,o,s,a,l]},m=function(g){var p=g.map(function(P){return P.reduce(function(N,L){return N+Math.abs(L)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(g,p,P,N){var L,w,y,A,F,V,z,C,b,T,R,E,S,I,K,ce=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(y=new g7(g)).imgData,w=y.bits,L=y.colorSpace,F=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){b=(C=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,R=new Uint8Array(b*y.colors),T=new Uint8Array(b);var J,Q=y.pixelBitlength-y.bits;for(I=0,K=0;I<b;I++){for(S=C[I],J=0;J<Q;)R[K++]=S>>>J&255,J+=y.bits;T[I]=S>>>J&255}}if(y.bits===16){b=(C=new Uint32Array(y.decodePixels().buffer)).length,R=new Uint8Array(b*(32/y.pixelBitlength)*y.colors),T=new Uint8Array(b*(32/y.pixelBitlength)),E=y.colors>1,I=0,K=0;for(var Y=0;I<b;)S=C[I++],R[K++]=S>>>0&255,E&&(R[K++]=S>>>16&255,S=C[I++],R[K++]=S>>>0&255),T[Y++]=S>>>16&255;w=8}N!==t.image_compression.NONE&&e()?(g=n(R,y.width*y.colors,y.colors,N),z=n(T,y.width,1,N)):(g=R,z=T,ce=void 0)}if(y.colorType===3&&(L=this.color_spaces.INDEXED,V=y.palette,y.transparency.indexed)){var oe=y.transparency.indexed,ve=0;for(I=0,b=oe.length;I<b;++I)ve+=oe[I];if((ve/=255)===b-1&&oe.indexOf(0)!==-1)A=[oe.indexOf(0)];else if(ve!==b){for(C=y.decodePixels(),T=new Uint8Array(C.length),I=0,b=C.length;I<b;I++)T[I]=oe[C[I]];z=n(T,y.width,1)}}var O=function(H){var X;switch(H){case t.image_compression.FAST:X=11;break;case t.image_compression.MEDIUM:X=13;break;case t.image_compression.SLOW:X=14;break;default:X=12}return X}(N);return ce===this.decode.FLATE_DECODE&&(ee="/Predictor "+O+" "),ee+="/Colors "+F+" /BitsPerComponent "+w+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:P,data:g,index:p,filter:ce,decodeParameters:ee,transparency:A,palette:V,sMask:z,predictor:O,width:y.width,height:y.height,bitsPerComponent:w,colorSpace:L}}}})(ut.API),function(t){t.processGIF89A=function(e,n,r,i){var o=new v7(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var h={data:l,width:s,height:a},d=new Zg(100).encode(h,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(ut.API),oo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},oo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Qt.log("bit decode error:"+n)}},oo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},oo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,h=this.palette[a];if(this.data[s]=h.blue,this.data[s+1]=h.green,this.data[s+2]=h.red,this.data[s+3]=255,2*i+1>=this.width)break;h=this.palette[l],this.data[s+4]=h.blue,this.data[s+4+1]=h.green,this.data[s+4+2]=h.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},oo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},oo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,h=o>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=h}this.pos+=t}},oo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,h=(s>>11)/e*255|0,d=i*this.width*4+4*o;this.data[d]=h,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},oo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},oo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},oo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var o=new oo(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},h=new Zg(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(ut.API),u_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var o=new u_(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},h=new Zg(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(ut.API),ut.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,h=0;h<i;h+=4){var d=r[h],m=r[h+1],g=r[h+2],p=r[h+3];o[a++]=d,o[a++]=m,o[a++]=g,s[l++]=p}var P=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:P,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ut.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pu=ut.API,Cd=Pu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=h.fof?h.fof:1,m=e.doKerning!==!1,g=0,p=t.length,P=0,N=a[0]||l,L=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?L.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(g=m&&$t(h[r])==="object"&&!isNaN(parseInt(h[r][P],10))?h[r][P]/d:0,L.push((a[r]||N)/l+g)),P=r;return L},o_=Pu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Pu.processArabic&&(t=Pu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Cd.apply(this,arguments).reduce(function(o,s){return o+s},0)},s_=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},a_=function(t,e,n){n||(n={});var r,i,o,s,a,l,h,d=[],m=[d],g=n.textIndent||0,p=0,P=0,N=t.split(" "),L=Cd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?N[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),y=[];N.map(function(F){(F=F.split(/\s*\n/)).length>1?y=y.concat(F.map(function(V,z){return(z&&V.length?`
`:"")+V})):y.push(F[0])}),N=y,l=o_.apply(this,[w,n])}for(o=0,s=N.length;o<s;o++){var A=0;if(r=N[o],l&&r[0]==`
`&&(r=r.substr(1),A=1),g+p+(P=(i=Cd.apply(this,[r,n])).reduce(function(F,V){return F+V},0))>e||A){if(P>e){for(a=s_.apply(this,[r,i,e-(g+p),e]),d.push(a.shift()),d=[a.pop()];a.length;)m.push([a.shift()]);P=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(F,V){return F+V},0)}else d=[r];m.push(d),g=P+l,p=L}else d.push(r),g+=p+P,p=L}return h=l?function(F,V){return(V?w:"")+F.join(" ")}:function(F){return F.join(" ")},m.map(h)},Pu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,h=[];for(a=0,l=r.length;a<l;a++)h=h.concat(a_.apply(this,[r[a],s,o]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},s=t.__fontmetrics__.compress=function(m){var g,p,P,N,L=["{"];for(var w in m){if(g=m[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=o(w).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof g=="number")g<0?(P=o(g).slice(3),N="-"):(P=o(g).slice(2),N=""),P=N+P.slice(0,-1)+r[P.slice(-1)];else{if($t(g)!=="object")throw new Error("Don't know what to do with value type "+$t(g)+".");P=s(g)}L.push(p+P)}return L.push("}"),L.join("")},a=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,p,P,N,L={},w=1,y=L,A=[],F="",V="",z=m.length-1,C=1;C<z;C+=1)(N=m[C])=="'"?g?(P=g.join(""),g=void 0):g=[]:g?g.push(N):N=="{"?(A.push([y,P]),y={},P=void 0):N=="}"?((p=A.pop())[0][p[1]]=y,P=void 0,y=p[0]):N=="-"?w=-1:P===void 0?n.hasOwnProperty(N)?(F+=n[N],P=parseInt(F,16)*w,w=1,F=""):F+=N:n.hasOwnProperty(N)?(V+=n[N],y[P]=parseInt(V,16)*w,w=1,P=void 0,V=""):V+=N;return L},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var g=m.font,p=d.Unicode[g.postScriptName];p&&(g.metadata.Unicode={},g.metadata.Unicode.widths=p.widths,g.metadata.Unicode.kerning=p.kerning);var P=h.Unicode[g.postScriptName];P&&(g.metadata.Unicode.encoding=P,g.encoding=P.codePages[0])}])}(ut.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(kh(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(ut),function(t){function e(){return(ct.canvg?Promise.resolve(ct.canvg):P0(()=>import("./index.es-Bv9k__IJ.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ut.API.addSvgAsImage=function(n,r,i,o,s,a,l,h){if(isNaN(r)||isNaN(i))throw Qt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw Qt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=o,d.height=s;var m=d.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,d.width,d.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(P){return P.fromString(m,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(P){return P.render(g)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),r,i,o,s,l,h)})}}(),ut.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ut.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],h=0,d=0,m=0;function g(P,N){var L,w=!1;for(L=0;L<P.length;L+=1)P[L]===N&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(m=0;m<p;m+=1)n[a[m]].value=n[a[m]].defaultValue,n[a[m]].explicitSet=!1}if($t(t)==="object"){for(i in t)if(o=t[i],g(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&g(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(h=0;h<o.length;h+=1)if(r=!0,o[h].length===1&&typeof o[h][0]=="number")l.push(String(o[h]-1));else if(o[h].length>1){for(d=0;d<o[h].length;d+=1)typeof o[h][d]!="number"&&(r=!1);r===!0&&l.push([o[h][0]-1,o[h][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,N=[];for(P in n)n[P].explicitSet===!0&&(n[P].type==="name"?N.push("/"+P+" /"+n[P].value):N.push("/"+P+" "+n[P].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),h=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ut.API),function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],m=0,g=o.length;m<g;++m){if(a=s.metadata.characterToGlyph(o.charCodeAt(m)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(m),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(h[4-a.length],a)}return d.join("")},r=function(o){var s,a,l,h,d,m,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,g=(a=Object.keys(o).sort(function(p,P){return p-P})).length;m<g;m++)s=a[m],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(h=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+h+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,h=s.newObject,d=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var m=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",P=0;P<g.length;P++)p+=String.fromCharCode(g[P]);var N=h();d({data:p,addLength1:!0,objectId:N}),l("endobj");var L=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:L}),l("endobj");var w=h();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Lu(a.fontName)),l("/FontFile2 "+N+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var y=h();l("<<"),l("/Type /Font"),l("/BaseFont /"+Lu(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=h(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+L+" 0 R"),l("/BaseFont /"+Lu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,h=s.newObject,d=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var m=a.metadata.rawData,g="",p=0;p<m.length;p++)g+=String.fromCharCode(m[p]);var P=h();d({data:g,addLength1:!0,objectId:P}),l("endobj");var N=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var L=h();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+P+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Lu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=h();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Lu(a.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,h=o.y,d=o.options||{},m=o.mutex||{},g=m.pdfEscape,p=m.activeFontKey,P=m.fonts,N=p,L="",w=0,y="",A=P[N].encoding;if(P[N].encoding!=="Identity-H")return{text:a,x:l,y:h,options:d,mutex:m};for(y=a,N=p,Array.isArray(a)&&(y=a[0]),w=0;w<y.length;w+=1)P[N].metadata.hasOwnProperty("cmap")&&(s=P[N].metadata.cmap.unicode.codeMap[y[w].charCodeAt(0)]),s||y[w].charCodeAt(0)<256&&P[N].metadata.hasOwnProperty("Unicode")?L+=y[w]:L+="";var F="";return parseInt(N.slice(1))<14||A==="WinAnsiEncoding"?F=g(L,N).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(F=n(L,P[N])),m.isHex=!0,{text:F,x:l,y:h,options:d,mutex:m}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var h=0;for(h=0;h<s.length;h+=1)Array.isArray(s[h])&&s[h].length===3?a.push([i(Object.assign({},l,{text:s[h][0]})).text,s[h][1],s[h][2]]):a.push(i(Object.assign({},l,{text:s[h]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(ut),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ut.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,l,h,d,m=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,A=0;this.__bidiEngine__={};var F=function(E){var S=E.charCodeAt(),I=S>>8,K=N[I];return K!==void 0?m[256*K+(255&S)]:I===252||I===253?"AL":w.test(I)?"L":I===8?"R":"N"},V=function(E){for(var S,I=0;I<E.length;I++){if((S=F(E.charAt(I)))==="L")return!1;if(S==="R")return!0}return!1},z=function(E,S,I,K){var ce,ee,J,Q,Y=S[K];switch(Y){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(Y="AN");break;case"AL":y=!0,Y="R";break;case"WS":Y="N";break;case"CS":K<1||K+1>=S.length||(ce=I[K-1])!=="EN"&&ce!=="AN"||(ee=S[K+1])!=="EN"&&ee!=="AN"?Y="N":y&&(ee="AN"),Y=ee===ce?ee:"N";break;case"ES":Y=(ce=K>0?I[K-1]:"B")==="EN"&&K+1<S.length&&S[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&I[K-1]==="EN"){Y="EN";break}if(y){Y="N";break}for(J=K+1,Q=S.length;J<Q&&S[J]==="ET";)J++;Y=J<Q&&S[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(Q=S.length,J=K+1;J<Q&&S[J]==="NSM";)J++;if(J<Q){var oe=E[K],ve=oe>=1425&&oe<=2303||oe===64286;if(ce=S[J],ve&&(ce==="R"||ce==="AL")){Y="R";break}}}Y=K<1||(ce=S[K-1])==="B"?"N":I[K-1];break;case"B":y=!1,i=!0,Y=A;break;case"S":o=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":Y="N"}return Y},C=function(E,S,I){var K=E.split("");return I&&b(K,I,{hiLevel:A}),K.reverse(),S&&S.reverse(),K.join("")},b=function(E,S,I){var K,ce,ee,J,Q,Y=-1,oe=E.length,ve=0,O=[],H=A?p:g,X=[];for(y=!1,i=!1,o=!1,ce=0;ce<oe;ce++)X[ce]=F(E[ce]);for(ee=0;ee<oe;ee++){if(Q=ve,O[ee]=z(E,X,O,ee),K=240&(ve=H[Q][P[O[ee]]]),ve&=15,S[ee]=J=H[ve][5],K>0)if(K===16){for(ce=Y;ce<ee;ce++)S[ce]=1;Y=-1}else Y=-1;if(H[ve][6])Y===-1&&(Y=ee);else if(Y>-1){for(ce=Y;ce<ee;ce++)S[ce]=J;Y=-1}X[ee]==="B"&&(S[ee]=0),I.hiLevel|=J}o&&function(ne,ie,pe){for(var ye=0;ye<pe;ye++)if(ne[ye]==="S"){ie[ye]=A;for(var we=ye-1;we>=0&&ne[we]==="WS";we--)ie[we]=A}}(X,S,oe)},T=function(E,S,I,K,ce){if(!(ce.hiLevel<E)){if(E===1&&A===1&&!i)return S.reverse(),void(I&&I.reverse());for(var ee,J,Q,Y,oe=S.length,ve=0;ve<oe;){if(K[ve]>=E){for(Q=ve+1;Q<oe&&K[Q]>=E;)Q++;for(Y=ve,J=Q-1;Y<J;Y++,J--)ee=S[Y],S[Y]=S[J],S[J]=ee,I&&(ee=I[Y],I[Y]=I[J],I[J]=ee);ve=Q}ve++}}},R=function(E,S,I){var K=E.split(""),ce={hiLevel:A};return I||(I=[]),b(K,I,ce),function(ee,J,Q){if(Q.hiLevel!==0&&d)for(var Y,oe=0;oe<ee.length;oe++)J[oe]===1&&(Y=L.indexOf(ee[oe]))>=0&&(ee[oe]=L[Y+1])}(K,I,ce),T(2,K,S,I,ce),T(1,K,S,I,ce),K.join("")};return this.__bidiEngine__.doBidiReorder=function(E,S,I){if(function(ce,ee){if(ee)for(var J=0;J<ce.length;J++)ee[J]=J;a===void 0&&(a=V(ce)),h===void 0&&(h=V(ce))}(E,S),s||!l||h)if(s&&l&&a^h)A=a?1:0,E=C(E,S,I);else if(!s&&l&&h)A=a?1:0,E=R(E,S,I),E=C(E,S);else if(!s||a||l||h){if(s&&!l&&a^h)E=C(E,S),a?(A=0,E=R(E,S,I)):(A=1,E=R(E,S,I),E=C(E,S));else if(s&&a&&!l&&h)A=1,E=R(E,S,I),E=C(E,S);else if(!s&&!l&&a^h){var K=d;a?(A=1,E=R(E,S,I),A=0,d=!1,E=R(E,S,I),d=K):(A=0,E=R(E,S,I),E=C(E,S),A=1,d=!1,E=R(E,S,I),d=K,E=C(E,S))}}else A=0,E=R(E,S,I);else A=a?1:0,E=R(E,S,I);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,h=E.isOutputRtl,d=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,o=(r.x,r.y,r.options||{}),s=(r.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ut),ut.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new $a(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new L7(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new y7(this.contents),this.head=new _7(this),this.name=new E7(this),this.cmap=new jA(this),this.toUnicode={},this.hhea=new b7(this),this.maxp=new P7(this),this.hmtx=new T7(this),this.post=new A7(this),this.os2=new S7(this),this.loca=new k7(this),this.glyf=new C7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,h;for(h=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var yo,$a=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t}(),y7=function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,s,a,l,h,d,m,g,p,P,N;for(N in p=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(p)/l),s=Math.floor(m/l),d=16*p-m,(i=new $a).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(s),i.writeShort(d),o=16*p,h=i.pos+o,a=null,P=[],n)for(g=n[N],i.writeString(N),i.writeInt(t(g)),i.writeInt(h),i.writeInt(g.length),P=P.concat(g),N==="head"&&(a=h),h+=g.length;h%4;)P.push(0),h++;return i.write(P),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=MA.call(n);n.length%4;)n.push(0);for(o=new $a(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),w7={}.hasOwnProperty,Ko=function(t,e){for(var n in e)w7.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};yo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var _7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,yo),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new $a).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),c_=function(){function t(e,n){var r,i,o,s,a,l,h,d,m,g,p,P,N,L,w,y,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,o=function(){var F,V;for(V=[],l=F=0;0<=g?F<g:F>g;l=0<=g?++F:--F)V.push(e.readUInt16());return V}(),e.pos+=2,N=function(){var F,V;for(V=[],l=F=0;0<=g?F<g:F>g;l=0<=g?++F:--F)V.push(e.readUInt16());return V}(),h=function(){var F,V;for(V=[],l=F=0;0<=g?F<g:F>g;l=0<=g?++F:--F)V.push(e.readUInt16());return V}(),d=function(){var F,V;for(V=[],l=F=0;0<=g?F<g:F>g;l=0<=g?++F:--F)V.push(e.readUInt16());return V}(),i=(this.length-e.pos+this.offset)/2,a=function(){var F,V;for(V=[],l=F=0;0<=i?F<i:F>i;l=0<=i?++F:--F)V.push(e.readUInt16());return V}(),l=w=0,A=o.length;w<A;l=++w)for(L=o[l],r=y=P=N[l];P<=L?y<=L:y>=L;r=P<=L?++y:--y)d[l]===0?s=r+h[l]:(s=a[d[l]/2+(r-P)-(g-l)]||0)!==0&&(s+=h[l]),this.codeMap[r]=65535&s}e.pos=m}return t.encode=function(e,n){var r,i,o,s,a,l,h,d,m,g,p,P,N,L,w,y,A,F,V,z,C,b,T,R,E,S,I,K,ce,ee,J,Q,Y,oe,ve,O,H,X,ne,ie,pe,ye,we,Re,ke,Me;switch(K=new $a,s=Object.keys(e).sort(function(Ve,it){return Ve-it}),n){case"macroman":for(N=0,L=function(){var Ve=[];for(P=0;P<256;++P)Ve.push(0);return Ve}(),y={0:0},o={},ce=0,Y=s.length;ce<Y;ce++)y[we=e[i=s[ce]]]==null&&(y[we]=++N),o[i]={old:e[i],new:y[e[i]]},L[i]=y[e[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(L),{charMap:o,subtable:K.data,maxGlyphID:N+1};case"unicode":for(S=[],m=[],A=0,y={},r={},w=h=null,ee=0,oe=s.length;ee<oe;ee++)y[V=e[i=s[ee]]]==null&&(y[V]=++A),r[i]={old:V,new:y[V]},a=y[V]-i,w!=null&&a===h||(w&&m.push(w),S.push(i),h=a),w=i;for(w&&m.push(w),m.push(65535),S.push(65535),R=2*(T=S.length),b=2*Math.pow(Math.log(T)/Math.LN2,2),g=Math.log(b/2)/Math.LN2,C=2*T-b,l=[],z=[],p=[],P=J=0,ve=S.length;J<ve;P=++J){if(E=S[P],d=m[P],E===65535){l.push(0),z.push(0);break}if(E-(I=r[E].new)>=32768)for(l.push(0),z.push(2*(p.length+T-P)),i=Q=E;E<=d?Q<=d:Q>=d;i=E<=d?++Q:--Q)p.push(r[i].new);else l.push(I-E),z.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*T+2*p.length),K.writeUInt16(0),K.writeUInt16(R),K.writeUInt16(b),K.writeUInt16(g),K.writeUInt16(C),pe=0,O=m.length;pe<O;pe++)i=m[pe],K.writeUInt16(i);for(K.writeUInt16(0),ye=0,H=S.length;ye<H;ye++)i=S[ye],K.writeUInt16(i);for(Re=0,X=l.length;Re<X;Re++)a=l[Re],K.writeUInt16(a);for(ke=0,ne=z.length;ke<ne;ke++)F=z[ke],K.writeUInt16(F);for(Me=0,ie=p.length;Me<ie;Me++)N=p[Me],K.writeUInt16(N);return{charMap:r,subtable:K.data,maxGlyphID:A+1}}},t}(),jA=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,yo),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,o;for(n.pos=this.offset,this.version=n.readUInt16(),o=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new c_(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,o;return r==null&&(r="macroman"),i=c_.encode(n,r),(o=new $a).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e}(),b7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,yo),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),S7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,yo),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),A7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,yo),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,o;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(i=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],o=[];n.pos<this.offset+this.length;)r=n.readByte(),o.push(this.names.push(n.readString(r)));return o;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,h;for(h=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)h.push(n.readUInt32());return h}).call(this)}},e}(),x7=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},E7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,yo),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,o,s,a,l,h,d,m,g,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(h={},s=m=0,g=i.length;m<g;s=++m)o=i[s],n.pos=o.offset,d=n.readString(o.length),a=new x7(d,o),h[p=o.nameID]==null&&(h[p]=[]),h[o.nameID].push(a);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),P7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,yo),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),T7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,yo),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,o,s,a,l,h;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,m;for(m=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)m.push(n.readInt16());return m}(),this.widths=(function(){var d,m,g,p;for(p=[],d=0,m=(g=this.metrics).length;d<m;d++)s=g[d],p.push(s.advance);return p}).call(this),i=this.widths[this.widths.length-1],h=[],r=a=0;0<=o?a<o:a>o;r=0<=o?++a:--a)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),MA=[].slice,C7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,yo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,o,s,a,l,h,d,m,g;return n in this.cache?this.cache[n]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(n),(o=s.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new $a(r.read(o))).readShort(),d=l.readShort(),g=l.readShort(),h=l.readShort(),m=l.readShort(),this.cache[n]=a===-1?new I7(l,d,g,h,m):new N7(l,a,d,g,h,m),this.cache[n]))},e.prototype.encode=function(n,r,i){var o,s,a,l,h;for(a=[],s=[],l=0,h=r.length;l<h;l++)o=n[r[l]],s.push(a.length),o&&(a=a.concat(o.encode(i)));return s.push(a.length),{table:a,offsets:s}},e}(),N7=function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),I7=function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new $a(MA.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),k7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,yo),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=4)s.push(n.readUInt32());return s}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<i.length;++a)if(i[a]=o,s<r.length&&r[s]==a){++s,i[a]=o;var l=this.offsets[a],h=this.offsets[a+1]-l;h>0&&(o+=h)}for(var d=new Array(4*i.length),m=0;m<i.length;++m)d[4*m+3]=255&i[m],d[4*m+2]=(65280&i[m])>>8,d[4*m+1]=(16711680&i[m])>>16,d[4*m]=(4278190080&i[m])>>24;return d},e}(),L7=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,s,a,l,h,d,m,g,p,P,N,L,w;for(i in r=jA.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(P in g=r.maxGlyphID,s)P in p||(p[P]=g++);return d=function(y){var A,F;for(A in F={},y)F[y[A]]=A;return F}(p),m=Object.keys(d).sort(function(y,A){return y-A}),N=function(){var y,A,F;for(F=[],y=0,A=m.length;y<A;y++)a=m[y],F.push(d[a]);return F}(),o=this.font.glyf.encode(s,N,p),h=this.font.loca.encode(o.offsets,N),L={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},t}();ut.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var a,l,h;for(h=[],a=0,l=n.length;a<l;a++)r=n[a],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e}();const R7=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:c7,AcroFormAppearance:et,AcroFormButton:Wn,AcroFormCheckBox:Dh,AcroFormChoiceField:Ll,AcroFormComboBox:Dl,AcroFormEditBox:Lh,AcroFormListBox:Rl,AcroFormPasswordField:Fh,AcroFormPushButton:Rh,AcroFormRadioButton:Fl,AcroFormTextField:Da,GState:ff,ShadingPattern:va,TilingPattern:El,default:ut,jsPDF:ut},Symbol.toStringTag,{value:"Module"}));var D7={exports:{}};const F7=Ax(R7);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return F7}catch{}}())})(typeof globalThis<"u"?globalThis:typeof tg<"u"?tg:typeof window<"u"?window:typeof self<"u"?self:tg,function(n){return function(){var r={172:function(a,l){var h=this&&this.__extends||function(){var g=function(p,P){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,L){N.__proto__=L}||function(N,L){for(var w in L)Object.prototype.hasOwnProperty.call(L,w)&&(N[w]=L[w])},g(p,P)};return function(p,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");g(p,P);function N(){this.constructor=p}p.prototype=P===null?Object.create(P):(N.prototype=P.prototype,new N)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var d=function(){function g(p,P,N){this.table=P,this.pageNumber=P.pageNumber,this.pageCount=this.pageNumber,this.settings=P.settings,this.cursor=N,this.doc=p.getDocument()}return g}();l.HookData=d;var m=function(g){h(p,g);function p(P,N,L,w,y,A){var F=g.call(this,P,N,A)||this;return F.cell=L,F.row=w,F.column=y,F.section=w.section,F}return p}(d);l.CellHookData=m},340:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0});var d=h(4),m=h(136),g=h(744),p=h(776),P=h(664),N=h(972);function L(w){w.API.autoTable=function(){for(var y=[],A=0;A<arguments.length;A++)y[A]=arguments[A];var F;y.length===1?F=y[0]:(console.error("Use of deprecated autoTable initiation"),F=y[2]||{},F.columns=y[0],F.body=y[1]);var V=(0,p.parseInput)(this,F),z=(0,N.createTable)(this,V);return(0,P.drawTable)(this,z),this},w.API.lastAutoTable=!1,w.API.previousAutoTable=!1,w.API.autoTable.previous=!1,w.API.autoTableText=function(y,A,F,V){(0,m.default)(y,A,F,V,this)},w.API.autoTableSetDefaults=function(y){return g.DocHandler.setDefaults(y,this),this},w.autoTableSetDefaults=function(y,A){g.DocHandler.setDefaults(y,A)},w.API.autoTableHtmlToJson=function(y,A){var F;if(A===void 0&&(A=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var V=new g.DocHandler(this),z=(0,d.parseHtml)(V,y,window,A,!1),C=z.head,b=z.body,T=((F=C[0])===null||F===void 0?void 0:F.map(function(R){return R.content}))||[];return{columns:T,rows:b,data:b}},w.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},w.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),w.API.autoTable.globalDefaults||(w.API.autoTable.globalDefaults={}),w.API.autoTable.globalDefaults.addPageContent=y,this},w.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=L},136:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function h(d,m,g,p,P){p=p||{};var N=1.15,L=P.internal.scaleFactor,w=P.internal.getFontSize()/L,y=P.getLineHeightFactor?P.getLineHeightFactor():N,A=w*y,F=/\r\n|\r|\n/g,V="",z=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(V=typeof d=="string"?d.split(F):d,z=V.length||1),g+=w*(2-N),p.valign==="middle"?g-=z/2*A:p.valign==="bottom"&&(g-=z*A),p.halign==="center"||p.halign==="right"){var C=w;if(p.halign==="center"&&(C*=.5),V&&z>=1){for(var b=0;b<V.length;b++)P.text(V[b],m-P.getStringUnitWidth(V[b])*C,g),g+=A;return P}m-=P.getStringUnitWidth(d)*C}return p.halign==="justify"?P.text(d,m,g,{maxWidth:p.maxWidth||100,align:"justify"}):P.text(d,m,g),P}l.default=h},420:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function h(P,N,L){L.applyStyles(N,!0);var w=Array.isArray(P)?P:[P],y=w.map(function(A){return L.getTextWidth(A)}).reduce(function(A,F){return Math.max(A,F)},0);return y}l.getStringWidth=h;function d(P,N,L,w){var y=N.settings.tableLineWidth,A=N.settings.tableLineColor;P.applyStyles({lineWidth:y,lineColor:A});var F=m(y,!1);F&&P.rect(L.x,L.y,N.getWidth(P.pageSize().width),w.y-L.y,F)}l.addTableBorder=d;function m(P,N){var L=P>0,w=N||N===0;return L&&w?"DF":L?"S":w?"F":null}l.getFillStyle=m;function g(P,N){var L,w,y,A;if(P=P||N,Array.isArray(P)){if(P.length>=4)return{top:P[0],right:P[1],bottom:P[2],left:P[3]};if(P.length===3)return{top:P[0],right:P[1],bottom:P[2],left:P[1]};if(P.length===2)return{top:P[0],right:P[1],bottom:P[0],left:P[1]};P.length===1?P=P[0]:P=N}return typeof P=="object"?(typeof P.vertical=="number"&&(P.top=P.vertical,P.bottom=P.vertical),typeof P.horizontal=="number"&&(P.right=P.horizontal,P.left=P.horizontal),{left:(L=P.left)!==null&&L!==void 0?L:N,top:(w=P.top)!==null&&w!==void 0?w:N,right:(y=P.right)!==null&&y!==void 0?y:N,bottom:(A=P.bottom)!==null&&A!==void 0?A:N}):(typeof P!="number"&&(P=N),{top:P,right:P,bottom:P,left:P})}l.parseSpacing=g;function p(P,N){var L=g(N.settings.margin,0);return P.pageSize().width-(L.left+L.right)}l.getPageAvailableWidth=p},796:function(a,l){var h=this&&this.__extends||function(){var p=function(P,N){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,w){L.__proto__=w}||function(L,w){for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(L[y]=w[y])},p(P,N)};return function(P,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");p(P,N);function L(){this.constructor=P}P.prototype=N===null?Object.create(N):(L.prototype=N.prototype,new L)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var d=function(p){h(P,p);function P(N){var L=p.call(this)||this;return L._element=N,L}return P}(Array);l.HtmlRowInput=d;function m(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=m;function g(p){var P={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return P[p]}l.getTheme=g},903:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var d=h(420);function m(L,w,y,A,F){var V={},z=1.3333333333333333,C=p(w,function(Y){return F.getComputedStyle(Y).backgroundColor});C!=null&&(V.fillColor=C);var b=p(w,function(Y){return F.getComputedStyle(Y).color});b!=null&&(V.textColor=b);var T=N(A,y);T&&(V.cellPadding=T);var R="borderTopColor",E=z*y,S=A.borderTopWidth;if(A.borderBottomWidth===S&&A.borderRightWidth===S&&A.borderLeftWidth===S){var I=(parseFloat(S)||0)/E;I&&(V.lineWidth=I)}else V.lineWidth={top:(parseFloat(A.borderTopWidth)||0)/E,right:(parseFloat(A.borderRightWidth)||0)/E,bottom:(parseFloat(A.borderBottomWidth)||0)/E,left:(parseFloat(A.borderLeftWidth)||0)/E},V.lineWidth.top||(V.lineWidth.right?R="borderRightColor":V.lineWidth.bottom?R="borderBottomColor":V.lineWidth.left&&(R="borderLeftColor"));var K=p(w,function(Y){return F.getComputedStyle(Y)[R]});K!=null&&(V.lineColor=K);var ce=["left","right","center","justify"];ce.indexOf(A.textAlign)!==-1&&(V.halign=A.textAlign),ce=["middle","bottom","top"],ce.indexOf(A.verticalAlign)!==-1&&(V.valign=A.verticalAlign);var ee=parseInt(A.fontSize||"");isNaN(ee)||(V.fontSize=ee/z);var J=g(A);J&&(V.fontStyle=J);var Q=(A.fontFamily||"").toLowerCase();return L.indexOf(Q)!==-1&&(V.font=Q),V}l.parseCss=m;function g(L){var w="";return(L.fontWeight==="bold"||L.fontWeight==="bolder"||parseInt(L.fontWeight)>=700)&&(w="bold"),(L.fontStyle==="italic"||L.fontStyle==="oblique")&&(w+="italic"),w}function p(L,w){var y=P(L,w);if(!y)return null;var A=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!A||!Array.isArray(A))return null;var F=[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])],V=parseInt(A[4]);return V===0||isNaN(F[0])||isNaN(F[1])||isNaN(F[2])?null:F}function P(L,w){var y=w(L);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?L.parentElement==null?null:P(L.parentElement,w):y}function N(L,w){var y=[L.paddingTop,L.paddingRight,L.paddingBottom,L.paddingLeft],A=96/(72/w),F=(parseInt(L.lineHeight)-parseInt(L.fontSize))/w/2,V=y.map(function(C){return parseInt(C||"0")/A}),z=(0,d.parseSpacing)(V,0);return F>z.top&&(z.top=F),F>z.bottom&&(z.bottom=F),z}},744:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var h={},d=function(){function m(g){this.jsPDFDocument=g,this.userStyles={textColor:g.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:g.internal.getFontSize(),fontStyle:g.internal.getFont().fontStyle,font:g.internal.getFont().fontName,lineWidth:g.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:g.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return m.setDefaults=function(g,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=g:h=g},m.unifyColor=function(g){return Array.isArray(g)?g:typeof g=="number"?[g,g,g]:typeof g=="string"?[g]:null},m.prototype.applyStyles=function(g,p){var P,N,L;p===void 0&&(p=!1),g.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(g.fontStyle);var w=this.jsPDFDocument.internal.getFont(),y=w.fontStyle,A=w.fontName;if(g.font&&(A=g.font),g.fontStyle){y=g.fontStyle;var F=this.getFontList()[A];F&&F.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(F[0]),y=F[0])}if(this.jsPDFDocument.setFont(A,y),g.fontSize&&this.jsPDFDocument.setFontSize(g.fontSize),!p){var V=m.unifyColor(g.fillColor);V&&(P=this.jsPDFDocument).setFillColor.apply(P,V),V=m.unifyColor(g.textColor),V&&(N=this.jsPDFDocument).setTextColor.apply(N,V),V=m.unifyColor(g.lineColor),V&&(L=this.jsPDFDocument).setDrawColor.apply(L,V),typeof g.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(g.lineWidth)}},m.prototype.splitTextToSize=function(g,p,P){return this.jsPDFDocument.splitTextToSize(g,p,P)},m.prototype.rect=function(g,p,P,N,L){return this.jsPDFDocument.rect(g,p,P,N,L)},m.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},m.prototype.getTextWidth=function(g){return this.jsPDFDocument.getTextWidth(g)},m.prototype.getDocument=function(){return this.jsPDFDocument},m.prototype.setPage=function(g){this.jsPDFDocument.setPage(g)},m.prototype.addPage=function(){return this.jsPDFDocument.addPage()},m.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},m.prototype.getGlobalOptions=function(){return h||{}},m.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},m.prototype.pageSize=function(){var g=this.jsPDFDocument.internal.pageSize;return g.width==null&&(g={width:g.getWidth(),height:g.getHeight()}),g},m.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},m.prototype.getLineHeightFactor=function(){var g=this.jsPDFDocument;return g.getLineHeightFactor?g.getLineHeightFactor():1.15},m.prototype.getLineHeight=function(g){return g/this.scaleFactor()*this.getLineHeightFactor()},m.prototype.pageNumber=function(){var g=this.jsPDFDocument.internal.getCurrentPageInfo();return g?g.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},m}();l.DocHandler=d},4:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var d=h(903),m=h(796);function g(N,L,w,y,A){var F,V;y===void 0&&(y=!1),A===void 0&&(A=!1);var z;typeof L=="string"?z=w.document.querySelector(L):z=L;var C=Object.keys(N.getFontList()),b=N.scaleFactor(),T=[],R=[],E=[];if(!z)return console.error("Html table could not be found with input: ",L),{head:T,body:R,foot:E};for(var S=0;S<z.rows.length;S++){var I=z.rows[S],K=(V=(F=I==null?void 0:I.parentElement)===null||F===void 0?void 0:F.tagName)===null||V===void 0?void 0:V.toLowerCase(),ce=p(C,b,w,I,y,A);ce&&(K==="thead"?T.push(ce):K==="tfoot"?E.push(ce):R.push(ce))}return{head:T,body:R,foot:E}}l.parseHtml=g;function p(N,L,w,y,A,F){for(var V=new m.HtmlRowInput(y),z=0;z<y.cells.length;z++){var C=y.cells[z],b=w.getComputedStyle(C);if(A||b.display!=="none"){var T=void 0;F&&(T=(0,d.parseCss)(N,C,L,b,w)),V.push({rowSpan:C.rowSpan,colSpan:C.colSpan,styles:T,_element:C,content:P(C)})}}var R=w.getComputedStyle(y);if(V.length>0&&(A||R.display!=="none"))return V}function P(N){var L=N.cloneNode(!0);return L.innerHTML=L.innerHTML.replace(/\n/g,"").replace(/ +/g," "),L.innerHTML=L.innerHTML.split(/<br.*?>/).map(function(w){return w.trim()}).join(`
`),L.innerText||L.textContent||""}},776:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var d=h(4),m=h(356),g=h(420),p=h(744),P=h(792);function N(z,C){var b=new p.DocHandler(z),T=b.getDocumentOptions(),R=b.getGlobalOptions();(0,P.default)(b,R,T,C);var E=(0,m.assign)({},R,T,C),S;typeof window<"u"&&(S=window);var I=L(R,T,C),K=w(R,T,C),ce=y(b,E),ee=F(b,E,S);return{id:C.tableId,content:ee,hooks:K,styles:I,settings:ce}}l.parseInput=N;function L(z,C,b){for(var T={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},R=function(K){if(K==="columnStyles"){var ce=z[K],ee=C[K],J=b[K];T.columnStyles=(0,m.assign)({},ce,ee,J)}else{var Q=[z,C,b],Y=Q.map(function(oe){return oe[K]||{}});T[K]=(0,m.assign)({},Y[0],Y[1],Y[2])}},E=0,S=Object.keys(T);E<S.length;E++){var I=S[E];R(I)}return T}function w(z,C,b){for(var T=[z,C,b],R={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},E=0,S=T;E<S.length;E++){var I=S[E];I.didParseCell&&R.didParseCell.push(I.didParseCell),I.willDrawCell&&R.willDrawCell.push(I.willDrawCell),I.didDrawCell&&R.didDrawCell.push(I.didDrawCell),I.willDrawPage&&R.willDrawPage.push(I.willDrawPage),I.didDrawPage&&R.didDrawPage.push(I.didDrawPage)}return R}function y(z,C){var b,T,R,E,S,I,K,ce,ee,J,Q,Y,oe=(0,g.parseSpacing)(C.margin,40/z.scaleFactor()),ve=(b=A(z,C.startY))!==null&&b!==void 0?b:oe.top,O;C.showFoot===!0?O="everyPage":C.showFoot===!1?O="never":O=(T=C.showFoot)!==null&&T!==void 0?T:"everyPage";var H;C.showHead===!0?H="everyPage":C.showHead===!1?H="never":H=(R=C.showHead)!==null&&R!==void 0?R:"everyPage";var X=(E=C.useCss)!==null&&E!==void 0?E:!1,ne=C.theme||(X?"plain":"striped"),ie=!!C.horizontalPageBreak,pe=(S=C.horizontalPageBreakRepeat)!==null&&S!==void 0?S:null;return{includeHiddenHtml:(I=C.includeHiddenHtml)!==null&&I!==void 0?I:!1,useCss:X,theme:ne,startY:ve,margin:oe,pageBreak:(K=C.pageBreak)!==null&&K!==void 0?K:"auto",rowPageBreak:(ce=C.rowPageBreak)!==null&&ce!==void 0?ce:"auto",tableWidth:(ee=C.tableWidth)!==null&&ee!==void 0?ee:"auto",showHead:H,showFoot:O,tableLineWidth:(J=C.tableLineWidth)!==null&&J!==void 0?J:0,tableLineColor:(Q=C.tableLineColor)!==null&&Q!==void 0?Q:200,horizontalPageBreak:ie,horizontalPageBreakRepeat:pe,horizontalPageBreakBehaviour:(Y=C.horizontalPageBreakBehaviour)!==null&&Y!==void 0?Y:"afterAllRows"}}function A(z,C){var b=z.getLastAutoTable(),T=z.scaleFactor(),R=z.pageNumber(),E=!1;if(b&&b.startPageNumber){var S=b.startPageNumber+b.pageNumber-1;E=S===R}return typeof C=="number"?C:(C==null||C===!1)&&E&&(b==null?void 0:b.finalY)!=null?b.finalY+20/T:null}function F(z,C,b){var T=C.head||[],R=C.body||[],E=C.foot||[];if(C.html){var S=C.includeHiddenHtml;if(b){var I=(0,d.parseHtml)(z,C.html,b,S,C.useCss)||{};T=I.head||T,R=I.body||T,E=I.foot||T}else console.error("Cannot parse html in non browser environment")}var K=C.columns||V(T,R,E);return{columns:K,head:T,body:R,foot:E}}function V(z,C,b){var T=z[0]||C[0]||b[0]||[],R=[];return Object.keys(T).filter(function(E){return E!=="_element"}).forEach(function(E){var S=1,I;Array.isArray(T)?I=T[parseInt(E)]:I=T[E],typeof I=="object"&&!Array.isArray(I)&&(S=(I==null?void 0:I.colSpan)||1);for(var K=0;K<S;K++){var ce=void 0;Array.isArray(T)?ce=R.length:ce=E+(K>0?"_".concat(K):"");var ee={dataKey:ce};R.push(ee)}}),R}},792:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function h(m,g,p,P){for(var N=function(A){A&&typeof A!="object"&&console.error("The options parameter should be of type object, is: "+typeof A),typeof A.extendWidth<"u"&&(A.tableWidth=A.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof A.margins<"u"&&(typeof A.margin>"u"&&(A.margin=A.margins),console.error("Use of deprecated option: margins, use margin instead.")),A.startY&&typeof A.startY!="number"&&(console.error("Invalid value for startY option",A.startY),delete A.startY),!A.didDrawPage&&(A.afterPageContent||A.beforePageContent||A.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),A.didDrawPage=function(E){m.applyStyles(m.userStyles),A.beforePageContent&&A.beforePageContent(E),m.applyStyles(m.userStyles),A.afterPageContent&&A.afterPageContent(E),m.applyStyles(m.userStyles),A.afterPageAdd&&E.pageNumber>1&&E.afterPageAdd(E),m.applyStyles(m.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(E){A[E]&&console.error('The "'.concat(E,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(E){var S=E[0],I=E[1];A[I]&&(console.error("Use of deprecated option ".concat(I,". Use ").concat(S," instead")),A[S]=A[I])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(E){var S=typeof E=="string"?E:E[0],I=typeof E=="string"?E:E[1];typeof A[S]<"u"&&(typeof A.styles[I]>"u"&&(A.styles[I]=A[S]),console.error("Use of deprecated option: "+S+", use the style "+I+" instead."))});for(var F=0,V=["styles","bodyStyles","headStyles","footStyles"];F<V.length;F++){var z=V[F];d(A[z]||{})}for(var C=A.columnStyles||{},b=0,T=Object.keys(C);b<T.length;b++){var R=T[b];d(C[R]||{})}},L=0,w=[g,p,P];L<w.length;L++){var y=w[L];N(y)}}l.default=h;function d(m){m.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),m.minCellHeight||(m.minCellHeight=m.rowHeight)):m.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),m.cellWidth||(m.cellWidth=m.columnWidth))}},260:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var d=h(796),m=h(172),g=h(420),p=function(){function w(y,A){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=A.columns,this.head=A.head,this.body=A.body,this.foot=A.foot}return w.prototype.getHeadHeight=function(y){return this.head.reduce(function(A,F){return A+F.getMaxCellHeight(y)},0)},w.prototype.getFootHeight=function(y){return this.foot.reduce(function(A,F){return A+F.getMaxCellHeight(y)},0)},w.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},w.prototype.callCellHooks=function(y,A,F,V,z,C){for(var b=0,T=A;b<T.length;b++){var R=T[b],E=new m.CellHookData(y,this,F,V,z,C),S=R(E)===!1;if(F.text=Array.isArray(F.text)?F.text:[F.text],S)return!1}return!0},w.prototype.callEndPageHooks=function(y,A){y.applyStyles(y.userStyles);for(var F=0,V=this.hooks.didDrawPage;F<V.length;F++){var z=V[F];z(new m.HookData(y,this,A))}},w.prototype.callWillDrawPageHooks=function(y,A){for(var F=0,V=this.hooks.willDrawPage;F<V.length;F++){var z=V[F];z(new m.HookData(y,this,A))}},w.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var A=this.columns.reduce(function(V,z){return V+z.wrappedWidth},0);return A}else{var F=this.settings.margin;return y-F.left-F.right}},w}();l.Table=p;var P=function(){function w(y,A,F,V,z){z===void 0&&(z=!1),this.height=0,this.raw=y,y instanceof d.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=A,this.section=F,this.cells=V,this.spansMultiplePages=z}return w.prototype.getMaxCellHeight=function(y){var A=this;return y.reduce(function(F,V){var z;return Math.max(F,((z=A.cells[V.index])===null||z===void 0?void 0:z.height)||0)},0)},w.prototype.hasRowSpan=function(y){var A=this;return y.filter(function(F){var V=A.cells[F.index];return V?V.rowSpan>1:!1}).length>0},w.prototype.canEntireRowFit=function(y,A){return this.getMaxCellHeight(A)<=y},w.prototype.getMinimumRowHeight=function(y,A){var F=this;return y.reduce(function(V,z){var C=F.cells[z.index];if(!C)return 0;var b=A.getLineHeight(C.styles.fontSize),T=C.padding("vertical"),R=T+b;return R>V?R:V},0)},w}();l.Row=P;var N=function(){function w(y,A,F){var V,z;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=A,this.section=F,this.raw=y;var C=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,C=(z=(V=y.content)!==null&&V!==void 0?V:y.title)!==null&&z!==void 0?z:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var b=C!=null?""+C:"",T=/\r\n|\r|\n/g;this.text=b.split(T)}return w.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var A=this.height-this.padding("vertical");y=this.y+A/2+this.padding("top")}var F;if(this.styles.halign==="right")F=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var V=this.width-this.padding("horizontal");F=this.x+V/2+this.padding("left")}else F=this.x+this.padding("left");return{x:F,y}},w.prototype.getContentHeight=function(y,A){A===void 0&&(A=1.15);var F=Array.isArray(this.text)?this.text.length:1,V=this.styles.fontSize/y*A,z=F*V+this.padding("vertical");return Math.max(z,this.styles.minCellHeight)},w.prototype.padding=function(y){var A=(0,g.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?A.top+A.bottom:y==="horizontal"?A.left+A.right:A[y]},w}();l.Cell=N;var L=function(){function w(y,A,F){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=A,this.index=F}return w.prototype.getMaxCustomCellWidth=function(y){for(var A=0,F=0,V=y.allRows();F<V.length;F++){var z=V[F],C=z.cells[this.index];C&&typeof C.styles.cellWidth=="number"&&(A=Math.max(A,C.styles.cellWidth))}return A},w}();l.Column=L},356:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function h(d,m,g,p,P){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var N=Object(d),L=1;L<arguments.length;L++){var w=arguments[L];if(w!=null)for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(N[y]=w[y])}return N}l.assign=h},972:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var d=h(744),m=h(260),g=h(324),p=h(796),P=h(356);function N(z,C){var b=new d.DocHandler(z),T=L(C,b.scaleFactor()),R=new m.Table(C,T);return(0,g.calculateWidths)(b,R),b.applyStyles(b.userStyles),R}l.createTable=N;function L(z,C){var b=z.content,T=F(b.columns);if(b.head.length===0){var R=y(T,"head");R&&b.head.push(R)}if(b.foot.length===0){var R=y(T,"foot");R&&b.foot.push(R)}var E=z.settings.theme,S=z.styles;return{columns:T,head:w("head",b.head,T,S,E,C),body:w("body",b.body,T,S,E,C),foot:w("foot",b.foot,T,S,E,C)}}function w(z,C,b,T,R,E){var S={},I=C.map(function(K,ce){for(var ee=0,J={},Q=0,Y=0,oe=0,ve=b;oe<ve.length;oe++){var O=ve[oe];if(S[O.index]==null||S[O.index].left===0)if(Y===0){var H=void 0;Array.isArray(K)?H=K[O.index-Q-ee]:H=K[O.dataKey];var X={};typeof H=="object"&&!Array.isArray(H)&&(X=(H==null?void 0:H.styles)||{});var ne=V(z,O,ce,R,T,E,X),ie=new m.Cell(H,ne,z);J[O.dataKey]=ie,J[O.index]=ie,Y=ie.colSpan-1,S[O.index]={left:ie.rowSpan-1,times:Y}}else Y--,Q++;else S[O.index].left--,Y=S[O.index].times,ee++}return new m.Row(K,ce,z,J)});return I}function y(z,C){var b={};return z.forEach(function(T){if(T.raw!=null){var R=A(C,T.raw);R!=null&&(b[T.dataKey]=R)}}),Object.keys(b).length>0?b:null}function A(z,C){if(z==="head"){if(typeof C=="object")return C.header||C.title||null;if(typeof C=="string"||typeof C=="number")return C}else if(z==="foot"&&typeof C=="object")return C.footer;return null}function F(z){return z.map(function(C,b){var T,R,E;return typeof C=="object"?E=(R=(T=C.dataKey)!==null&&T!==void 0?T:C.key)!==null&&R!==void 0?R:b:E=b,new m.Column(E,C,b)})}function V(z,C,b,T,R,E,S){var I=(0,p.getTheme)(T),K;z==="head"?K=R.headStyles:z==="body"?K=R.bodyStyles:z==="foot"&&(K=R.footStyles);var ce=(0,P.assign)({},I.table,I[z],R.styles,K),ee=R.columnStyles[C.dataKey]||R.columnStyles[C.index]||{},J=z==="body"?ee:{},Q=z==="body"&&b%2===0?(0,P.assign)({},I.alternateRow,R.alternateRowStyles):{},Y=(0,p.defaultStyles)(E),oe=(0,P.assign)({},Y,ce,Q,J);return(0,P.assign)(oe,S)}},664:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var d=h(420),m=h(260),g=h(744),p=h(356),P=h(136),N=h(224);function L(ee,J){var Q=J.settings,Y=Q.startY,oe=Q.margin,ve={x:oe.left,y:Y},O=J.getHeadHeight(J.columns)+J.getFootHeight(J.columns),H=Y+oe.bottom+O;if(Q.pageBreak==="avoid"){var X=J.body,ne=X.reduce(function(ye,we){return ye+we.height},0);H+=ne}var ie=new g.DocHandler(ee);(Q.pageBreak==="always"||Q.startY!=null&&H>ie.pageSize().height)&&(ce(ie),ve.y=oe.top),J.callWillDrawPageHooks(ie,ve);var pe=(0,p.assign)({},ve);J.startPageNumber=ie.pageNumber(),Q.horizontalPageBreak?w(ie,J,pe,ve):(ie.applyStyles(ie.userStyles),(Q.showHead==="firstPage"||Q.showHead==="everyPage")&&J.head.forEach(function(ye){return R(ie,J,ye,ve,J.columns)}),ie.applyStyles(ie.userStyles),J.body.forEach(function(ye,we){var Re=we===J.body.length-1;T(ie,J,ye,Re,pe,ve,J.columns)}),ie.applyStyles(ie.userStyles),(Q.showFoot==="lastPage"||Q.showFoot==="everyPage")&&J.foot.forEach(function(ye){return R(ie,J,ye,ve,J.columns)})),(0,d.addTableBorder)(ie,J,pe,ve),J.callEndPageHooks(ie,ve),J.finalY=ve.y,ee.lastAutoTable=J,ee.previousAutoTable=J,ee.autoTable&&(ee.autoTable.previous=J),ie.applyStyles(ie.userStyles)}l.drawTable=L;function w(ee,J,Q,Y){var oe=(0,N.calculateAllColumnsCanFitInPage)(ee,J),ve=J.settings;if(ve.horizontalPageBreakBehaviour==="afterAllRows")oe.forEach(function(ne,ie){ee.applyStyles(ee.userStyles),ie>0?K(ee,J,Q,Y,ne.columns,!0):y(ee,J,Y,ne.columns),A(ee,J,Q,Y,ne.columns),V(ee,J,Y,ne.columns)});else for(var O=-1,H=oe[0],X=function(){var ne=O;if(H){ee.applyStyles(ee.userStyles);var ie=H.columns;O>=0?K(ee,J,Q,Y,ie,!0):y(ee,J,Y,ie),ne=F(ee,J,O+1,Y,ie),V(ee,J,Y,ie)}var pe=ne-O;oe.slice(1).forEach(function(ye){ee.applyStyles(ee.userStyles),K(ee,J,Q,Y,ye.columns,!0),F(ee,J,O+1,Y,ye.columns,pe),V(ee,J,Y,ye.columns)}),O=ne};O<J.body.length-1;)X()}function y(ee,J,Q,Y){var oe=J.settings;ee.applyStyles(ee.userStyles),(oe.showHead==="firstPage"||oe.showHead==="everyPage")&&J.head.forEach(function(ve){return R(ee,J,ve,Q,Y)})}function A(ee,J,Q,Y,oe){ee.applyStyles(ee.userStyles),J.body.forEach(function(ve,O){var H=O===J.body.length-1;T(ee,J,ve,H,Q,Y,oe)})}function F(ee,J,Q,Y,oe,ve){ee.applyStyles(ee.userStyles),ve=ve??J.body.length;var O=Math.min(Q+ve,J.body.length),H=-1;return J.body.slice(Q,O).forEach(function(X,ne){var ie=Q+ne===J.body.length-1,pe=I(ee,J,ie,Y);X.canEntireRowFit(pe,oe)&&(R(ee,J,X,Y,oe),H=Q+ne)}),H}function V(ee,J,Q,Y){var oe=J.settings;ee.applyStyles(ee.userStyles),(oe.showFoot==="lastPage"||oe.showFoot==="everyPage")&&J.foot.forEach(function(ve){return R(ee,J,ve,Q,Y)})}function z(ee,J,Q){var Y=Q.getLineHeight(ee.styles.fontSize),oe=ee.padding("vertical"),ve=Math.floor((J-oe)/Y);return Math.max(0,ve)}function C(ee,J,Q,Y){var oe={};ee.spansMultiplePages=!0,ee.height=0;for(var ve=0,O=0,H=Q.columns;O<H.length;O++){var X=H[O],ne=ee.cells[X.index];if(ne){Array.isArray(ne.text)||(ne.text=[ne.text]);var ie=new m.Cell(ne.raw,ne.styles,ne.section);ie=(0,p.assign)(ie,ne),ie.text=[];var pe=z(ne,J,Y);ne.text.length>pe&&(ie.text=ne.text.splice(pe,ne.text.length));var ye=Y.scaleFactor(),we=Y.getLineHeightFactor();ne.contentHeight=ne.getContentHeight(ye,we),ne.contentHeight>=J&&(ne.contentHeight=J,ie.styles.minCellHeight-=J),ne.contentHeight>ee.height&&(ee.height=ne.contentHeight),ie.contentHeight=ie.getContentHeight(ye,we),ie.contentHeight>ve&&(ve=ie.contentHeight),oe[X.index]=ie}}var Re=new m.Row(ee.raw,-1,ee.section,oe,!0);Re.height=ve;for(var ke=0,Me=Q.columns;ke<Me.length;ke++){var X=Me[ke],ie=Re.cells[X.index];ie&&(ie.height=Re.height);var ne=ee.cells[X.index];ne&&(ne.height=ee.height)}return Re}function b(ee,J,Q,Y){var oe=ee.pageSize().height,ve=Y.settings.margin,O=ve.top+ve.bottom,H=oe-O;J.section==="body"&&(H-=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns));var X=J.getMinimumRowHeight(Y.columns,ee),ne=X<Q;if(X>H)return console.error("Will not be able to print row ".concat(J.index," correctly since it's minimum height is larger than page height")),!0;if(!ne)return!1;var ie=J.hasRowSpan(Y.columns),pe=J.getMaxCellHeight(Y.columns)>H;return pe?(ie&&console.error("The content of row ".concat(J.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ie||Y.settings.rowPageBreak==="avoid")}function T(ee,J,Q,Y,oe,ve,O){var H=I(ee,J,Y,ve);if(Q.canEntireRowFit(H,O))R(ee,J,Q,ve,O);else if(b(ee,Q,H,J)){var X=C(Q,H,J,ee);R(ee,J,Q,ve,O),K(ee,J,oe,ve,O),T(ee,J,X,Y,oe,ve,O)}else K(ee,J,oe,ve,O),T(ee,J,Q,Y,oe,ve,O)}function R(ee,J,Q,Y,oe){Y.x=J.settings.margin.left;for(var ve=0,O=oe;ve<O.length;ve++){var H=O[ve],X=Q.cells[H.index];if(!X){Y.x+=H.width;continue}ee.applyStyles(X.styles),X.x=Y.x,X.y=Y.y;var ne=J.callCellHooks(ee,J.hooks.willDrawCell,X,Q,H,Y);if(ne===!1){Y.x+=H.width;continue}E(ee,X,Y);var ie=X.getTextPos();(0,P.default)(X.text,ie.x,ie.y,{halign:X.styles.halign,valign:X.styles.valign,maxWidth:Math.ceil(X.width-X.padding("left")-X.padding("right"))},ee.getDocument()),J.callCellHooks(ee,J.hooks.didDrawCell,X,Q,H,Y),Y.x+=H.width}Y.y+=Q.height}function E(ee,J,Q){var Y=J.styles;if(ee.getDocument().setFillColor(ee.getDocument().getFillColor()),typeof Y.lineWidth=="number"){var oe=(0,d.getFillStyle)(Y.lineWidth,Y.fillColor);oe&&ee.rect(J.x,Q.y,J.width,J.height,oe)}else typeof Y.lineWidth=="object"&&(Y.fillColor&&ee.rect(J.x,Q.y,J.width,J.height,"F"),S(ee,J,Q,Y.lineWidth))}function S(ee,J,Q,Y){var oe,ve,O,H;Y.top&&(oe=Q.x,ve=Q.y,O=Q.x+J.width,H=Q.y,Y.right&&(O+=.5*Y.right),Y.left&&(oe-=.5*Y.left),X(Y.top,oe,ve,O,H)),Y.bottom&&(oe=Q.x,ve=Q.y+J.height,O=Q.x+J.width,H=Q.y+J.height,Y.right&&(O+=.5*Y.right),Y.left&&(oe-=.5*Y.left),X(Y.bottom,oe,ve,O,H)),Y.left&&(oe=Q.x,ve=Q.y,O=Q.x,H=Q.y+J.height,Y.top&&(ve-=.5*Y.top),Y.bottom&&(H+=.5*Y.bottom),X(Y.left,oe,ve,O,H)),Y.right&&(oe=Q.x+J.width,ve=Q.y,O=Q.x+J.width,H=Q.y+J.height,Y.top&&(ve-=.5*Y.top),Y.bottom&&(H+=.5*Y.bottom),X(Y.right,oe,ve,O,H));function X(ne,ie,pe,ye,we){ee.getDocument().setLineWidth(ne),ee.getDocument().line(ie,pe,ye,we,"S")}}function I(ee,J,Q,Y){var oe=J.settings.margin.bottom,ve=J.settings.showFoot;return(ve==="everyPage"||ve==="lastPage"&&Q)&&(oe+=J.getFootHeight(J.columns)),ee.pageSize().height-Y.y-oe}function K(ee,J,Q,Y,oe,ve){oe===void 0&&(oe=[]),ve===void 0&&(ve=!1),ee.applyStyles(ee.userStyles),J.settings.showFoot==="everyPage"&&!ve&&J.foot.forEach(function(H){return R(ee,J,H,Y,oe)}),J.callEndPageHooks(ee,Y);var O=J.settings.margin;(0,d.addTableBorder)(ee,J,Q,Y),ce(ee),J.pageNumber++,J.pageCount++,Y.x=O.left,Y.y=O.top,Q.y=O.top,J.callWillDrawPageHooks(ee,Y),J.settings.showHead==="everyPage"&&(J.head.forEach(function(H){return R(ee,J,H,Y,oe)}),ee.applyStyles(ee.userStyles))}l.addPage=K;function ce(ee){var J=ee.pageNumber();ee.setPage(J+1);var Q=ee.pageNumber();return Q===J?(ee.addPage(),!0):!1}},224:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var d=h(420);function m(p,P,N){var L;N===void 0&&(N={});var w=(0,d.getPageAvailableWidth)(p,P),y=new Map,A=[],F=[],V=[];P.settings.horizontalPageBreakRepeat,Array.isArray(P.settings.horizontalPageBreakRepeat)?V=P.settings.horizontalPageBreakRepeat:(typeof P.settings.horizontalPageBreakRepeat=="string"||typeof P.settings.horizontalPageBreakRepeat=="number")&&(V=[P.settings.horizontalPageBreakRepeat]),V.forEach(function(T){var R=P.columns.find(function(E){return E.dataKey===T||E.index===T});R&&!y.has(R.index)&&(y.set(R.index,!0),A.push(R.index),F.push(P.columns[R.index]),w-=R.wrappedWidth)});for(var z=!0,C=(L=N==null?void 0:N.start)!==null&&L!==void 0?L:0;C<P.columns.length;){if(y.has(C)){C++;continue}var b=P.columns[C].wrappedWidth;if(z||w>=b)z=!1,A.push(C),F.push(P.columns[C]),w-=b;else break;C++}return{colIndexes:A,columns:F,lastIndex:C-1}}function g(p,P){for(var N=[],L=0;L<P.columns.length;L++){var w=m(p,P,{start:L});w.columns.length&&(N.push(w),L=w.lastIndex)}return N}l.calculateAllColumnsCanFitInPage=g},324:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var d=h(420);function m(A,F){g(A,F);var V=[],z=0;F.columns.forEach(function(b){var T=b.getMaxCustomCellWidth(F);T?b.width=T:(b.width=b.wrappedWidth,V.push(b)),z+=b.width});var C=F.getWidth(A.pageSize().width)-z;C&&(C=p(V,C,function(b){return Math.max(b.minReadableWidth,b.minWidth)})),C&&(C=p(V,C,function(b){return b.minWidth})),C=Math.abs(C),!F.settings.horizontalPageBreak&&C>.1/A.scaleFactor()&&(C=C<1?C:Math.round(C),console.warn("Of the table content, ".concat(C," units width could not fit page"))),N(F),L(F,A),P(F)}l.calculateWidths=m;function g(A,F){var V=A.scaleFactor(),z=F.settings.horizontalPageBreak,C=(0,d.getPageAvailableWidth)(A,F);F.allRows().forEach(function(b){for(var T=0,R=F.columns;T<R.length;T++){var E=R[T],S=b.cells[E.index];if(S){var I=F.hooks.didParseCell;F.callCellHooks(A,I,S,b,E,null);var K=S.padding("horizontal");S.contentWidth=(0,d.getStringWidth)(S.text,S.styles,A)+K;var ce=(0,d.getStringWidth)(S.text.join(" ").split(/[^\S\u00A0]+/),S.styles,A);if(S.minReadableWidth=ce+S.padding("horizontal"),typeof S.styles.cellWidth=="number")S.minWidth=S.styles.cellWidth,S.wrappedWidth=S.styles.cellWidth;else if(S.styles.cellWidth==="wrap"||z===!0)S.contentWidth>C?(S.minWidth=C,S.wrappedWidth=C):(S.minWidth=S.contentWidth,S.wrappedWidth=S.contentWidth);else{var ee=10/V;S.minWidth=S.styles.minCellWidth||ee,S.wrappedWidth=S.contentWidth,S.minWidth>S.wrappedWidth&&(S.wrappedWidth=S.minWidth)}}}}),F.allRows().forEach(function(b){for(var T=0,R=F.columns;T<R.length;T++){var E=R[T],S=b.cells[E.index];if(S&&S.colSpan===1)E.wrappedWidth=Math.max(E.wrappedWidth,S.wrappedWidth),E.minWidth=Math.max(E.minWidth,S.minWidth),E.minReadableWidth=Math.max(E.minReadableWidth,S.minReadableWidth);else{var I=F.styles.columnStyles[E.dataKey]||F.styles.columnStyles[E.index]||{},K=I.cellWidth||I.minCellWidth;K&&typeof K=="number"&&(E.minWidth=K,E.wrappedWidth=K)}S&&(S.colSpan>1&&!E.minWidth&&(E.minWidth=S.minWidth),S.colSpan>1&&!E.wrappedWidth&&(E.wrappedWidth=S.minWidth))}})}function p(A,F,V){for(var z=F,C=A.reduce(function(ee,J){return ee+J.wrappedWidth},0),b=0;b<A.length;b++){var T=A[b],R=T.wrappedWidth/C,E=z*R,S=T.width+E,I=V(T),K=S<I?I:S;F-=K-T.width,T.width=K}if(F=Math.round(F*1e10)/1e10,F){var ce=A.filter(function(ee){return F<0?ee.width>V(ee):!0});ce.length&&(F=p(ce,F,V))}return F}l.resizeColumns=p;function P(A){for(var F={},V=1,z=A.allRows(),C=0;C<z.length;C++)for(var b=z[C],T=0,R=A.columns;T<R.length;T++){var E=R[T],S=F[E.index];if(V>1)V--,delete b.cells[E.index];else if(S)S.cell.height+=b.height,V=S.cell.colSpan,delete b.cells[E.index],S.left--,S.left<=1&&delete F[E.index];else{var I=b.cells[E.index];if(!I)continue;if(I.height=b.height,I.rowSpan>1){var K=z.length-C,ce=I.rowSpan>K?K:I.rowSpan;F[E.index]={cell:I,left:ce,row:b}}}}}function N(A){for(var F=A.allRows(),V=0;V<F.length;V++)for(var z=F[V],C=null,b=0,T=0,R=0;R<A.columns.length;R++){var E=A.columns[R];if(T-=1,T>1&&A.columns[R+1])b+=E.width,delete z.cells[E.index];else if(C){var S=C;delete z.cells[E.index],C=null,S.width=E.width+b}else{var S=z.cells[E.index];if(!S)continue;if(T=S.colSpan,b=0,S.colSpan>1){C=S,b+=E.width;continue}S.width=E.width+b}}}function L(A,F){for(var V={count:0,height:0},z=0,C=A.allRows();z<C.length;z++){for(var b=C[z],T=0,R=A.columns;T<R.length;T++){var E=R[T],S=b.cells[E.index];if(S){F.applyStyles(S.styles,!0);var I=S.width-S.padding("horizontal");if(S.styles.overflow==="linebreak")S.text=F.splitTextToSize(S.text,I+1/F.scaleFactor(),{fontSize:S.styles.fontSize});else if(S.styles.overflow==="ellipsize")S.text=w(S.text,I,S.styles,F,"...");else if(S.styles.overflow==="hidden")S.text=w(S.text,I,S.styles,F,"");else if(typeof S.styles.overflow=="function"){var K=S.styles.overflow(S.text,I);typeof K=="string"?S.text=[K]:S.text=K}S.contentHeight=S.getContentHeight(F.scaleFactor(),F.getLineHeightFactor());var ce=S.contentHeight/S.rowSpan;S.rowSpan>1&&V.count*V.height<ce*S.rowSpan?V={height:ce,count:S.rowSpan}:V&&V.count>0&&V.height>ce&&(ce=V.height),ce>b.height&&(b.height=ce)}}V.count--}}function w(A,F,V,z,C){return A.map(function(b){return y(b,F,V,z,C)})}l.ellipsize=w;function y(A,F,V,z,C){var b=1e4*z.scaleFactor();if(F=Math.ceil(F*b)/b,F>=(0,d.getStringWidth)(A,V,z))return A;for(;F<(0,d.getStringWidth)(A+C,V,z)&&!(A.length<=1);)A=A.substring(0,A.length-1);return A.trim()+C}},964:function(a){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var h=i[a]={exports:{}};return r[a].call(h.exports,h,h.exports,o),h.exports}var s={};return function(){var a=s;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var l=o(340),h=o(776),d=o(664),m=o(972),g=o(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return g.Table}});var p=o(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var P=o(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return P.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return P.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return P.Row}});function N(F){(0,l.default)(F)}a.applyPlugin=N;function L(F,V){var z=(0,h.parseInput)(F,V),C=(0,m.createTable)(F,z);(0,d.drawTable)(F,C)}function w(F,V){var z=(0,h.parseInput)(F,V);return(0,m.createTable)(F,z)}a.__createTable=w;function y(F,V){(0,d.drawTable)(F,V)}a.__drawTable=y;try{var A=o(964);A.jsPDF&&(A=A.jsPDF),N(A)}catch{}a.default=L}(),s}()})})(D7);const O7=()=>{const[t,e]=ue.useState([]),[n,r]=ue.useState([]),[i,o]=ue.useState(""),[s,a]=ue.useState(null),[l,h]=ue.useState(!1),[d,m]=ue.useState(!1),[g,p]=ue.useState(""),[P,N]=ue.useState(1),[L,w]=ue.useState(0);ue.useEffect(()=>{m(!0),(async()=>{try{const T=vi(In,"Vendas"),R=await Mi(T),E=[];R.forEach(I=>{E.push({id:I.id,...I.data()})}),e(E),r(E);const S=E.reduce((I,K)=>I+K.TotalVenda,0);p(S)}catch(T){console.error("Erro ao buscar no Firestore:",T)}finally{m(!1)}})()},[]);const y=b=>{const T=new Date;if(b===1){const R=new Date(T.getFullYear(),T.getMonth(),T.getDate(),5,0,0),E=new Date(T.getFullYear(),T.getMonth(),T.getDate()+1,11,0,0),S=t.filter(I=>{const K=new Date(I.Data.seconds*1e3);return K>=R&&K<E});r(S)}else{const R=t.filter(E=>{const S=new Date(E.Data.seconds*1e3);return Math.abs(T-S)/(1e3*60*60*24)<=b});r(R)}};ue.useEffect(()=>{y(P)},[P,t]),ue.useEffect(()=>{const b=n.reduce((T,R)=>T+R.TotalVenda,0);p(b)},[n]),ue.useEffect(()=>{const b=n.reduce((T,R)=>T+(R.Fiado||0),0);w(b)},[n]);const A=b=>{if(o(b),b.trim()==="")r(t);else{const T=t.filter(R=>R.Cliente.nome.toLowerCase().includes(b.toLowerCase()));r(T)}},F=b=>{a(b),h(!0)},V=()=>{a(null),h(!1)},z=async()=>{if(s)try{const b=zi(In,"Vendas",s.id);await SS(b),e(t.filter(T=>T.id!==s.id)),r(n.filter(T=>T.id!==s.id)),V(),alert("Venda excluda com sucesso!")}catch(b){console.error("Erro ao excluir a venda:",b),alert("Erro ao excluir a venda!")}},C=()=>{if(!s)return;const b=new ut;b.text("Mercearia Sagrada Famlia",14,10),b.autoTable({head:[["Cliente","Telefone","Data","Total","Fiado"]],body:[[s.Cliente.nome,s.Cliente.telefone,new Date(s.Data.seconds*1e3).toLocaleString(),`R$ ${s.TotalVenda}`,`R$ ${s.Fiado||0}`]]}),s.Lista.forEach((T,R)=>{b.setFontSize(10),b.text(`${T.quantity}x ${T.nome} - R$ ${T.preco.toFixed(2)}`,14,60+R*10)}),b.save(`Venda_${s.Cliente.nome}.pdf`)};return d?W.jsx(Rm,{}):W.jsxs("div",{id:"vendas",children:[W.jsxs("div",{id:"clientFilter",children:[W.jsx("label",{htmlFor:"filterName",children:"Filtrar por nome do cliente:"}),W.jsx("input",{className:"form-control",type:"text",id:"filterSale",value:i,onChange:b=>A(b.target.value),placeholder:"Digite o nome do cliente"})]}),W.jsxs("div",{id:"dateFilter",children:[W.jsx("label",{htmlFor:"timeFilter",children:"Filtrar por data das vendas:"}),W.jsxs("select",{id:"timeFilter",className:"form-control",value:P,onChange:b=>N(Number(b.target.value)),children:[W.jsx("option",{value:1,children:"Hoje (aps as 05h)"}),W.jsx("option",{value:7,children:"ltimos 7 dias"}),W.jsx("option",{value:15,children:"ltimos 15 dias"}),W.jsx("option",{value:30,children:"ltimos 30 dias"})]})]}),W.jsxs("div",{id:"salesNumbers",children:[W.jsxs("p",{children:[W.jsx("strong",{children:"Total de Vendas:"})," R$ ",Number(g).toFixed(2)]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Total de Fiado:"})," R$ ",L.toFixed(2)]})]}),W.jsx("ul",{children:n.map(b=>W.jsxs("li",{className:"individualSale",onClick:()=>F(b),children:[W.jsxs("span",{children:[W.jsx("strong",{children:"Cliente:"})," ",b.Cliente.nome," "]}),W.jsxs("span",{children:[W.jsx("strong",{children:"Total:"})," R$",b.TotalVenda.toFixed(2)]})]},b.id))}),l&&s&&W.jsx("div",{id:"modal",children:W.jsxs("div",{id:"modalContent",children:[W.jsx("button",{id:"closeModal",className:"material-symbols-outlined",onClick:V,children:"close"}),W.jsx("h2",{children:"Detalhes da Venda:"}),W.jsxs("p",{children:[W.jsx("strong",{children:"Cliente:"})," ",s.Cliente.nome]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Telefone:"})," ",s.Cliente.telefone]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Data:"})," ",new Date(s.Data.seconds*1e3).toLocaleString()]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Total:"})," R$",s.TotalVenda.toFixed(2)]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Pago:"})," R$",s.Pago||""]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Fiado:"})," R$",s.Fiado||""]}),W.jsx("h3",{children:"Itens da Venda:"}),W.jsx("ul",{children:s.Lista.map((b,T)=>W.jsxs("li",{children:[b.quantity," x ",b.nome," - R$",b.preco.toFixed(2)]},T))}),W.jsxs("div",{id:"modalButtons",children:[W.jsx("button",{onClick:C,className:"btn btn-primary",children:"Exportar PDF"}),W.jsx("button",{className:"btn btn-danger",onClick:z,children:"Deletar Venda"})]})]})})]})},j7=()=>{const[t,e]=ue.useState([]),[n,r]=ue.useState([]),[i,o]=ue.useState(""),[s,a]=ue.useState(null);ue.useState();const[l,h]=ue.useState(!1),[d,m]=ue.useState(!1),[g,p]=ue.useState({nome:"",telefone:"",divida:0}),[P,N]=ue.useState(!1),L=T=>{a(T),N(!0)},w=async()=>{h(!0);try{const T=vi(In,"Clientes"),R=vi(In,"Vendas"),[E,S]=await Promise.all([Mi(T),Mi(R)]),I={};S.forEach(ce=>{const ee=ce.data(),J=ee.Cliente.nome;I[J]?I[J].push(ee):I[J]=[ee]});let K=[];E.forEach(ce=>{const ee=ce.data(),J=ee.nome,Q=ee.telefone,Y=ee.divida||0,oe=I[J]||[];K.push({telefone:Q,nome:J,comprasFeitas:oe.length,divida:Y})}),K=K.sort((ce,ee)=>ce.nome.localeCompare(ee.nome)),e(K),r(K)}catch(T){console.error("Erro ao buscar clientes e vendas:",T)}finally{h(!1)}},y=T=>{if(o(T),T.trim()==="")r(t);else{const R=t.filter(E=>E.nome.toLowerCase().includes(T.toLowerCase()));r(R)}};ue.useEffect(()=>{w();const T=iL(vi(In,"Clientes"),R=>{const E=[];R.forEach(S=>{const I=S.data();E.push({telefone:I.telefone,nome:I.nome,divida:I.divida||0})}),e(E),r(E)});return()=>T()},[]);const A=async T=>{T.preventDefault();const{nome:R,telefone:E}=g;if(!R||!E){alert("Preencha todos os campos obrigatrios!");return}try{const S=R.trim(),I=zi(In,"Clientes",S),K={nome:R,telefone:E,criadoEm:new Date,divida:parseFloat(g.divida)||0,dataUltimoPagamento:"",nomeMinusculo:R.toLowerCase()};await Zu(I,K),alert("Cliente criado com sucesso!"),p({nome:"",telefone:"",divida:0}),C()}catch(S){console.error("Erro ao criar cliente:",S),alert("Erro ao criar cliente. Tente novamente.")}},F=async T=>{if(!T||!T.nome||!T.telefone){console.error("Dados do cliente incompletos. Verifique antes de salvar."),alert("Erro: Dados do cliente esto incompletos.");return}try{const R=zi(In,"Clientes",T.nome),E={nome:T.nome,telefone:T.telefone,divida:T.divida,nomeMinusculo:T.nome.toLowerCase()};await rL(R,E),console.log("Cliente atualizado com sucesso!"),alert("Dados do cliente atualizados com sucesso!")}catch(R){console.error("Erro ao atualizar cliente no Firebase:",R),alert("Erro ao salvar os dados. Por favor, tente novamente.")}},V=async T=>{if(window.confirm(`Tem certeza que deseja excluir o cliente ${T.nome}?`))try{const E=zi(In,"Clientes",T.nome);await SS(E),alert("Cliente excludo com sucesso!")}catch(E){console.error("Erro ao excluir cliente:",E),alert("Erro ao excluir cliente. Tente novamente.")}},z=()=>{m(!0)},C=()=>{m(!1)},b=()=>t.reduce((T,R)=>T+(R.divida||0),0).toFixed(2);return l?W.jsx(Rm,{}):W.jsxs("div",{id:"clientes",children:[W.jsxs("div",{children:[W.jsx("label",{htmlFor:"filterName",children:"Filtrar por Nome:"}),W.jsx("input",{type:"text",id:"filterName",value:i,onChange:T=>y(T.target.value),placeholder:"Digite o nome do cliente",className:"form-control"})]}),W.jsxs("table",{id:"clientsList",children:[W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{children:"Nome"}),W.jsx("th",{children:"Telefone"}),W.jsx("th",{children:"Compras Feitas"}),W.jsx("th",{children:"Dvida Atual"}),W.jsx("th",{children:"Aes"})]})}),W.jsx("tbody",{children:n.map((T,R)=>W.jsxs("tr",{children:[W.jsx("td",{className:"openClientModal",onClick:()=>{a(T),L(T)},children:T.nome}),W.jsx("td",{children:T.telefone}),W.jsx("td",{children:T.comprasFeitas}),W.jsx("td",{children:T.divida.toFixed(2)}),W.jsx("td",{children:W.jsx("button",{className:"btn btn-danger",onClick:E=>{E.stopPropagation(),V(T)},children:"Deletar"})})]},R))}),W.jsx("tfoot",{children:W.jsxs("tr",{children:[W.jsx("td",{colSpan:"4",children:"Dvida total dos clientes"}),W.jsx("td",{children:W.jsx("strong",{children:b()})})]})})]}),P&&s&&W.jsx("div",{id:"editClientModal",children:W.jsxs("div",{children:[W.jsx("h2",{children:"Editar Cliente"}),W.jsxs("form",{onSubmit:T=>{T.preventDefault(),F(s),N(!1)},children:[W.jsx("label",{children:"Nome"}),W.jsx("input",{type:"text",className:"form-control",value:s.nome,onChange:T=>a({...s,nome:T.target.value})}),W.jsx("label",{children:"Telefone"}),W.jsx("input",{type:"text",className:"form-control",value:s.telefone,onChange:T=>a({...s,telefone:T.target.value})}),W.jsxs("label",{children:["Fiado (Dvida Atual: ",s.divida.toFixed(2),")"]}),W.jsx("input",{type:"number",className:"form-control",value:s.divida,onChange:T=>a({...s,divida:parseFloat(T.target.value)})}),W.jsx("small",{children:'Insira "0" para quitar a dvida.'}),W.jsxs("div",{className:"mt-3",children:[W.jsx("button",{type:"submit",className:"btn btn-dark form-control",children:"Salvar Alteraes"}),W.jsx("button",{type:"button",className:"btn btn-danger mt-2",onClick:()=>N(!1),children:"Cancelar"})]})]})]})}),W.jsx("button",{className:"btn btn-dark",id:"addClient",onClick:z,children:"+"}),d&&W.jsx("div",{id:"addClientContainer",children:W.jsxs("form",{id:"addClientForm",onSubmit:A,children:[W.jsx("button",{type:"button",onClick:C,id:"closeFormButton",children:"X"}),W.jsx("input",{type:"text",placeholder:"Nome",className:"form-control",value:g.nome,onChange:T=>p({...g,nome:T.target.value})}),W.jsx("input",{type:"text",placeholder:"Telefone",className:"form-control",value:g.telefone,onChange:T=>p({...g,telefone:T.target.value})}),W.jsx("input",{type:"number",placeholder:"Fiado",className:"form-control",value:g.divida,onChange:T=>p({...g,divida:T.target.value})}),W.jsx("button",{type:"submit",className:"btn btn-dark form-control",children:"Adicionar"})]})})]})},M7=()=>{const[t,e]=ue.useState([]),[n,r]=ue.useState(!1),[i,o]=ue.useState(0),s=async()=>{r(!0);try{const a=vi(In,"Produtos"),l=await Mi(a),h=[];let d=0;l.forEach(m=>{const g=m.data(),p=g.estoque*g.preco;d+=p,h.push({...g,valorTotalEstoque:p})}),h.sort((m,g)=>m.nome.localeCompare(g.nome)),e(h),o(d)}catch(a){console.error("Erro ao buscar produtos:",a)}finally{r(!1)}};return ue.useEffect(()=>{s()},[]),n?W.jsx(Rm,{}):W.jsx("div",{id:"balano",children:n?W.jsx("p",{children:"Carregando..."}):W.jsx("div",{className:"tabela-balanco",children:W.jsxs("table",{children:[W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{children:"Nome do Produto"}),W.jsx("th",{children:"Preo Unitrio"}),W.jsx("th",{children:"Quantidade em Estoque"}),W.jsx("th",{children:"Valor Total do Estoque"})]})}),W.jsx("tbody",{children:t.map(a=>W.jsxs("tr",{children:[W.jsx("td",{children:a.nome}),W.jsxs("td",{children:["R$",a.preco.toFixed(2)]}),W.jsx("td",{children:a.estoque}),W.jsxs("td",{children:["R$",a.valorTotalEstoque.toFixed(2)]})]},a.nome))}),W.jsx("tfoot",{children:W.jsxs("tr",{children:[W.jsx("td",{colSpan:"3",children:W.jsx("strong",{children:"Total do Balano"})}),W.jsx("td",{children:W.jsxs("strong",{children:["R$",i.toFixed(2)]})})]})})]})})})},V7=()=>{const[t,e]=ue.useState(""),[n,r]=ue.useState(""),[i,o]=ue.useState(""),[s,a]=ue.useState(""),[l,h]=ue.useState(!1),[d,m]=ue.useState([]),[g,p]=ue.useState(null),[P,N]=ue.useState([]),[L,w]=ue.useState(""),[y,A]=ue.useState(""),[F,V]=ue.useState(""),z=async S=>{if(S.preventDefault(),!t||!n||!i){a("Por favor, preencha todos os campos.");return}const I={title:t,date:n,value:parseFloat(i)};try{await AS(vi(In,"Despesas"),I),a("Despesa registrada com sucesso!"),e(""),r(""),o("")}catch(K){a(`Erro ao registrar despesa: ${K.message}`)}},C=async()=>{try{const I=(await Mi(vi(In,"Despesas"))).docs.map(K=>({id:K.id,...K.data()}));m(I),N(I)}catch(S){console.error("Erro ao buscar despesas:",S)}};ue.useEffect(()=>{let S=d;L&&(S=S.filter(I=>I.date===L)),y&&F&&(S=S.filter(I=>{const K=new Date(I.date);return K.getMonth()+1===parseInt(y)&&K.getFullYear()===parseInt(F)})),N(S)},[L,y,F,d]);const b=()=>P.reduce((S,I)=>S+I.value,0).toFixed(2),T=async S=>{try{const I=await bS(zi(In,"Despesas",S));I.exists()?p({id:I.id,...I.data()}):a("Despesa no encontrada.")}catch(I){console.error("Erro ao buscar detalhes da despesa:",I)}},R=()=>{h(S=>!S),l||C()},E=()=>{p(null)};return W.jsxs("div",{children:[l?W.jsxs("div",{children:[W.jsx("button",{className:"btn btn-secondary",onClick:R,children:"Voltar"}),W.jsx("h1",{children:"Lista de Despesas"}),W.jsx("input",{type:"date",value:L,onChange:S=>w(S.target.value),className:"form-control"}),W.jsxs("select",{value:y,onChange:S=>A(S.target.value),className:"form-control",children:[W.jsx("option",{value:"",children:"Selecione o ms"}),W.jsx("option",{value:"1",children:"Janeiro"}),W.jsx("option",{value:"2",children:"Fevereiro"}),W.jsx("option",{value:"3",children:"Maro"}),W.jsx("option",{value:"4",children:"Abril"}),W.jsx("option",{value:"5",children:"Maio"}),W.jsx("option",{value:"6",children:"Junho"}),W.jsx("option",{value:"7",children:"Julho"}),W.jsx("option",{value:"8",children:"Agosto"}),W.jsx("option",{value:"9",children:"Setembro"}),W.jsx("option",{value:"10",children:"Outubro"}),W.jsx("option",{value:"11",children:"Novembro"}),W.jsx("option",{value:"12",children:"Dezembro"})]}),W.jsxs("select",{value:F,onChange:S=>V(S.target.value),className:"form-control",children:[W.jsx("option",{value:"",children:"Selecione o ano"}),new Array(5).fill(0).map((S,I)=>{const K=new Date().getFullYear()-I;return W.jsx("option",{value:K,children:K},K)})]}),W.jsxs("h3",{children:["Total: R$",b()]}),P.length>0?W.jsx("ul",{className:"list-group",children:P.map(S=>W.jsx("li",{className:"list-group-item",onClick:()=>T(S.id),children:S.title},S.id))}):W.jsx("p",{children:"Nenhuma despesa encontrada."})]}):W.jsxs("div",{children:[W.jsx("h1",{children:"Registrar Despesa"}),W.jsxs("form",{onSubmit:z,className:"saveBillForm",children:[W.jsx("input",{type:"text",name:"billTitle",id:"billTitle",className:"form-control",placeholder:"Ttulo da Despesa",value:t,onChange:S=>e(S.target.value)}),W.jsx("input",{type:"date",name:"billDate",id:"billDate",className:"form-control",value:n,onChange:S=>r(S.target.value)}),W.jsx("input",{type:"number",name:"billValue",id:"billValue",className:"form-control",placeholder:"Custo da Despesa",value:i,onChange:S=>o(S.target.value)}),W.jsx("button",{type:"submit",className:"btn btn-dark form-control",children:"Registrar"})]}),s&&W.jsx("p",{children:s}),W.jsx("button",{id:"showBills",className:"btn btn-primary",onClick:R,children:"Minhas Despesas"})]}),g&&W.jsx("div",{className:"bill-details-overlay",children:W.jsxs("div",{className:"bill-details-container",children:[W.jsx("h2",{children:"Detalhes da Despesa"}),W.jsxs("p",{children:[W.jsx("strong",{children:"Ttulo:"})," ",g.title]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Data:"})," ",g.date]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Valor:"})," R$",g.value]}),W.jsx("button",{className:"btn btn-danger",onClick:E,children:"X"})]})})]})},B7=()=>{const[t,e]=ue.useState("FrenteCaixa"),[n,r]=ue.useState([]);return W.jsxs("div",{id:"home",children:[W.jsx("h1",{id:"logoTitle",children:"Minimercado Sagrada Famlia"}),t==="FrenteCaixa"&&W.jsx(vA,{shoppingList:n,setShoppingList:r}),t==="CriarProduto"&&W.jsx(k8,{}),t==="EditarProdutos"&&W.jsx(L8,{}),t==="Balano"&&W.jsx(M7,{}),t==="Vendas"&&W.jsx(O7,{}),t==="Clientes"&&W.jsx(j7,{}),t==="EntradaDeNotas"&&W.jsx(V7,{}),W.jsx("menu",{id:"menuNavigation",children:[{label:"VENDER",section:"FrenteCaixa"},{label:"CRIAR PRODUTO",section:"CriarProduto"},{label:"EDITAR PRODUTOS",section:"EditarProdutos"},{label:"VENDAS FEITAS",section:"Vendas"},{label:"CLIENTES",section:"Clientes"},{label:"ENTRADA DE NOTAS",section:"EntradaDeNotas"},{label:"BALANO",section:"Balano"}].map(({label:i,section:o})=>W.jsx("button",{onClick:()=>e(o),style:{backgroundColor:t===o?"black":"white",color:t===o?"white":"black",border:"1px solid black",padding:"8px 8px",cursor:"pointer",margin:"0 0px"},children:i},o))})]})};function U7(){return W.jsx(yT,{children:W.jsxs(KP,{children:[W.jsx(Ud,{path:"/",element:W.jsx(CT,{})}),W.jsx(Ud,{path:"/home",element:W.jsx(B7,{})}),W.jsx(Ud,{path:"/frente-de-caixa",element:W.jsx(vA,{})})]})})}e1.createRoot(document.getElementById("root")).render(W.jsx(ec.StrictMode,{children:W.jsx(U7,{})}));export{$t as _,tg as c,Sx as g};
