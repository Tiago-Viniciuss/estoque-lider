(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var l1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _T(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Gw={exports:{}},Ym={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT=Symbol.for("react.transitional.element"),AT=Symbol.for("react.fragment");function Ww(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:wT,type:e,key:r,ref:t!==void 0?t:null,props:n}}Ym.Fragment=AT;Ym.jsx=Ww;Ym.jsxs=Ww;Gw.exports=Ym;var W=Gw.exports,Yw={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2=Symbol.for("react.transitional.element"),ST=Symbol.for("react.portal"),ET=Symbol.for("react.fragment"),TT=Symbol.for("react.strict_mode"),xT=Symbol.for("react.profiler"),NT=Symbol.for("react.consumer"),CT=Symbol.for("react.context"),RT=Symbol.for("react.forward_ref"),LT=Symbol.for("react.suspense"),DT=Symbol.for("react.memo"),Qw=Symbol.for("react.lazy"),Ty=Symbol.iterator;function PT(e){return e===null||typeof e!="object"?null:(e=Ty&&e[Ty]||e["@@iterator"],typeof e=="function"?e:null)}var Kw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xw=Object.assign,Zw={};function sh(e,t,n){this.props=e,this.context=t,this.refs=Zw,this.updater=n||Kw}sh.prototype.isReactComponent={};sh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jw(){}Jw.prototype=sh.prototype;function J2(e,t,n){this.props=e,this.context=t,this.refs=Zw,this.updater=n||Kw}var t5=J2.prototype=new Jw;t5.constructor=J2;Xw(t5,sh.prototype);t5.isPureReactComponent=!0;var xy=Array.isArray,wn={H:null,A:null,T:null,S:null},t4=Object.prototype.hasOwnProperty;function e5(e,t,n,r,i,a){return n=a.ref,{$$typeof:Z2,type:e,key:t,ref:n!==void 0?n:null,props:a}}function IT(e,t){return e5(e.type,t,void 0,void 0,void 0,e.props)}function n5(e){return typeof e=="object"&&e!==null&&e.$$typeof===Z2}function OT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ny=/\/+/g;function u1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OT(""+e.key):t.toString(36)}function Cy(){}function kT(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Cy,Cy):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function sc(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Z2:case ST:s=!0;break;case Qw:return s=e._init,sc(s(e._payload),t,n,r,i)}}if(s)return i=i(e),s=r===""?"."+u1(e,0):r,xy(i)?(n="",s!=null&&(n=s.replace(Ny,"$&/")+"/"),sc(i,t,n,"",function(h){return h})):i!=null&&(n5(i)&&(i=IT(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Ny,"$&/")+"/")+s)),t.push(i)),1;s=0;var o=r===""?".":r+":";if(xy(e))for(var l=0;l<e.length;l++)r=e[l],a=o+u1(r,l),s+=sc(r,t,n,a,i);else if(l=PT(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,a=o+u1(r,l++),s+=sc(r,t,n,a,i);else if(a==="object"){if(typeof e.then=="function")return sc(kT(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function tp(e,t,n){if(e==null)return e;var r=[],i=0;return sc(e,r,"","",function(a){return t.call(n,a,i++)}),r}function MT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ry=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function jT(){}Ee.Children={map:tp,forEach:function(e,t,n){tp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tp(e,function(){t++}),t},toArray:function(e){return tp(e,function(t){return t})||[]},only:function(e){if(!n5(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=sh;Ee.Fragment=ET;Ee.Profiler=xT;Ee.PureComponent=J2;Ee.StrictMode=TT;Ee.Suspense=LT;Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=wn;Ee.act=function(){throw Error("act(...) is not supported in production builds of React.")};Ee.cache=function(e){return function(){return e.apply(null,arguments)}};Ee.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=Xw({},e.props),i=e.key,a=void 0;if(t!=null)for(s in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(i=""+t.key),t)!t4.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(r[s]=t[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}return e5(e.type,i,void 0,void 0,a,r)};Ee.createContext=function(e){return e={$$typeof:CT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:NT,_context:e},e};Ee.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)t4.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return e5(e,a,void 0,void 0,null,i)};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:RT,render:e}};Ee.isValidElement=n5;Ee.lazy=function(e){return{$$typeof:Qw,_payload:{_status:-1,_result:e},_init:MT}};Ee.memo=function(e,t){return{$$typeof:DT,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=wn.T,n={};wn.T=n;try{var r=e(),i=wn.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(jT,Ry)}catch(a){Ry(a)}finally{wn.T=t}};Ee.unstable_useCacheRefresh=function(){return wn.H.useCacheRefresh()};Ee.use=function(e){return wn.H.use(e)};Ee.useActionState=function(e,t,n){return wn.H.useActionState(e,t,n)};Ee.useCallback=function(e,t){return wn.H.useCallback(e,t)};Ee.useContext=function(e){return wn.H.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e,t){return wn.H.useDeferredValue(e,t)};Ee.useEffect=function(e,t){return wn.H.useEffect(e,t)};Ee.useId=function(){return wn.H.useId()};Ee.useImperativeHandle=function(e,t,n){return wn.H.useImperativeHandle(e,t,n)};Ee.useInsertionEffect=function(e,t){return wn.H.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return wn.H.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return wn.H.useMemo(e,t)};Ee.useOptimistic=function(e,t){return wn.H.useOptimistic(e,t)};Ee.useReducer=function(e,t,n){return wn.H.useReducer(e,t,n)};Ee.useRef=function(e){return wn.H.useRef(e)};Ee.useState=function(e){return wn.H.useState(e)};Ee.useSyncExternalStore=function(e,t,n){return wn.H.useSyncExternalStore(e,t,n)};Ee.useTransition=function(){return wn.H.useTransition()};Ee.version="19.0.0";Yw.exports=Ee;var ct=Yw.exports;const Fc=$w(ct);var e4={exports:{}},Qm={},n4={exports:{}},r4={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,Q){var X=q.length;q.push(Q);t:for(;0<X;){var J=X-1>>>1,at=q[J];if(0<i(at,Q))q[J]=Q,q[X]=at,X=J;else break t}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Q=q[0],X=q.pop();if(X!==Q){q[0]=X;t:for(var J=0,at=q.length,yt=at>>>1;J<yt;){var M=2*(J+1)-1,$=q[M],Z=M+1,et=q[Z];if(0>i($,X))Z<at&&0>i(et,$)?(q[J]=et,q[Z]=X,J=Z):(q[J]=$,q[M]=X,J=M);else if(Z<at&&0>i(et,X))q[J]=et,q[Z]=X,J=Z;else break t}}return Q}function i(q,Q){var X=q.sortIndex-Q.sortIndex;return X!==0?X:q.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],h=[],p=1,m=null,g=3,d=!1,T=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function w(q){for(var Q=n(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=q)r(h),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=n(h)}}function k(q){if(C=!1,w(q),!T)if(n(l)!==null)T=!0,Y();else{var Q=n(h);Q!==null&&st(k,Q.startTime-q)}}var j=!1,z=-1,N=5,E=-1;function R(){return!(e.unstable_now()-E<N)}function O(){if(j){var q=e.unstable_now();E=q;var Q=!0;try{t:{T=!1,C&&(C=!1,y(z),z=-1),d=!0;var X=g;try{e:{for(w(q),m=n(l);m!==null&&!(m.expirationTime>q&&R());){var J=m.callback;if(typeof J=="function"){m.callback=null,g=m.priorityLevel;var at=J(m.expirationTime<=q);if(q=e.unstable_now(),typeof at=="function"){m.callback=at,w(q),Q=!0;break e}m===n(l)&&r(l),w(q)}else r(l);m=n(l)}if(m!==null)Q=!0;else{var yt=n(h);yt!==null&&st(k,yt.startTime-q),Q=!1}}break t}finally{m=null,g=X,d=!1}Q=void 0}}finally{Q?x():j=!1}}}var x;if(typeof b=="function")x=function(){b(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,L=A.port2;A.port1.onmessage=O,x=function(){L.postMessage(null)}}else x=function(){P(O,0)};function Y(){j||(j=!0,x())}function st(q,Q){z=P(function(){q(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){T||d||(T=!0,Y())},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(q){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var X=g;g=Q;try{return q()}finally{g=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var X=g;g=q;try{return Q()}finally{g=X}},e.unstable_scheduleCallback=function(q,Q,X){var J=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?J+X:J):X=J,q){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=X+at,q={id:p++,callback:Q,priorityLevel:q,startTime:X,expirationTime:at,sortIndex:-1},X>J?(q.sortIndex=X,t(h,q),n(l)===null&&q===n(h)&&(C?(y(z),z=-1):C=!0,st(k,X-J))):(q.sortIndex=at,t(l,q),T||d||(T=!0,Y())),q},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(q){var Q=g;return function(){var X=g;g=Q;try{return q.apply(this,arguments)}finally{g=X}}}})(r4);n4.exports=r4;var FT=n4.exports,i4={exports:{}},Xr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT=ct;function a4(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function No(){}var Yr={d:{f:No,r:function(){throw Error(a4(522))},D:No,C:No,L:No,m:No,X:No,S:No,M:No},p:0,findDOMNode:null},BT=Symbol.for("react.portal");function UT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:BT,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var lf=VT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Km(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Yr;Xr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(a4(299));return UT(e,t,null,n)};Xr.flushSync=function(e){var t=lf.T,n=Yr.p;try{if(lf.T=null,Yr.p=2,e)return e()}finally{lf.T=t,Yr.p=n,Yr.d.f()}};Xr.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Yr.d.C(e,t))};Xr.prefetchDNS=function(e){typeof e=="string"&&Yr.d.D(e)};Xr.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=Km(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Yr.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Yr.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Xr.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Km(t.as,t.crossOrigin);Yr.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Yr.d.M(e)};Xr.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=Km(n,t.crossOrigin);Yr.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Xr.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Km(t.as,t.crossOrigin);Yr.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Yr.d.m(e)};Xr.requestFormReset=function(e){Yr.d.r(e)};Xr.unstable_batchedUpdates=function(e,t){return e(t)};Xr.useFormState=function(e,t,n){return lf.H.useFormState(e,t,n)};Xr.useFormStatus=function(){return lf.H.useHostTransitionStatus()};Xr.version="19.0.0";function s4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s4)}catch(e){console.error(e)}}s4(),i4.exports=Xr;var zT=i4.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ar=FT,o4=ct,qT=zT;function Pt(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var HT=Symbol.for("react.element"),ep=Symbol.for("react.transitional.element"),Kh=Symbol.for("react.portal"),gc=Symbol.for("react.fragment"),u4=Symbol.for("react.strict_mode"),p0=Symbol.for("react.profiler"),$T=Symbol.for("react.provider"),c4=Symbol.for("react.consumer"),Is=Symbol.for("react.context"),r5=Symbol.for("react.forward_ref"),m0=Symbol.for("react.suspense"),g0=Symbol.for("react.suspense_list"),i5=Symbol.for("react.memo"),Oo=Symbol.for("react.lazy"),h4=Symbol.for("react.offscreen"),GT=Symbol.for("react.memo_cache_sentinel"),Ly=Symbol.iterator;function Vh(e){return e===null||typeof e!="object"?null:(e=Ly&&e[Ly]||e["@@iterator"],typeof e=="function"?e:null)}var WT=Symbol.for("react.client.reference");function v0(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===WT?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gc:return"Fragment";case Kh:return"Portal";case p0:return"Profiler";case u4:return"StrictMode";case m0:return"Suspense";case g0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Is:return(e.displayName||"Context")+".Provider";case c4:return(e._context.displayName||"Context")+".Consumer";case r5:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case i5:return t=e.displayName||null,t!==null?t:v0(e.type)||"Memo";case Oo:t=e._payload,e=e._init;try{return v0(e(t))}catch{}}return null}var we=o4.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vn=Object.assign,c1,Dy;function Xh(e){if(c1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);c1=t&&t[1]||"",Dy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+c1+e+Dy}var h1=!1;function f1(e,t){if(!e||h1)return"";h1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(d){var g=d}Reflect.construct(e,[],m)}else{try{m.call()}catch(d){g=d}e.call(m.prototype)}}else{try{throw Error()}catch(d){g=d}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(d){if(d&&g&&typeof d.stack=="string")return[d.stack,g.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),h=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<h.length&&!h[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===h.length)for(r=l.length-1,i=h.length-1;1<=r&&0<=i&&l[r]!==h[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==h[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==h[i]){var p=`
`+l[r].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=r&&0<=i);break}}}finally{h1=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Xh(n):""}function YT(e){switch(e.tag){case 26:case 27:case 5:return Xh(e.type);case 16:return Xh("Lazy");case 13:return Xh("Suspense");case 19:return Xh("SuspenseList");case 0:case 15:return e=f1(e.type,!1),e;case 11:return e=f1(e.type.render,!1),e;case 1:return e=f1(e.type,!0),e;default:return""}}function Py(e){try{var t="";do t+=YT(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function oh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iy(e){if(oh(e)!==e)throw Error(Pt(188))}function QT(e){var t=e.alternate;if(!t){if(t=oh(e),t===null)throw Error(Pt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Iy(i),e;if(a===r)return Iy(i),t;a=a.sibling}throw Error(Pt(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Pt(189))}}if(n.alternate!==r)throw Error(Pt(190))}if(n.tag!==3)throw Error(Pt(188));return n.stateNode.current===n?e:t}function d4(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d4(e),t!==null)return t;e=e.sibling}return null}var Zh=Array.isArray,gn=qT.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zl={pending:!1,data:null,method:null,action:null},y0=[],vc=-1;function ns(e){return{current:e}}function dr(e){0>vc||(e.current=y0[vc],y0[vc]=null,vc--)}function bn(e,t){vc++,y0[vc]=e.current,e.current=t}var Ga=ns(null),Of=ns(null),$o=ns(null),Jp=ns(null);function tm(e,t){switch(bn($o,t),bn(Of,e),bn(Ga,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Ob(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=Ob(e),t=TA(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}dr(Ga),bn(Ga,t)}function Vc(){dr(Ga),dr(Of),dr($o)}function b0(e){e.memoizedState!==null&&bn(Jp,e);var t=Ga.current,n=TA(t,e.type);t!==n&&(bn(Of,e),bn(Ga,n))}function em(e){Of.current===e&&(dr(Ga),dr(Of)),Jp.current===e&&(dr(Jp),$f._currentValue=Zl)}var _0=Object.prototype.hasOwnProperty,a5=ar.unstable_scheduleCallback,d1=ar.unstable_cancelCallback,KT=ar.unstable_shouldYield,XT=ar.unstable_requestPaint,Wa=ar.unstable_now,ZT=ar.unstable_getCurrentPriorityLevel,p4=ar.unstable_ImmediatePriority,m4=ar.unstable_UserBlockingPriority,nm=ar.unstable_NormalPriority,JT=ar.unstable_LowPriority,g4=ar.unstable_IdlePriority,tx=ar.log,ex=ar.unstable_setDisableYieldValue,ld=null,Ri=null;function nx(e){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(ld,e,void 0,(e.current.flags&128)===128)}catch{}}function Uo(e){if(typeof tx=="function"&&ex(e),Ri&&typeof Ri.setStrictMode=="function")try{Ri.setStrictMode(ld,e)}catch{}}var Li=Math.clz32?Math.clz32:ax,rx=Math.log,ix=Math.LN2;function ax(e){return e>>>=0,e===0?32:31-(rx(e)/ix|0)|0}var np=128,rp=4194304;function zl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=e.warmLanes;e=e.finishedLanes!==0;var o=n&134217727;return o!==0?(n=o&~i,n!==0?r=zl(n):(a&=o,a!==0?r=zl(a):e||(s=o&~s,s!==0&&(r=zl(s))))):(o=n&~i,o!==0?r=zl(o):a!==0?r=zl(a):e||(s=n&~s,s!==0&&(r=zl(s)))),r===0?0:t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===32&&(s&4194176)!==0)?t:r}function ud(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function sx(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v4(){var e=np;return np<<=1,!(np&4194176)&&(np=128),e}function y4(){var e=rp;return rp<<=1,!(rp&62914560)&&(rp=4194304),e}function p1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cd(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ox(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,h=e.hiddenUpdates;for(n=s&~n;0<n;){var p=31-Li(n),m=1<<p;o[p]=0,l[p]=-1;var g=h[p];if(g!==null)for(h[p]=null,p=0;p<g.length;p++){var d=g[p];d!==null&&(d.lane&=-536870913)}n&=~m}r!==0&&b4(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function b4(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Li(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194218}function _4(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Li(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function w4(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function A4(){var e=gn.p;return e!==0?e:(e=window.event,e===void 0?32:kA(e.type))}function lx(e,t){var n=gn.p;try{return gn.p=e,t()}finally{gn.p=n}}var vl=Math.random().toString(36).slice(2),jr="__reactFiber$"+vl,ci="__reactProps$"+vl,lh="__reactContainer$"+vl,w0="__reactEvents$"+vl,ux="__reactListeners$"+vl,cx="__reactHandles$"+vl,Oy="__reactResources$"+vl,kf="__reactMarker$"+vl;function s5(e){delete e[jr],delete e[ci],delete e[w0],delete e[ux],delete e[cx]}function Wl(e){var t=e[jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lh]||n[jr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mb(e);e!==null;){if(n=e[jr])return n;e=Mb(e)}return t}e=n,n=e.parentNode}return null}function uh(e){if(e=e[jr]||e[lh]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Jh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Pt(33))}function Cc(e){var t=e[Oy];return t||(t=e[Oy]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function hr(e){e[kf]=!0}var S4=new Set,E4={};function yu(e,t){Bc(e,t),Bc(e+"Capture",t)}function Bc(e,t){for(E4[e]=t,e=0;e<t.length;e++)S4.add(t[e])}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ky={},My={};function fx(e){return _0.call(My,e)?!0:_0.call(ky,e)?!1:hx.test(e)?My[e]=!0:(ky[e]=!0,!1)}function Cp(e,t,n){if(fx(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ip(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Es(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function $i(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function T4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dx(e){var t=T4(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rm(e){e._valueTracker||(e._valueTracker=dx(e))}function x4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=T4(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function im(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var px=/[\n"\\]/g;function Qi(e){return e.replace(px,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function A0(e,t,n,r,i,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$i(t)):e.value!==""+$i(t)&&(e.value=""+$i(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?S0(e,s,$i(t)):n!=null?S0(e,s,$i(n)):r!=null&&e.removeAttribute("value"),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+$i(o):e.removeAttribute("name")}function N4(e,t,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+$i(n):"",t=t!=null?""+$i(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function S0(e,t,n){t==="number"&&im(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Rc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$i(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function C4(e,t,n){if(t!=null&&(t=""+$i(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+$i(n):""}function R4(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(Pt(92));if(Zh(r)){if(1<r.length)throw Error(Pt(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=$i(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Uc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jy(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||mx.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function L4(e,t,n){if(t!=null&&typeof t!="object")throw Error(Pt(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&jy(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&jy(e,a,t[a])}function o5(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rp(e){return vx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var E0=null;function l5(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yc=null,Lc=null;function Fy(e){var t=uh(e);if(t&&(e=t.stateNode)){var n=e[ci]||null;t:switch(e=t.stateNode,t.type){case"input":if(A0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Qi(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[ci]||null;if(!i)throw Error(Pt(90));A0(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&x4(r)}break t;case"textarea":C4(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Rc(e,!!n.multiple,t,!1)}}}var m1=!1;function D4(e,t,n){if(m1)return e(t,n);m1=!0;try{var r=e(t);return r}finally{if(m1=!1,(yc!==null||Lc!==null)&&(og(),yc&&(t=yc,e=Lc,Lc=yc=null,Fy(t),e)))for(t=0;t<e.length;t++)Fy(e[t])}}function Mf(e,t){var n=e.stateNode;if(n===null)return null;var r=n[ci]||null;if(r===null)return null;n=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Pt(231,t,typeof n));return n}var T0=!1;if(Us)try{var Bh={};Object.defineProperty(Bh,"passive",{get:function(){T0=!0}}),window.addEventListener("test",Bh,Bh),window.removeEventListener("test",Bh,Bh)}catch{T0=!1}var zo=null,u5=null,Lp=null;function P4(){if(Lp)return Lp;var e,t=u5,n=t.length,r,i="value"in zo?zo.value:zo.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Lp=i.slice(e,1<r?1-r:void 0)}function Dp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ap(){return!0}function Vy(){return!1}function hi(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ap:Vy,this.isPropagationStopped=Vy,this}return vn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ap)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ap)},persist:function(){},isPersistent:ap}),t}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zm=hi(bu),hd=vn({},bu,{view:0,detail:0}),yx=hi(hd),g1,v1,Uh,Jm=vn({},hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uh&&(Uh&&e.type==="mousemove"?(g1=e.screenX-Uh.screenX,v1=e.screenY-Uh.screenY):v1=g1=0,Uh=e),g1)},movementY:function(e){return"movementY"in e?e.movementY:v1}}),By=hi(Jm),bx=vn({},Jm,{dataTransfer:0}),_x=hi(bx),wx=vn({},hd,{relatedTarget:0}),y1=hi(wx),Ax=vn({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),Sx=hi(Ax),Ex=vn({},bu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tx=hi(Ex),xx=vn({},bu,{data:0}),Uy=hi(xx),Nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rx[e])?!!t[e]:!1}function c5(){return Lx}var Dx=vn({},hd,{key:function(e){if(e.key){var t=Nx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c5,charCode:function(e){return e.type==="keypress"?Dp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Px=hi(Dx),Ix=vn({},Jm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zy=hi(Ix),Ox=vn({},hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c5}),kx=hi(Ox),Mx=vn({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),jx=hi(Mx),Fx=vn({},Jm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vx=hi(Fx),Bx=vn({},bu,{newState:0,oldState:0}),Ux=hi(Bx),zx=[9,13,27,32],h5=Us&&"CompositionEvent"in window,uf=null;Us&&"documentMode"in document&&(uf=document.documentMode);var qx=Us&&"TextEvent"in window&&!uf,I4=Us&&(!h5||uf&&8<uf&&11>=uf),qy=" ",Hy=!1;function O4(e,t){switch(e){case"keyup":return zx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bc=!1;function Hx(e,t){switch(e){case"compositionend":return k4(t);case"keypress":return t.which!==32?null:(Hy=!0,qy);case"textInput":return e=t.data,e===qy&&Hy?null:e;default:return null}}function $x(e,t){if(bc)return e==="compositionend"||!h5&&O4(e,t)?(e=P4(),Lp=u5=zo=null,bc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return I4&&t.locale!=="ko"?null:t.data;default:return null}}var Gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $y(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gx[e.type]:t==="textarea"}function M4(e,t,n,r){yc?Lc?Lc.push(r):Lc=[r]:yc=r,t=_m(t,"onChange"),0<t.length&&(n=new Zm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cf=null,jf=null;function Wx(e){AA(e,0)}function tg(e){var t=Jh(e);if(x4(t))return e}function Gy(e,t){if(e==="change")return t}var j4=!1;if(Us){var b1;if(Us){var _1="oninput"in document;if(!_1){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),_1=typeof Wy.oninput=="function"}b1=_1}else b1=!1;j4=b1&&(!document.documentMode||9<document.documentMode)}function Yy(){cf&&(cf.detachEvent("onpropertychange",F4),jf=cf=null)}function F4(e){if(e.propertyName==="value"&&tg(jf)){var t=[];M4(t,jf,e,l5(e)),D4(Wx,t)}}function Yx(e,t,n){e==="focusin"?(Yy(),cf=t,jf=n,cf.attachEvent("onpropertychange",F4)):e==="focusout"&&Yy()}function Qx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tg(jf)}function Kx(e,t){if(e==="click")return tg(t)}function Xx(e,t){if(e==="input"||e==="change")return tg(t)}function Zx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pi=typeof Object.is=="function"?Object.is:Zx;function Ff(e,t){if(Pi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_0.call(t,i)||!Pi(e[i],t[i]))return!1}return!0}function Qy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ky(e,t){var n=Qy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Qy(n)}}function V4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?V4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function B4(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=im(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=im(e.document)}return t}function f5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jx(e,t){var n=B4(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&V4(t.ownerDocument.documentElement,t)){if(r!==null&&f5(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!n.extend&&a>r&&(i=r,r=a,a=i),i=Ky(t,a);var s=Ky(t,r);i&&s&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),a>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var tN=Us&&"documentMode"in document&&11>=document.documentMode,_c=null,x0=null,hf=null,N0=!1;function Xy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;N0||_c==null||_c!==im(r)||(r=_c,"selectionStart"in r&&f5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hf&&Ff(hf,r)||(hf=r,r=_m(x0,"onSelect"),0<r.length&&(t=new Zm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_c)))}function Ul(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wc={animationend:Ul("Animation","AnimationEnd"),animationiteration:Ul("Animation","AnimationIteration"),animationstart:Ul("Animation","AnimationStart"),transitionrun:Ul("Transition","TransitionRun"),transitionstart:Ul("Transition","TransitionStart"),transitioncancel:Ul("Transition","TransitionCancel"),transitionend:Ul("Transition","TransitionEnd")},w1={},U4={};Us&&(U4=document.createElement("div").style,"AnimationEvent"in window||(delete wc.animationend.animation,delete wc.animationiteration.animation,delete wc.animationstart.animation),"TransitionEvent"in window||delete wc.transitionend.transition);function _u(e){if(w1[e])return w1[e];if(!wc[e])return e;var t=wc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in U4)return w1[e]=t[n];return e}var z4=_u("animationend"),q4=_u("animationiteration"),H4=_u("animationstart"),eN=_u("transitionrun"),nN=_u("transitionstart"),rN=_u("transitioncancel"),$4=_u("transitionend"),G4=new Map,Zy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sa(e,t){G4.set(e,t),yu(t,[e])}var Hi=[],Ac=0,d5=0;function eg(){for(var e=Ac,t=d5=Ac=0;t<e;){var n=Hi[t];Hi[t++]=null;var r=Hi[t];Hi[t++]=null;var i=Hi[t];Hi[t++]=null;var a=Hi[t];if(Hi[t++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&W4(n,i,a)}}function ng(e,t,n,r){Hi[Ac++]=e,Hi[Ac++]=t,Hi[Ac++]=n,Hi[Ac++]=r,d5|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function p5(e,t,n,r){return ng(e,t,n,r),am(e)}function il(e,t){return ng(e,null,null,t),am(e)}function W4(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;i&&t!==null&&e.tag===3&&(a=e.stateNode,i=31-Li(n),a=a.hiddenUpdates,e=a[i],e===null?a[i]=[t]:e.push(t),t.lane=n|536870912)}function am(e){if(50<Sf)throw Sf=0,Q0=null,Error(Pt(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Sc={},Jy=new WeakMap;function Ki(e,t){if(typeof e=="object"&&e!==null){var n=Jy.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Py(t)},Jy.set(e,t),t)}return{value:e,source:t,stack:Py(t)}}var Ec=[],Tc=0,sm=null,om=0,Gi=[],Wi=0,Jl=null,Os=1,ks="";function ql(e,t){Ec[Tc++]=om,Ec[Tc++]=sm,sm=e,om=t}function Y4(e,t,n){Gi[Wi++]=Os,Gi[Wi++]=ks,Gi[Wi++]=Jl,Jl=e;var r=Os;e=ks;var i=32-Li(r)-1;r&=~(1<<i),n+=1;var a=32-Li(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Os=1<<32-Li(t)+i|n<<i|r,ks=a+e}else Os=1<<a|n<<i|r,ks=e}function m5(e){e.return!==null&&(ql(e,1),Y4(e,1,0))}function g5(e){for(;e===sm;)sm=Ec[--Tc],Ec[Tc]=null,om=Ec[--Tc],Ec[Tc]=null;for(;e===Jl;)Jl=Gi[--Wi],Gi[Wi]=null,ks=Gi[--Wi],Gi[Wi]=null,Os=Gi[--Wi],Gi[Wi]=null}var Wr=null,wr=null,Be=!1,ba=null,qa=!1,C0=Error(Pt(519));function hu(e){var t=Error(Pt(418,""));throw Vf(Ki(t,e)),C0}function tb(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[jr]=e,t[ci]=r,n){case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":case"embed":Pe("load",t);break;case"video":case"audio":for(n=0;n<zf.length;n++)Pe(zf[n],t);break;case"source":Pe("error",t);break;case"img":case"image":case"link":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"input":Pe("invalid",t),N4(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),rm(t);break;case"select":Pe("invalid",t);break;case"textarea":Pe("invalid",t),R4(t,r.value,r.defaultValue,r.children),rm(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||EA(t.textContent,n)?(r.popover!=null&&(Pe("beforetoggle",t),Pe("toggle",t)),r.onScroll!=null&&Pe("scroll",t),r.onScrollEnd!=null&&Pe("scrollend",t),r.onClick!=null&&(t.onclick=ug),t=!0):t=!1,t||hu(e)}function eb(e){for(Wr=e.return;Wr;)switch(Wr.tag){case 3:case 27:qa=!0;return;case 5:case 13:qa=!1;return;default:Wr=Wr.return}}function zh(e){if(e!==Wr)return!1;if(!Be)return eb(e),Be=!0,!1;var t=!1,n;if((n=e.tag!==3&&e.tag!==27)&&((n=e.tag===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||n2(e.type,e.memoizedProps)),n=!n),n&&(t=!0),t&&wr&&hu(e),eb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pt(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){wr=_a(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}wr=null}}else wr=Wr?_a(e.stateNode.nextSibling):null;return!0}function fd(){wr=Wr=null,Be=!1}function Vf(e){ba===null?ba=[e]:ba.push(e)}var ff=Error(Pt(460)),Q4=Error(Pt(474)),R0={then:function(){}};function nb(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sp(){}function K4(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(sp,sp),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===ff?Error(Pt(483)):e;default:if(typeof t.status=="string")t.then(sp,sp);else{if(e=un,e!==null&&100<e.shellSuspendCounter)throw Error(Pt(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===ff?Error(Pt(483)):e}throw df=t,ff}}var df=null;function rb(){if(df===null)throw Error(Pt(459));var e=df;return df=null,e}var Dc=null,Bf=0;function op(e){var t=Bf;return Bf+=1,Dc===null&&(Dc=[]),K4(Dc,e,t)}function qh(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function lp(e,t){throw t.$$typeof===HT?Error(Pt(525)):(e=Object.prototype.toString.call(t),Error(Pt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ib(e){var t=e._init;return t(e._payload)}function X4(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function n(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function r(y){for(var b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(y,b){return y=Yo(y,b),y.index=0,y.sibling=null,y}function a(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=33554434,b):w):(y.flags|=33554434,b)):(y.flags|=1048576,b)}function s(y){return e&&y.alternate===null&&(y.flags|=33554434),y}function o(y,b,w,k){return b===null||b.tag!==6?(b=I1(w,y.mode,k),b.return=y,b):(b=i(b,w),b.return=y,b)}function l(y,b,w,k){var j=w.type;return j===gc?p(y,b,w.props.children,k,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Oo&&ib(j)===b.type)?(b=i(b,w.props),qh(b,w),b.return=y,b):(b=Mp(w.type,w.key,w.props,null,y.mode,k),qh(b,w),b.return=y,b)}function h(y,b,w,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=O1(w,y.mode,k),b.return=y,b):(b=i(b,w.children||[]),b.return=y,b)}function p(y,b,w,k,j){return b===null||b.tag!==7?(b=eu(w,y.mode,k,j),b.return=y,b):(b=i(b,w),b.return=y,b)}function m(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=I1(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ep:return w=Mp(b.type,b.key,b.props,null,y.mode,w),qh(w,b),w.return=y,w;case Kh:return b=O1(b,y.mode,w),b.return=y,b;case Oo:var k=b._init;return b=k(b._payload),m(y,b,w)}if(Zh(b)||Vh(b))return b=eu(b,y.mode,w,null),b.return=y,b;if(typeof b.then=="function")return m(y,op(b),w);if(b.$$typeof===Is)return m(y,up(y,b),w);lp(y,b)}return null}function g(y,b,w,k){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return j!==null?null:o(y,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ep:return w.key===j?l(y,b,w,k):null;case Kh:return w.key===j?h(y,b,w,k):null;case Oo:return j=w._init,w=j(w._payload),g(y,b,w,k)}if(Zh(w)||Vh(w))return j!==null?null:p(y,b,w,k,null);if(typeof w.then=="function")return g(y,b,op(w),k);if(w.$$typeof===Is)return g(y,b,up(y,w),k);lp(y,w)}return null}function d(y,b,w,k,j){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return y=y.get(w)||null,o(b,y,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ep:return y=y.get(k.key===null?w:k.key)||null,l(b,y,k,j);case Kh:return y=y.get(k.key===null?w:k.key)||null,h(b,y,k,j);case Oo:var z=k._init;return k=z(k._payload),d(y,b,w,k,j)}if(Zh(k)||Vh(k))return y=y.get(w)||null,p(b,y,k,j,null);if(typeof k.then=="function")return d(y,b,w,op(k),j);if(k.$$typeof===Is)return d(y,b,w,up(b,k),j);lp(b,k)}return null}function T(y,b,w,k){for(var j=null,z=null,N=b,E=b=0,R=null;N!==null&&E<w.length;E++){N.index>E?(R=N,N=null):R=N.sibling;var O=g(y,N,w[E],k);if(O===null){N===null&&(N=R);break}e&&N&&O.alternate===null&&t(y,N),b=a(O,b,E),z===null?j=O:z.sibling=O,z=O,N=R}if(E===w.length)return n(y,N),Be&&ql(y,E),j;if(N===null){for(;E<w.length;E++)N=m(y,w[E],k),N!==null&&(b=a(N,b,E),z===null?j=N:z.sibling=N,z=N);return Be&&ql(y,E),j}for(N=r(N);E<w.length;E++)R=d(N,y,E,w[E],k),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?E:R.key),b=a(R,b,E),z===null?j=R:z.sibling=R,z=R);return e&&N.forEach(function(x){return t(y,x)}),Be&&ql(y,E),j}function C(y,b,w,k){if(w==null)throw Error(Pt(151));for(var j=null,z=null,N=b,E=b=0,R=null,O=w.next();N!==null&&!O.done;E++,O=w.next()){N.index>E?(R=N,N=null):R=N.sibling;var x=g(y,N,O.value,k);if(x===null){N===null&&(N=R);break}e&&N&&x.alternate===null&&t(y,N),b=a(x,b,E),z===null?j=x:z.sibling=x,z=x,N=R}if(O.done)return n(y,N),Be&&ql(y,E),j;if(N===null){for(;!O.done;E++,O=w.next())O=m(y,O.value,k),O!==null&&(b=a(O,b,E),z===null?j=O:z.sibling=O,z=O);return Be&&ql(y,E),j}for(N=r(N);!O.done;E++,O=w.next())O=d(N,y,E,O.value,k),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?E:O.key),b=a(O,b,E),z===null?j=O:z.sibling=O,z=O);return e&&N.forEach(function(A){return t(y,A)}),Be&&ql(y,E),j}function P(y,b,w,k){if(typeof w=="object"&&w!==null&&w.type===gc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ep:t:{for(var j=w.key;b!==null;){if(b.key===j){if(j=w.type,j===gc){if(b.tag===7){n(y,b.sibling),k=i(b,w.props.children),k.return=y,y=k;break t}}else if(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Oo&&ib(j)===b.type){n(y,b.sibling),k=i(b,w.props),qh(k,w),k.return=y,y=k;break t}n(y,b);break}else t(y,b);b=b.sibling}w.type===gc?(k=eu(w.props.children,y.mode,k,w.key),k.return=y,y=k):(k=Mp(w.type,w.key,w.props,null,y.mode,k),qh(k,w),k.return=y,y=k)}return s(y);case Kh:t:{for(j=w.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(y,b.sibling),k=i(b,w.children||[]),k.return=y,y=k;break t}else{n(y,b);break}else t(y,b);b=b.sibling}k=O1(w,y.mode,k),k.return=y,y=k}return s(y);case Oo:return j=w._init,w=j(w._payload),P(y,b,w,k)}if(Zh(w))return T(y,b,w,k);if(Vh(w)){if(j=Vh(w),typeof j!="function")throw Error(Pt(150));return w=j.call(w),C(y,b,w,k)}if(typeof w.then=="function")return P(y,b,op(w),k);if(w.$$typeof===Is)return P(y,b,up(y,w),k);lp(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,b!==null&&b.tag===6?(n(y,b.sibling),k=i(b,w),k.return=y,y=k):(n(y,b),k=I1(w,y.mode,k),k.return=y,y=k),s(y)):n(y,b)}return function(y,b,w,k){try{Bf=0;var j=P(y,b,w,k);return Dc=null,j}catch(N){if(N===ff)throw N;var z=Xi(29,N,null,y.mode);return z.lanes=k,z.return=y,z}finally{}}}var fu=X4(!0),Z4=X4(!1),zc=ns(null),lm=ns(0);function ab(e,t){e=Hs,bn(lm,e),bn(zc,t),Hs=e|t.baseLanes}function L0(){bn(lm,Hs),bn(zc,zc.current)}function v5(){Hs=lm.current,dr(zc),dr(lm)}var ta=ns(null),Ya=null;function Mo(e){var t=e.alternate;bn(nr,nr.current&1),bn(ta,e),Ya===null&&(t===null||zc.current!==null||t.memoizedState!==null)&&(Ya=e)}function J4(e){if(e.tag===22){if(bn(nr,nr.current),bn(ta,e),Ya===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ya=e)}}else jo()}function jo(){bn(nr,nr.current),bn(ta,ta.current)}function Ms(e){dr(ta),Ya===e&&(Ya=null),dr(nr)}var nr=ns(0);function um(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iN=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},aN=ar.unstable_scheduleCallback,sN=ar.unstable_NormalPriority,er={$$typeof:Is,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function y5(){return{controller:new iN,data:new Map,refCount:0}}function dd(e){e.refCount--,e.refCount===0&&aN(sN,function(){e.controller.abort()})}var pf=null,D0=0,qc=0,Pc=null;function oN(e,t){if(pf===null){var n=pf=[];D0=0,qc=U5(),Pc={status:"pending",value:void 0,then:function(r){n.push(r)}}}return D0++,t.then(sb,sb),t}function sb(){if(--D0===0&&pf!==null){Pc!==null&&(Pc.status="fulfilled");var e=pf;pf=null,qc=0,Pc=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lN(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var ob=we.S;we.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&oN(e,t),ob!==null&&ob(e,t)};var tu=ns(null);function b5(){var e=tu.current;return e!==null?e:un.pooledCache}function Pp(e,t){t===null?bn(tu,tu.current):bn(tu,t.pool)}function t3(){var e=b5();return e===null?null:{parent:er._currentValue,pool:e}}var al=0,Te=null,Ze=null,Yn=null,cm=!1,Ic=!1,du=!1,hm=0,Uf=0,Oc=null,uN=0;function Mn(){throw Error(Pt(321))}function _5(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pi(e[n],t[n]))return!1;return!0}function w5(e,t,n,r,i,a){return al=a,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,we.H=e===null||e.memoizedState===null?wu:yl,du=!1,a=n(r,i),du=!1,Ic&&(a=n3(t,n,r,i)),e3(e),a}function e3(e){we.H=Za;var t=Ze!==null&&Ze.next!==null;if(al=0,Yn=Ze=Te=null,cm=!1,Uf=0,Oc=null,t)throw Error(Pt(300));e===null||fr||(e=e.dependencies,e!==null&&pm(e)&&(fr=!0))}function n3(e,t,n,r){Te=e;var i=0;do{if(Ic&&(Oc=null),Uf=0,Ic=!1,25<=i)throw Error(Pt(301));if(i+=1,Yn=Ze=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}we.H=Au,a=t(n,r)}while(Ic);return a}function cN(){var e=we.H,t=e.useState()[0];return t=typeof t.then=="function"?pd(t):t,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Te.flags|=1024),t}function A5(){var e=hm!==0;return hm=0,e}function S5(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function E5(e){if(cm){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cm=!1}al=0,Yn=Ze=Te=null,Ic=!1,Uf=hm=0,Oc=null}function ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?Te.memoizedState=Yn=e:Yn=Yn.next=e,Yn}function Xn(){if(Ze===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=Yn===null?Te.memoizedState:Yn.next;if(t!==null)Yn=t,Ze=e;else{if(e===null)throw Te.alternate===null?Error(Pt(467)):Error(Pt(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Yn===null?Te.memoizedState=Yn=e:Yn=Yn.next=e}return Yn}var rg;rg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function pd(e){var t=Uf;return Uf+=1,Oc===null&&(Oc=[]),e=K4(Oc,e,t),t=Te,(Yn===null?t.memoizedState:Yn.next)===null&&(t=t.alternate,we.H=t===null||t.memoizedState===null?wu:yl),e}function ig(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pd(e);if(e.$$typeof===Is)return Fr(e)}throw Error(Pt(438,String(e)))}function T5(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=rg(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=GT;return t.index++,n}function zs(e,t){return typeof t=="function"?t(e):t}function Ip(e){var t=Xn();return x5(t,Ze,e)}function x5(e,t,n){var r=e.queue;if(r===null)throw Error(Pt(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,i===null)e.memoizedState=a;else{t=i.next;var o=s=null,l=null,h=t,p=!1;do{var m=h.lane&-536870913;if(m!==h.lane?(Me&m)===m:(al&m)===m){var g=h.revertLane;if(g===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),m===qc&&(p=!0);else if((al&g)===g){h=h.next,g===qc&&(p=!0);continue}else m={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},l===null?(o=l=m,s=a):l=l.next=m,Te.lanes|=g,ol|=g;m=h.action,du&&n(a,m),a=h.hasEagerState?h.eagerState:n(a,m)}else g={lane:m,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},l===null?(o=l=g,s=a):l=l.next=g,Te.lanes|=m,ol|=m;h=h.next}while(h!==null&&h!==t);if(l===null?s=a:l.next=o,!Pi(a,e.memoizedState)&&(fr=!0,p&&(n=Pc,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function A1(e){var t=Xn(),n=t.queue;if(n===null)throw Error(Pt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Pi(a,t.memoizedState)||(fr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function r3(e,t,n){var r=Te,i=Xn(),a=Be;if(a){if(n===void 0)throw Error(Pt(407));n=n()}else n=t();var s=!Pi((Ze||i).memoizedState,n);if(s&&(i.memoizedState=n,fr=!0),i=i.queue,N5(s3.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||Yn!==null&&Yn.memoizedState.tag&1){if(r.flags|=2048,Hc(9,a3.bind(null,r,i,n,t),{destroy:void 0},null),un===null)throw Error(Pt(349));a||al&60||i3(r,t,n)}return n}function i3(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=rg(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function a3(e,t,n,r){t.value=n,t.getSnapshot=r,o3(t)&&l3(e)}function s3(e,t,n){return n(function(){o3(t)&&l3(e)})}function o3(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pi(e,n)}catch{return!0}}function l3(e){var t=il(e,2);t!==null&&Kr(t,e,2)}function P0(e){var t=ai();if(typeof e=="function"){var n=e;if(e=n(),du){Uo(!0);try{n()}finally{Uo(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:e},t}function u3(e,t,n,r){return e.baseState=n,x5(e,Ze,typeof r=="function"?r:zs)}function hN(e,t,n,r,i){if(sg(e))throw Error(Pt(485));if(e=t.action,e!==null){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};we.T!==null?n(!0):a.isTransition=!1,r(a),n=t.pending,n===null?(a.next=t.pending=a,c3(t,a)):(a.next=n.next,t.pending=n.next=a)}}function c3(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=we.T,s={};we.T=s;try{var o=n(i,r),l=we.S;l!==null&&l(s,o),lb(e,t,o)}catch(h){I0(e,t,h)}finally{we.T=a}}else try{a=n(i,r),lb(e,t,a)}catch(h){I0(e,t,h)}}function lb(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){ub(e,t,r)},function(r){return I0(e,t,r)}):ub(e,t,n)}function ub(e,t,n){t.status="fulfilled",t.value=n,h3(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,c3(e,n)))}function I0(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,h3(t),t=t.next;while(t!==r)}e.action=null}function h3(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function f3(e,t){return t}function d3(e,t){if(Be){var n=un.formState;if(n!==null){t:{var r=Te;if(Be){if(wr){e:{for(var i=wr,a=qa;i.nodeType!==8;){if(!a){i=null;break e}if(i=_a(i.nextSibling),i===null){i=null;break e}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){wr=_a(i.nextSibling),r=i.data==="F!";break t}}hu(r)}r=!1}r&&(t=n[0])}}return n=ai(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f3,lastRenderedState:t},n.queue=r,n=L3.bind(null,Te,r),r.dispatch=n,r=P0(!1),a=D5.bind(null,Te,!1,r.queue),r=ai(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=hN.bind(null,Te,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function p3(e){var t=Xn();return m3(t,Ze,e)}function m3(e,t,n){t=x5(e,t,f3)[0],e=Ip(zs)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?pd(t):t;var r=Xn(),i=r.queue,a=i.dispatch;return n!==r.memoizedState&&(Te.flags|=2048,Hc(9,fN.bind(null,i,n),{destroy:void 0},null)),[t,a,e]}function fN(e,t){e.action=t}function g3(e){var t=Xn(),n=Ze;if(n!==null)return m3(t,n,e);Xn(),t=t.memoizedState,n=Xn();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Hc(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},t=Te.updateQueue,t===null&&(t=rg(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function v3(){return Xn().memoizedState}function Op(e,t,n,r){var i=ai();Te.flags|=e,i.memoizedState=Hc(1|t,n,{destroy:void 0},r===void 0?null:r)}function ag(e,t,n,r){var i=Xn();r=r===void 0?null:r;var a=i.memoizedState.inst;Ze!==null&&r!==null&&_5(r,Ze.memoizedState.deps)?i.memoizedState=Hc(t,n,a,r):(Te.flags|=e,i.memoizedState=Hc(1|t,n,a,r))}function cb(e,t){Op(8390656,8,e,t)}function N5(e,t){ag(2048,8,e,t)}function y3(e,t){return ag(4,2,e,t)}function b3(e,t){return ag(4,4,e,t)}function _3(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function w3(e,t,n){n=n!=null?n.concat([e]):null,ag(4,4,_3.bind(null,t,e),n)}function C5(){}function A3(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&_5(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function S3(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&_5(t,r[1]))return r[0];if(r=e(),du){Uo(!0);try{e()}finally{Uo(!1)}}return n.memoizedState=[r,t],r}function R5(e,t,n){return n===void 0||al&1073741824?e.memoizedState=t:(e.memoizedState=n,e=hA(),Te.lanes|=e,ol|=e,n)}function E3(e,t,n,r){return Pi(n,t)?n:zc.current!==null?(e=R5(e,n,r),Pi(e,t)||(fr=!0),e):al&42?(e=hA(),Te.lanes|=e,ol|=e,t):(fr=!0,e.memoizedState=n)}function T3(e,t,n,r,i){var a=gn.p;gn.p=a!==0&&8>a?a:8;var s=we.T,o={};we.T=o,D5(e,!1,t,n);try{var l=i(),h=we.S;if(h!==null&&h(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var p=lN(l,r);mf(e,t,p,Di(e))}else mf(e,t,r,Di(e))}catch(m){mf(e,t,{then:function(){},status:"rejected",reason:m},Di())}finally{gn.p=a,we.T=s}}function dN(){}function O0(e,t,n,r){if(e.tag!==5)throw Error(Pt(476));var i=x3(e).queue;T3(e,i,t,Zl,n===null?dN:function(){return N3(e),n(r)})}function x3(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Zl,baseState:Zl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:Zl},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function N3(e){var t=x3(e).next.queue;mf(e,t,{},Di())}function L5(){return Fr($f)}function C3(){return Xn().memoizedState}function R3(){return Xn().memoizedState}function pN(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Di();e=Go(n);var r=Wo(t,e,n);r!==null&&(Kr(r,t,n),vf(r,t,n)),t={cache:y5()},e.payload=t;return}t=t.return}}function mN(e,t,n){var r=Di();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},sg(e)?D3(t,n):(n=p5(e,t,n,r),n!==null&&(Kr(n,e,r),P3(n,t,r)))}function L3(e,t,n){var r=Di();mf(e,t,n,r)}function mf(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(sg(e))D3(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Pi(o,s))return ng(e,t,i,0),un===null&&eg(),!1}catch{}finally{}if(n=p5(e,t,i,r),n!==null)return Kr(n,e,r),P3(n,t,r),!0}return!1}function D5(e,t,n,r){if(r={lane:2,revertLane:U5(),action:r,hasEagerState:!1,eagerState:null,next:null},sg(e)){if(t)throw Error(Pt(479))}else t=p5(e,n,r,2),t!==null&&Kr(t,e,2)}function sg(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function D3(e,t){Ic=cm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function P3(e,t,n){if(n&4194176){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_4(e,n)}}var Za={readContext:Fr,use:ig,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn};Za.useCacheRefresh=Mn;Za.useMemoCache=Mn;Za.useHostTransitionStatus=Mn;Za.useFormState=Mn;Za.useActionState=Mn;Za.useOptimistic=Mn;var wu={readContext:Fr,use:ig,useCallback:function(e,t){return ai().memoizedState=[e,t===void 0?null:t],e},useContext:Fr,useEffect:cb,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Op(4194308,4,_3.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Op(4194308,4,e,t)},useInsertionEffect:function(e,t){Op(4,2,e,t)},useMemo:function(e,t){var n=ai();t=t===void 0?null:t;var r=e();if(du){Uo(!0);try{e()}finally{Uo(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ai();if(n!==void 0){var i=n(t);if(du){Uo(!0);try{n(t)}finally{Uo(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=mN.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=ai();return e={current:e},t.memoizedState=e},useState:function(e){e=P0(e);var t=e.queue,n=L3.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:C5,useDeferredValue:function(e,t){var n=ai();return R5(n,e,t)},useTransition:function(){var e=P0(!1);return e=T3.bind(null,Te,e.queue,!0,!1),ai().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Te,i=ai();if(Be){if(n===void 0)throw Error(Pt(407));n=n()}else{if(n=t(),un===null)throw Error(Pt(349));Me&60||i3(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,cb(s3.bind(null,r,a,e),[e]),r.flags|=2048,Hc(9,a3.bind(null,r,a,n,t),{destroy:void 0},null),n},useId:function(){var e=ai(),t=un.identifierPrefix;if(Be){var n=ks,r=Os;n=(r&~(1<<32-Li(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hm++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return ai().memoizedState=pN.bind(null,Te)}};wu.useMemoCache=T5;wu.useHostTransitionStatus=L5;wu.useFormState=d3;wu.useActionState=d3;wu.useOptimistic=function(e){var t=ai();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=D5.bind(null,Te,!0,n),n.dispatch=t,[e,t]};var yl={readContext:Fr,use:ig,useCallback:A3,useContext:Fr,useEffect:N5,useImperativeHandle:w3,useInsertionEffect:y3,useLayoutEffect:b3,useMemo:S3,useReducer:Ip,useRef:v3,useState:function(){return Ip(zs)},useDebugValue:C5,useDeferredValue:function(e,t){var n=Xn();return E3(n,Ze.memoizedState,e,t)},useTransition:function(){var e=Ip(zs)[0],t=Xn().memoizedState;return[typeof e=="boolean"?e:pd(e),t]},useSyncExternalStore:r3,useId:C3};yl.useCacheRefresh=R3;yl.useMemoCache=T5;yl.useHostTransitionStatus=L5;yl.useFormState=p3;yl.useActionState=p3;yl.useOptimistic=function(e,t){var n=Xn();return u3(n,Ze,e,t)};var Au={readContext:Fr,use:ig,useCallback:A3,useContext:Fr,useEffect:N5,useImperativeHandle:w3,useInsertionEffect:y3,useLayoutEffect:b3,useMemo:S3,useReducer:A1,useRef:v3,useState:function(){return A1(zs)},useDebugValue:C5,useDeferredValue:function(e,t){var n=Xn();return Ze===null?R5(n,e,t):E3(n,Ze.memoizedState,e,t)},useTransition:function(){var e=A1(zs)[0],t=Xn().memoizedState;return[typeof e=="boolean"?e:pd(e),t]},useSyncExternalStore:r3,useId:C3};Au.useCacheRefresh=R3;Au.useMemoCache=T5;Au.useHostTransitionStatus=L5;Au.useFormState=g3;Au.useActionState=g3;Au.useOptimistic=function(e,t){var n=Xn();return Ze!==null?u3(n,Ze,e,t):(n.baseState=e,[e,n.queue.dispatch])};function S1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:vn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var k0={isMounted:function(e){return(e=e._reactInternals)?oh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Di(),i=Go(r);i.payload=t,n!=null&&(i.callback=n),t=Wo(e,i,r),t!==null&&(Kr(t,e,r),vf(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Di(),i=Go(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Wo(e,i,r),t!==null&&(Kr(t,e,r),vf(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Di(),r=Go(n);r.tag=2,t!=null&&(r.callback=t),t=Wo(e,r,n),t!==null&&(Kr(t,e,n),vf(t,e,n))}};function hb(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Ff(n,r)||!Ff(i,a):!0}function fb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&k0.enqueueReplaceState(t,t.state,null)}function pu(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=vn({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var fm=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function I3(e){fm(e)}function O3(e){console.error(e)}function k3(e){fm(e)}function dm(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function db(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function M0(e,t,n){return n=Go(n),n.tag=3,n.payload={element:null},n.callback=function(){dm(e,t)},n}function M3(e){return e=Go(e),e.tag=3,e}function j3(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){db(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){db(t,n,r),typeof i!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function gN(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&md(t,n,i,!0),n=ta.current,n!==null){switch(n.tag){case 13:return Ya===null?X0():n.alternate===null&&Ln===0&&(Ln=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===R0?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),M1(e,r,i)),!1;case 22:return n.flags|=65536,r===R0?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),M1(e,r,i)),!1}throw Error(Pt(435,n.tag))}return M1(e,r,i),X0(),!1}if(Be)return t=ta.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==C0&&(e=Error(Pt(422),{cause:r}),Vf(Ki(e,n)))):(r!==C0&&(t=Error(Pt(423),{cause:r}),Vf(Ki(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=Ki(r,n),i=M0(e.stateNode,r,i),R1(e,i),Ln!==4&&(Ln=2)),!1;var a=Error(Pt(520),{cause:r});if(a=Ki(a,n),wf===null?wf=[a]:wf.push(a),Ln!==4&&(Ln=2),t===null)return!0;r=Ki(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=M0(n.stateNode,r,e),R1(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Qo===null||!Qo.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=M3(i),j3(i,e,n,r),R1(n,i),!1}n=n.return}while(n!==null);return!1}var F3=Error(Pt(461)),fr=!1;function br(e,t,n,r){t.child=e===null?Z4(t,null,n,r):fu(t,e.child,n,r)}function pb(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return mu(t),r=w5(e,t,n,s,a,i),o=A5(),e!==null&&!fr?(S5(e,t,i),qs(e,t,i)):(Be&&o&&m5(t),t.flags|=1,br(e,t,r,i),t.child)}function mb(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!M5(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,V3(e,t,a,r,i)):(e=Mp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!P5(e,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ff,n(s,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,e=Yo(a,r),e.ref=t.ref,e.return=t,t.child=e}function V3(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Ff(a,r)&&e.ref===t.ref)if(fr=!1,t.pendingProps=r=a,P5(e,i))e.flags&131072&&(fr=!0);else return t.lanes=e.lanes,qs(e,t,i)}return j0(e,t,n,r,i)}function B3(e,t,n){var r=t.pendingProps,i=r.children,a=(t.stateNode._pendingVisibility&2)!==0,s=e!==null?e.memoizedState:null;if(gf(e,t),r.mode==="hidden"||a){if(t.flags&128){if(r=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return gb(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pp(t,s!==null?s.cachePool:null),s!==null?ab(t,s):L0(),J4(t);else return t.lanes=t.childLanes=536870912,gb(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(Pp(t,s.cachePool),ab(t,s),jo(),t.memoizedState=null):(e!==null&&Pp(t,null),L0(),jo());return br(e,t,i,n),t.child}function gb(e,t,n,r){var i=b5();return i=i===null?null:{parent:er._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Pp(t,null),L0(),J4(t),e!==null&&md(e,t,r,!0),null}function gf(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(Pt(284));(e===null||e.ref!==n)&&(t.flags|=2097664)}}function j0(e,t,n,r,i){return mu(t),n=w5(e,t,n,r,void 0,i),r=A5(),e!==null&&!fr?(S5(e,t,i),qs(e,t,i)):(Be&&r&&m5(t),t.flags|=1,br(e,t,n,i),t.child)}function vb(e,t,n,r,i,a){return mu(t),t.updateQueue=null,n=n3(t,r,n,i),e3(e),r=A5(),e!==null&&!fr?(S5(e,t,a),qs(e,t,a)):(Be&&r&&m5(t),t.flags|=1,br(e,t,n,a),t.child)}function yb(e,t,n,r,i){if(mu(t),t.stateNode===null){var a=Sc,s=n.contextType;typeof s=="object"&&s!==null&&(a=Fr(s)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=k0,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},I5(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?Fr(s):Sc,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(S1(t,n,s,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&k0.enqueueReplaceState(a,a.state,null),bf(t,r,a,i),yf(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,l=pu(n,o);a.props=l;var h=a.context,p=n.contextType;s=Sc,typeof p=="object"&&p!==null&&(s=Fr(p));var m=n.getDerivedStateFromProps;p=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||h!==s)&&fb(t,a,r,s),ko=!1;var g=t.memoizedState;a.state=g,bf(t,r,a,i),yf(),h=t.memoizedState,o||g!==h||ko?(typeof m=="function"&&(S1(t,n,m,r),h=t.memoizedState),(l=ko||hb(t,n,l,r,g,h,s))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,q0(e,t),s=t.memoizedProps,p=pu(n,s),a.props=p,m=t.pendingProps,g=a.context,h=n.contextType,l=Sc,typeof h=="object"&&h!==null&&(l=Fr(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||g!==l)&&fb(t,a,r,l),ko=!1,g=t.memoizedState,a.state=g,bf(t,r,a,i),yf();var d=t.memoizedState;s!==m||g!==d||ko||e!==null&&e.dependencies!==null&&pm(e.dependencies)?(typeof o=="function"&&(S1(t,n,o,r),d=t.memoizedState),(p=ko||hb(t,n,p,r,g,d,l)||e!==null&&e.dependencies!==null&&pm(e.dependencies))?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,d,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,d,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=l,r=p):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,gf(e,t),r=(t.flags&128)!==0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&r?(t.child=fu(t,e.child,null,i),t.child=fu(t,null,n,i)):br(e,t,n,i),t.memoizedState=a.state,e=t.child):e=qs(e,t,i),e}function bb(e,t,n,r){return fd(),t.flags|=256,br(e,t,n,r),t.child}var E1={dehydrated:null,treeContext:null,retryLane:0};function T1(e){return{baseLanes:e,cachePool:t3()}}function x1(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Zi),e}function U3(e,t,n){var r=t.pendingProps,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(nr.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(Be){if(i?Mo(t):jo(),Be){var o=wr,l;if(l=o){t:{for(l=o,o=qa;l.nodeType!==8;){if(!o){o=null;break t}if(l=_a(l.nextSibling),l===null){o=null;break t}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:Jl!==null?{id:Os,overflow:ks}:null,retryLane:536870912},l=Xi(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,Wr=t,wr=null,l=!0):l=!1}l||hu(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return o.data==="$!"?t.lanes=16:t.lanes=536870912,null;Ms(t)}return o=r.children,r=r.fallback,i?(jo(),i=t.mode,o=V0({mode:"hidden",children:o},i),r=eu(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,i=t.child,i.memoizedState=T1(n),i.childLanes=x1(e,s,n),t.memoizedState=E1,r):(Mo(t),F0(t,o))}if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(a)t.flags&256?(Mo(t),t.flags&=-257,t=N1(e,t,n)):t.memoizedState!==null?(jo(),t.child=e.child,t.flags|=128,t=null):(jo(),i=r.fallback,o=t.mode,r=V0({mode:"visible",children:r.children},o),i=eu(i,o,n,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,fu(t,e.child,null,n),r=t.child,r.memoizedState=T1(n),r.childLanes=x1(e,s,n),t.memoizedState=E1,t=i);else if(Mo(t),o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var h=s.dgst;s=h,r=Error(Pt(419)),r.stack="",r.digest=s,Vf({value:r,source:null,stack:null}),t=N1(e,t,n)}else if(fr||md(e,t,n,!1),s=(n&e.childLanes)!==0,fr||s){if(s=un,s!==null){if(r=n&-n,r&42)r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane)throw l.retryLane=r,il(e,r),Kr(s,e,r),F3}o.data==="$?"||X0(),t=N1(e,t,n)}else o.data==="$?"?(t.flags|=128,t.child=e.child,t=DN.bind(null,e),o._reactRetry=t,t=null):(e=l.treeContext,wr=_a(o.nextSibling),Wr=t,Be=!0,ba=null,qa=!1,e!==null&&(Gi[Wi++]=Os,Gi[Wi++]=ks,Gi[Wi++]=Jl,Os=e.id,ks=e.overflow,Jl=t),t=F0(t,r.children),t.flags|=4096);return t}return i?(jo(),i=r.fallback,o=t.mode,l=e.child,h=l.sibling,r=Yo(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&31457280,h!==null?i=Yo(h,i):(i=eu(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o===null?o=T1(n):(l=o.cachePool,l!==null?(h=er._currentValue,l=l.parent!==h?{parent:h,pool:h}:l):l=t3(),o={baseLanes:o.baseLanes|n,cachePool:l}),i.memoizedState=o,i.childLanes=x1(e,s,n),t.memoizedState=E1,r):(Mo(t),n=e.child,e=n.sibling,n=Yo(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function F0(e,t){return t=V0({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function V0(e,t){return uA(e,t,0,null)}function N1(e,t,n){return fu(t,e.child,null,n),e=F0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _b(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),U0(e.return,t,n)}function C1(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function z3(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(br(e,t,r.children,n),r=nr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_b(e,n,t);else if(e.tag===19)_b(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(bn(nr,r),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&um(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),C1(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&um(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}C1(t,!0,n,null,a);break;case"together":C1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ol|=t.lanes,!(n&t.childLanes))if(e!==null){if(md(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Pt(153));if(t.child!==null){for(e=t.child,n=Yo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function P5(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&pm(e)))}function vN(e,t,n){switch(t.tag){case 3:tm(t,t.stateNode.containerInfo),Fo(t,er,e.memoizedState.cache),fd();break;case 27:case 5:b0(t);break;case 4:tm(t,t.stateNode.containerInfo);break;case 10:Fo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Mo(t),t.flags|=128,null):n&t.child.childLanes?U3(e,t,n):(Mo(t),e=qs(e,t,n),e!==null?e.sibling:null);Mo(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(md(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return z3(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bn(nr,nr.current),r)break;return null;case 22:case 23:return t.lanes=0,B3(e,t,n);case 24:Fo(t,er,e.memoizedState.cache)}return qs(e,t,n)}function q3(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)fr=!0;else{if(!P5(e,n)&&!(t.flags&128))return fr=!1,vN(e,t,n);fr=!!(e.flags&131072)}else fr=!1,Be&&t.flags&1048576&&Y4(t,om,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,typeof r=="function")M5(r)?(e=pu(r,e),t.tag=1,t=yb(null,t,r,e,n)):(t.tag=0,t=j0(null,t,r,e,n));else{if(r!=null){if(i=r.$$typeof,i===r5){t.tag=11,t=pb(null,t,r,e,n);break t}else if(i===i5){t.tag=14,t=mb(null,t,r,e,n);break t}}throw t=v0(r)||r,Error(Pt(306,t,""))}}return t;case 0:return j0(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=pu(r,t.pendingProps),yb(e,t,r,i,n);case 3:t:{if(tm(t,t.stateNode.containerInfo),e===null)throw Error(Pt(387));var a=t.pendingProps;i=t.memoizedState,r=i.element,q0(e,t),bf(t,a,null,n);var s=t.memoizedState;if(a=s.cache,Fo(t,er,a),a!==i.cache&&z0(t,[er],n,!0),yf(),a=s.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=bb(e,t,a,n);break t}else if(a!==r){r=Ki(Error(Pt(424)),t),Vf(r),t=bb(e,t,a,n);break t}else for(wr=_a(t.stateNode.containerInfo.firstChild),Wr=t,Be=!0,ba=null,qa=!0,n=Z4(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fd(),a===r){t=qs(e,t,n);break t}br(e,t,a,n)}t=t.child}return t;case 26:return gf(e,t),e===null?(n=Fb(t.type,null,t.pendingProps,null))?t.memoizedState=n:Be||(n=t.type,e=t.pendingProps,r=wm($o.current).createElement(n),r[jr]=t,r[ci]=e,Sr(r,n,e),hr(r),t.stateNode=r):t.memoizedState=Fb(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return b0(t),e===null&&Be&&(r=t.stateNode=NA(t.type,t.pendingProps,$o.current),Wr=t,qa=!0,wr=_a(r.firstChild)),r=t.pendingProps.children,e!==null||Be?br(e,t,r,n):t.child=fu(t,null,r,n),gf(e,t),t.child;case 5:return e===null&&Be&&((i=r=wr)&&(r=WN(r,t.type,t.pendingProps,qa),r!==null?(t.stateNode=r,Wr=t,wr=_a(r.firstChild),qa=!1,i=!0):i=!1),i||hu(t)),b0(t),i=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,r=a.children,n2(i,a)?r=null:s!==null&&n2(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=w5(e,t,cN,null,null,n),$f._currentValue=i),gf(e,t),br(e,t,r,n),t.child;case 6:return e===null&&Be&&((e=n=wr)&&(n=YN(n,t.pendingProps,qa),n!==null?(t.stateNode=n,Wr=t,wr=null,e=!0):e=!1),e||hu(t)),null;case 13:return U3(e,t,n);case 4:return tm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fu(t,null,r,n):br(e,t,r,n),t.child;case 11:return pb(e,t,t.type,t.pendingProps,n);case 7:return br(e,t,t.pendingProps,n),t.child;case 8:return br(e,t,t.pendingProps.children,n),t.child;case 12:return br(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Fo(t,t.type,r.value),br(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,mu(t),i=Fr(i),r=r(i),t.flags|=1,br(e,t,r,n),t.child;case 14:return mb(e,t,t.type,t.pendingProps,n);case 15:return V3(e,t,t.type,t.pendingProps,n);case 19:return z3(e,t,n);case 22:return B3(e,t,n);case 24:return mu(t),r=Fr(er),e===null?(i=b5(),i===null&&(i=un,a=y5(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},I5(t),Fo(t,er,i)):(e.lanes&n&&(q0(e,t),bf(t,null,null,n),yf()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Fo(t,er,r)):(r=a.cache,Fo(t,er,r),r!==i.cache&&z0(t,[er],n,!0))),br(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(Pt(156,t.tag))}var B0=ns(null),Su=null,js=null;function Fo(e,t,n){bn(B0,t._currentValue),t._currentValue=n}function Fs(e){e._currentValue=B0.current,dr(B0)}function U0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function z0(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=i;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),U0(a.return,n,e),r||(s=null);break t}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(Pt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),U0(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function md(e,t,n,r){e=null;for(var i=t,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(Pt(387));if(s=s.memoizedProps,s!==null){var o=i.type;Pi(i.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(i===Jp.current){if(s=i.alternate,s===null)throw Error(Pt(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push($f):e=[$f])}i=i.return}e!==null&&z0(t,e,n,r),t.flags|=262144}function pm(e){for(e=e.firstContext;e!==null;){if(!Pi(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mu(e){Su=e,js=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fr(e){return H3(Su,e)}function up(e,t){return Su===null&&mu(e),H3(e,t)}function H3(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},js===null){if(e===null)throw Error(Pt(308));js=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else js=js.next=t;return n}var ko=!1;function I5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function q0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Go(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,An&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=am(e),W4(e,null,n),t}return ng(e,r,t,n),am(e)}function vf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194176)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_4(e,n)}}function R1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var H0=!1;function yf(){if(H0){var e=Pc;if(e!==null)throw e}}function bf(e,t,n,r){H0=!1;var i=e.updateQueue;ko=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,h=l.next;l.next=null,s===null?a=h:s.next=h,s=l;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==s&&(o===null?p.firstBaseUpdate=h:o.next=h,p.lastBaseUpdate=l))}if(a!==null){var m=i.baseState;s=0,p=h=l=null,o=a;do{var g=o.lane&-536870913,d=g!==o.lane;if(d?(Me&g)===g:(r&g)===g){g!==0&&g===qc&&(H0=!0),p!==null&&(p=p.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var T=e,C=o;g=t;var P=n;switch(C.tag){case 1:if(T=C.payload,typeof T=="function"){m=T.call(P,m,g);break t}m=T;break t;case 3:T.flags=T.flags&-65537|128;case 0:if(T=C.payload,g=typeof T=="function"?T.call(P,m,g):T,g==null)break t;m=vn({},m,g);break t;case 2:ko=!0}}g=o.callback,g!==null&&(e.flags|=64,d&&(e.flags|=8192),d=i.callbacks,d===null?i.callbacks=[g]:d.push(g))}else d={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(h=p=d,l=m):p=p.next=d,s|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);p===null&&(l=m),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=p,a===null&&(i.shared.lanes=0),ol|=s,e.lanes=s,e.memoizedState=m}}function $3(e,t){if(typeof e!="function")throw Error(Pt(191,e));e.call(t)}function G3(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)$3(n[e],t)}function gd(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){nn(t,t.return,o)}}function sl(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=t;var l=n;try{o()}catch(h){nn(i,l,h)}}}r=r.next}while(r!==a)}}catch(h){nn(t,t.return,h)}}function W3(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{G3(t,n)}catch(r){nn(e,e.return,r)}}}function Y3(e,t,n){n.props=pu(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){nn(e,t,r)}}function Yl(e,t){try{var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(a){nn(e,t,a)}}function Ti(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){nn(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){nn(e,t,i)}else n.current=null}function Q3(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break t;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){nn(e,e.return,i)}}function wb(e,t,n){try{var r=e.stateNode;zN(r,e.type,n,t),r[ci]=t}catch(i){nn(e,e.return,i)}}function K3(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function L1(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||K3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ug));else if(r!==4&&r!==27&&(e=e.child,e!==null))for($0(e,t,n),e=e.sibling;e!==null;)$0(e,t,n),e=e.sibling}function mm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&r!==27&&(e=e.child,e!==null))for(mm(e,t,n),e=e.sibling;e!==null;)mm(e,t,n),e=e.sibling}var Ls=!1,Rn=!1,D1=!1,Ab=typeof WeakSet=="function"?WeakSet:Set,ur=null,Sb=!1;function yN(e,t){if(e=e.containerInfo,t2=Tm,e=B4(e),f5(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var s=0,o=-1,l=-1,h=0,p=0,m=e,g=null;e:for(;;){for(var d;m!==n||i!==0&&m.nodeType!==3||(o=s+i),m!==a||r!==0&&m.nodeType!==3||(l=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(d=m.firstChild)!==null;)g=m,m=d;for(;;){if(m===e)break e;if(g===n&&++h===i&&(o=s),g===a&&++p===r&&(l=s),(d=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=d}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(e2={focusedElem:e,selectionRange:n},Tm=!1,ur=t;ur!==null;)if(t=ur,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ur=e;else for(;ur!==null;){switch(t=ur,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var T=pu(n.type,i,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(T,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(C){nn(n,n.return,C)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)r2(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":r2(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Pt(163))}if(e=t.sibling,e!==null){e.return=t.return,ur=e;break}ur=t.return}return T=Sb,Sb=!1,T}function X3(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:xs(e,n),r&4&&gd(5,n);break;case 1:if(xs(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){nn(n,n.return,o)}else{var i=pu(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){nn(n,n.return,o)}}r&64&&W3(n),r&512&&Yl(n,n.return);break;case 3:if(xs(e,n),r&64&&(r=n.updateQueue,r!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{G3(r,e)}catch(o){nn(n,n.return,o)}}break;case 26:xs(e,n),r&512&&Yl(n,n.return);break;case 27:case 5:xs(e,n),t===null&&r&4&&Q3(n),r&512&&Yl(n,n.return);break;case 12:xs(e,n);break;case 13:xs(e,n),r&4&&tA(e,n);break;case 22:if(i=n.memoizedState!==null||Ls,!i){t=t!==null&&t.memoizedState!==null||Rn;var a=Ls,s=Rn;Ls=i,(Rn=t)&&!s?Po(e,n,(n.subtreeFlags&8772)!==0):xs(e,n),Ls=a,Rn=s}r&512&&(n.memoizedProps.mode==="manual"?Yl(n,n.return):Ti(n,n.return));break;default:xs(e,n)}}function Z3(e){var t=e.alternate;t!==null&&(e.alternate=null,Z3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&s5(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Wn=null,Si=!1;function Ts(e,t,n){for(n=n.child;n!==null;)J3(e,t,n),n=n.sibling}function J3(e,t,n){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(ld,n)}catch{}switch(n.tag){case 26:Rn||Ti(n,t),Ts(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Rn||Ti(n,t);var r=Wn,i=Si;for(Wn=n.stateNode,Ts(e,t,n),n=n.stateNode,t=n.attributes;t.length;)n.removeAttributeNode(t[0]);s5(n),Wn=r,Si=i;break;case 5:Rn||Ti(n,t);case 6:i=Wn;var a=Si;if(Wn=null,Ts(e,t,n),Wn=i,Si=a,Wn!==null)if(Si)try{e=Wn,r=n.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)}catch(s){nn(n,t,s)}else try{Wn.removeChild(n.stateNode)}catch(s){nn(n,t,s)}break;case 18:Wn!==null&&(Si?(t=Wn,n=n.stateNode,t.nodeType===8?q1(t.parentNode,n):t.nodeType===1&&q1(t,n),Yf(t)):q1(Wn,n.stateNode));break;case 4:r=Wn,i=Si,Wn=n.stateNode.containerInfo,Si=!0,Ts(e,t,n),Wn=r,Si=i;break;case 0:case 11:case 14:case 15:Rn||sl(2,n,t),Rn||sl(4,n,t),Ts(e,t,n);break;case 1:Rn||(Ti(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Y3(n,t,r)),Ts(e,t,n);break;case 21:Ts(e,t,n);break;case 22:Rn||Ti(n,t),Rn=(r=Rn)||n.memoizedState!==null,Ts(e,t,n),Rn=r;break;default:Ts(e,t,n)}}function tA(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yf(e)}catch(n){nn(t,t.return,n)}}function bN(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ab),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ab),t;default:throw Error(Pt(435,e.tag))}}function P1(e,t){var n=bN(e);t.forEach(function(r){var i=PN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}function zi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:case 5:Wn=o.stateNode,Si=!1;break t;case 3:Wn=o.stateNode.containerInfo,Si=!0;break t;case 4:Wn=o.stateNode.containerInfo,Si=!0;break t}o=o.return}if(Wn===null)throw Error(Pt(160));J3(a,s,i),Wn=null,Si=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)eA(t,e),t=t.sibling}var ya=null;function eA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zi(t,e),qi(e),r&4&&(sl(3,e,e.return),gd(3,e),sl(5,e,e.return));break;case 1:zi(t,e),qi(e),r&512&&(Rn||n===null||Ti(n,n.return)),r&64&&Ls&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=ya;if(zi(t,e),qi(e),r&512&&(Rn||n===null||Ti(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){t:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;e:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[kf]||a[jr]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Sr(a,r,n),a[jr]=e,hr(a),r=a;break t;case"link":var s=Bb("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}a=i.createElement(r),Sr(a,r,n),i.head.appendChild(a);break;case"meta":if(s=Bb("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}a=i.createElement(r),Sr(a,r,n),i.head.appendChild(a);break;default:throw Error(Pt(468,r))}a[jr]=e,hr(a),r=a}e.stateNode=r}else Ub(i,e.type,e.stateNode);else e.stateNode=Vb(i,r,e.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?Ub(i,e.type,e.stateNode):Vb(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&wb(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(r&4&&e.alternate===null){i=e.stateNode,a=e.memoizedProps;try{for(var l=i.firstChild;l;){var h=l.nextSibling,p=l.nodeName;l[kf]||p==="HEAD"||p==="BODY"||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&l.rel.toLowerCase()==="stylesheet"||i.removeChild(l),l=h}for(var m=e.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Sr(i,m,a),i[jr]=e,i[ci]=a}catch(T){nn(e,e.return,T)}}case 5:if(zi(t,e),qi(e),r&512&&(Rn||n===null||Ti(n,n.return)),e.flags&32){i=e.stateNode;try{Uc(i,"")}catch(T){nn(e,e.return,T)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,wb(e,i,n!==null?n.memoizedProps:i)),r&1024&&(D1=!0);break;case 6:if(zi(t,e),qi(e),r&4){if(e.stateNode===null)throw Error(Pt(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(T){nn(e,e.return,T)}}break;case 3:if(Fp=null,i=ya,ya=Am(t.containerInfo),zi(t,e),ya=i,qi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yf(t.containerInfo)}catch(T){nn(e,e.return,T)}D1&&(D1=!1,nA(e));break;case 4:r=ya,ya=Am(e.stateNode.containerInfo),zi(t,e),qi(e),ya=r;break;case 12:zi(t,e),qi(e);break;case 13:zi(t,e),qi(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(V5=Wa()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,P1(e,r)));break;case 22:if(r&512&&(Rn||n===null||Ti(n,n.return)),l=e.memoizedState!==null,h=n!==null&&n.memoizedState!==null,p=Ls,m=Rn,Ls=p||l,Rn=m||h,zi(t,e),Rn=m,Ls=p,qi(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,r&8192&&(t._visibility=l?t._visibility&-2:t._visibility|1,l&&(t=Ls||Rn,n===null||h||t||oc(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(n=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(n===null){h=n=t;try{if(i=h.stateNode,l)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{s=h.stateNode,o=h.memoizedProps.style;var d=o!=null&&o.hasOwnProperty("display")?o.display:null;s.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(T){nn(h,h.return,T)}}}else if(t.tag===6){if(n===null){h=t;try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(T){nn(h,h.return,T)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,P1(e,n))));break;case 19:zi(t,e),qi(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,P1(e,r)));break;case 21:break;default:zi(t,e),qi(e)}}function qi(e){var t=e.flags;if(t&2){try{if(e.tag!==27){t:{for(var n=e.return;n!==null;){if(K3(n)){var r=n;break t}n=n.return}throw Error(Pt(160))}switch(r.tag){case 27:var i=r.stateNode,a=L1(e);mm(e,a,i);break;case 5:var s=r.stateNode;r.flags&32&&(Uc(s,""),r.flags&=-33);var o=L1(e);mm(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,h=L1(e);$0(e,h,l);break;default:throw Error(Pt(161))}}}catch(p){nn(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nA(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;nA(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xs(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)X3(e,t.alternate,t),t=t.sibling}function oc(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),oc(t);break;case 1:Ti(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Y3(t,t.return,n),oc(t);break;case 26:case 27:case 5:Ti(t,t.return),oc(t);break;case 22:Ti(t,t.return),t.memoizedState===null&&oc(t);break;default:oc(t)}e=e.sibling}}function Po(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Po(i,a,n),gd(4,a);break;case 1:if(Po(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(h){nn(r,r.return,h)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)$3(l[i],o)}catch(h){nn(r,r.return,h)}}n&&s&64&&W3(a),Yl(a,a.return);break;case 26:case 27:case 5:Po(i,a,n),n&&r===null&&s&4&&Q3(a),Yl(a,a.return);break;case 12:Po(i,a,n);break;case 13:Po(i,a,n),n&&s&4&&tA(i,a);break;case 22:a.memoizedState===null&&Po(i,a,n),Yl(a,a.return);break;default:Po(i,a,n)}t=t.sibling}}function O5(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&dd(n))}function k5(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&dd(e))}function Co(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rA(e,t,n,r),t=t.sibling}function rA(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Co(e,t,n,r),i&2048&&gd(9,t);break;case 3:Co(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&dd(e)));break;case 12:if(i&2048){Co(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){nn(t,t.return,l)}}else Co(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,t.memoizedState!==null?a._visibility&4?Co(e,t,n,r):_f(e,t):a._visibility&4?Co(e,t,n,r):(a._visibility|=4,lc(e,t,n,r,(t.subtreeFlags&10256)!==0)),i&2048&&O5(t.alternate,t);break;case 24:Co(e,t,n,r),i&2048&&k5(t.alternate,t);break;default:Co(e,t,n,r)}}function lc(e,t,n,r,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,s=t,o=n,l=r,h=s.flags;switch(s.tag){case 0:case 11:case 15:lc(a,s,o,l,i),gd(8,s);break;case 23:break;case 22:var p=s.stateNode;s.memoizedState!==null?p._visibility&4?lc(a,s,o,l,i):_f(a,s):(p._visibility|=4,lc(a,s,o,l,i)),i&&h&2048&&O5(s.alternate,s);break;case 24:lc(a,s,o,l,i),i&&h&2048&&k5(s.alternate,s);break;default:lc(a,s,o,l,i)}t=t.sibling}}function _f(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:_f(n,r),i&2048&&O5(r.alternate,r);break;case 24:_f(n,r),i&2048&&k5(r.alternate,r);break;default:_f(n,r)}t=t.sibling}}var tf=8192;function tc(e){if(e.subtreeFlags&tf)for(e=e.child;e!==null;)iA(e),e=e.sibling}function iA(e){switch(e.tag){case 26:tc(e),e.flags&tf&&e.memoizedState!==null&&oC(ya,e.memoizedState,e.memoizedProps);break;case 5:tc(e);break;case 3:case 4:var t=ya;ya=Am(e.stateNode.containerInfo),tc(e),ya=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=tf,tf=16777216,tc(e),tf=t):tc(e));break;default:tc(e)}}function aA(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hh(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ur=r,oA(r,e)}aA(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sA(e),e=e.sibling}function sA(e){switch(e.tag){case 0:case 11:case 15:Hh(e),e.flags&2048&&sl(9,e,e.return);break;case 3:Hh(e);break;case 12:Hh(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,kp(e)):Hh(e);break;default:Hh(e)}}function kp(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ur=r,oA(r,e)}aA(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:sl(8,t,t.return),kp(t);break;case 22:n=t.stateNode,n._visibility&4&&(n._visibility&=-5,kp(t));break;default:kp(t)}e=e.sibling}}function oA(e,t){for(;ur!==null;){var n=ur;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:dd(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ur=r;else t:for(n=e;ur!==null;){r=ur;var i=r.sibling,a=r.return;if(Z3(r),r===n){ur=null;break t}if(i!==null){i.return=a,ur=i;break t}ur=a}}}function _N(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xi(e,t,n,r){return new _N(e,t,n,r)}function M5(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yo(e,t){var n=e.alternate;return n===null?(n=Xi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&31457280,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function lA(e,t){e.flags&=31457282;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Mp(e,t,n,r,i,a){var s=0;if(r=e,typeof e=="function")M5(e)&&(s=1);else if(typeof e=="string")s=aC(e,n,Ga.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case gc:return eu(n.children,i,a,t);case u4:s=8,i|=24;break;case p0:return e=Xi(12,n,t,i|2),e.elementType=p0,e.lanes=a,e;case m0:return e=Xi(13,n,t,i),e.elementType=m0,e.lanes=a,e;case g0:return e=Xi(19,n,t,i),e.elementType=g0,e.lanes=a,e;case h4:return uA(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $T:case Is:s=10;break t;case c4:s=9;break t;case r5:s=11;break t;case i5:s=14;break t;case Oo:s=16,r=null;break t}s=29,n=Error(Pt(130,e===null?"null":typeof e,"")),r=null}return t=Xi(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function eu(e,t,n,r){return e=Xi(7,e,r,t),e.lanes=n,e}function uA(e,t,n,r){e=Xi(22,e,r,t),e.elementType=h4,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var a=i._current;if(a===null)throw Error(Pt(456));if(!(i._pendingVisibility&2)){var s=il(a,2);s!==null&&(i._pendingVisibility|=2,Kr(s,a,2))}},attach:function(){var a=i._current;if(a===null)throw Error(Pt(456));if(i._pendingVisibility&2){var s=il(a,2);s!==null&&(i._pendingVisibility&=-3,Kr(s,a,2))}}};return e.stateNode=i,e}function I1(e,t,n){return e=Xi(6,e,null,t),e.lanes=n,e}function O1(e,t,n){return t=Xi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ns(e){e.flags|=4}function Eb(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!LA(t)){if(t=ta.current,t!==null&&((Me&4194176)===Me?Ya!==null:(Me&62914560)!==Me&&!(Me&536870912)||t!==Ya))throw df=R0,Q4;e.flags|=8192}}function cp(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?y4():536870912,e.lanes|=t,$c|=t)}function $h(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _n(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&31457280,r|=i.flags&31457280,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wN(e,t,n){var r=t.pendingProps;switch(g5(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(t),null;case 1:return _n(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Fs(er),Vc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zh(t)?Ns(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ba!==null&&(K0(ba),ba=null))),_n(t),null;case 26:return n=t.memoizedState,e===null?(Ns(t),n!==null?(_n(t),Eb(t,n)):(_n(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ns(t),_n(t),Eb(t,n)):(_n(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ns(t),_n(t),t.flags&=-16777217),null;case 27:em(t),n=$o.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ns(t);else{if(!r){if(t.stateNode===null)throw Error(Pt(166));return _n(t),null}e=Ga.current,zh(t)?tb(t):(e=NA(i,r,n),t.stateNode=e,Ns(t))}return _n(t),null;case 5:if(em(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ns(t);else{if(!r){if(t.stateNode===null)throw Error(Pt(166));return _n(t),null}if(e=Ga.current,zh(t))tb(t);else{switch(i=wm($o.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}e[jr]=t,e[ci]=r;t:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;t:switch(Sr(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ns(t)}}return _n(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ns(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Pt(166));if(e=$o.current,zh(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=Wr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[jr]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||EA(e.nodeValue,n)),e||hu(t)}else e=wm(e).createTextNode(r),e[jr]=t,t.stateNode=e}return _n(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=zh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Pt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Pt(317));i[jr]=t}else fd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_n(t),i=!1}else ba!==null&&(K0(ba),ba=null),i=!0;if(!i)return t.flags&256?(Ms(t),t):(Ms(t),null)}if(Ms(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),cp(t,t.updateQueue),_n(t),null;case 4:return Vc(),e===null&&z5(t.stateNode.containerInfo),_n(t),null;case 10:return Fs(t.type),_n(t),null;case 19:if(dr(nr),i=t.memoizedState,i===null)return _n(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)$h(i,!1);else{if(Ln!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=um(e),a!==null){for(t.flags|=128,$h(i,!1),e=a.updateQueue,t.updateQueue=e,cp(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)lA(n,e),n=n.sibling;return bn(nr,nr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Wa()>gm&&(t.flags|=128,r=!0,$h(i,!1),t.lanes=4194304)}else{if(!r)if(e=um(a),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,cp(t,e),$h(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Be)return _n(t),null}else 2*Wa()-i.renderingStartTime>gm&&n!==536870912&&(t.flags|=128,r=!0,$h(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(e=i.last,e!==null?e.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Wa(),t.sibling=null,e=nr.current,bn(nr,r?e&1|2:e&1),t):(_n(t),null);case 22:case 23:return Ms(t),v5(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(_n(t),t.subtreeFlags&6&&(t.flags|=8192)):_n(t),n=t.updateQueue,n!==null&&cp(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&dr(tu),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Fs(er),_n(t),null;case 25:return null}throw Error(Pt(156,t.tag))}function AN(e,t){switch(g5(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fs(er),Vc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return em(t),null;case 13:if(Ms(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Pt(340));fd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dr(nr),null;case 4:return Vc(),null;case 10:return Fs(t.type),null;case 22:case 23:return Ms(t),v5(),e!==null&&dr(tu),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fs(er),null;case 25:return null;default:return null}}function cA(e,t){switch(g5(t),t.tag){case 3:Fs(er),Vc();break;case 26:case 27:case 5:em(t);break;case 4:Vc();break;case 13:Ms(t);break;case 19:dr(nr);break;case 10:Fs(t.type);break;case 22:case 23:Ms(t),v5(),e!==null&&dr(tu);break;case 24:Fs(er)}}var SN={getCacheForType:function(e){var t=Fr(er),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},EN=typeof WeakMap=="function"?WeakMap:Map,An=0,un=null,Ne=null,Me=0,ln=0,Ei=null,Ds=!1,ch=!1,j5=!1,Hs=0,Ln=0,ol=0,nu=0,F5=0,Zi=0,$c=0,wf=null,Ha=null,G0=!1,V5=0,gm=1/0,vm=null,Qo=null,hp=!1,Gl=null,Af=0,W0=0,Y0=null,Sf=0,Q0=null;function Di(){if(An&2&&Me!==0)return Me&-Me;if(we.T!==null){var e=qc;return e!==0?e:U5()}return A4()}function hA(){Zi===0&&(Zi=!(Me&536870912)||Be?v4():536870912);var e=ta.current;return e!==null&&(e.flags|=32),Zi}function Kr(e,t,n){(e===un&&ln===2||e.cancelPendingCommit!==null)&&(Gc(e,0),Ps(e,Me,Zi,!1)),cd(e,n),(!(An&2)||e!==un)&&(e===un&&(!(An&2)&&(nu|=n),Ln===4&&Ps(e,Me,Zi,!1)),rs(e))}function fA(e,t,n){if(An&6)throw Error(Pt(327));var r=!n&&(t&60)===0&&(t&e.expiredLanes)===0||ud(e,t),i=r?NN(e,t):k1(e,t,!0),a=r;do{if(i===0){ch&&!r&&Ps(e,t,0,!1);break}else if(i===6)Ps(e,t,0,!Ds);else{if(n=e.current.alternate,a&&!TN(n)){i=k1(e,t,!1),a=!1;continue}if(i===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;i=wf;var l=o.current.memoizedState.isDehydrated;if(l&&(Gc(o,s).flags|=256),s=k1(o,s,!1),s!==2){if(j5&&!l){o.errorRecoveryDisabledLanes|=a,nu|=a,i=4;break t}a=Ha,Ha=i,a!==null&&K0(a)}i=s}if(a=!1,i!==2)continue}}if(i===1){Gc(e,0),Ps(e,t,0,!0);break}t:{switch(r=e,i){case 0:case 1:throw Error(Pt(345));case 4:if((t&4194176)===t){Ps(r,t,Zi,!Ds);break t}break;case 2:Ha=null;break;case 3:case 5:break;default:throw Error(Pt(329))}if(r.finishedWork=n,r.finishedLanes=t,(t&62914560)===t&&(a=V5+300-Wa(),10<a)){if(Ps(r,t,Zi,!Ds),Xm(r,0)!==0)break t;r.timeoutHandle=xA(Tb.bind(null,r,n,Ha,vm,G0,t,Zi,nu,$c,Ds,2,-0,0),a);break t}Tb(r,n,Ha,vm,G0,t,Zi,nu,$c,Ds,0,-0,0)}}break}while(!0);rs(e)}function K0(e){Ha===null?Ha=e:Ha.push.apply(Ha,e)}function Tb(e,t,n,r,i,a,s,o,l,h,p,m,g){var d=t.subtreeFlags;if((d&8192||(d&16785408)===16785408)&&(Hf={stylesheets:null,count:0,unsuspend:sC},iA(t),t=lC(),t!==null)){e.cancelPendingCommit=t(Nb.bind(null,e,n,r,i,s,o,l,1,m,g)),Ps(e,a,s,!h);return}Nb(e,n,r,i,s,o,l,p,m,g)}function TN(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Pi(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ps(e,t,n,r){t&=~F5,t&=~nu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Li(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&b4(e,n,t)}function og(){return An&6?!0:(vd(0),!1)}function B5(){if(Ne!==null){if(ln===0)var e=Ne.return;else e=Ne,js=Su=null,E5(e),Dc=null,Bf=0,e=Ne;for(;e!==null;)cA(e.alternate,e),e=e.return;Ne=null}}function Gc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,HN(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),B5(),un=e,Ne=n=Yo(e.current,null),Me=t,ln=0,Ei=null,Ds=!1,ch=ud(e,t),j5=!1,$c=Zi=F5=nu=ol=Ln=0,Ha=wf=null,G0=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Li(r),a=1<<i;t|=e[i],r&=~a}return Hs=t,eg(),n}function dA(e,t){Te=null,we.H=Za,t===ff?(t=rb(),ln=3):t===Q4?(t=rb(),ln=4):ln=t===F3?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ei=t,Ne===null&&(Ln=1,dm(e,Ki(t,e.current)))}function pA(){var e=we.H;return we.H=Za,e===null?Za:e}function mA(){var e=we.A;return we.A=SN,e}function X0(){Ln=4,Ds||(Me&4194176)!==Me&&ta.current!==null||(ch=!0),!(ol&134217727)&&!(nu&134217727)||un===null||Ps(un,Me,Zi,!1)}function k1(e,t,n){var r=An;An|=2;var i=pA(),a=mA();(un!==e||Me!==t)&&(vm=null,Gc(e,t)),t=!1;var s=Ln;t:do try{if(ln!==0&&Ne!==null){var o=Ne,l=Ei;switch(ln){case 8:B5(),s=6;break t;case 3:case 2:case 6:ta.current===null&&(t=!0);var h=ln;if(ln=0,Ei=null,xc(e,o,l,h),n&&ch){s=0;break t}break;default:h=ln,ln=0,Ei=null,xc(e,o,l,h)}}xN(),s=Ln;break}catch(p){dA(e,p)}while(!0);return t&&e.shellSuspendCounter++,js=Su=null,An=r,we.H=i,we.A=a,Ne===null&&(un=null,Me=0,eg()),s}function xN(){for(;Ne!==null;)gA(Ne)}function NN(e,t){var n=An;An|=2;var r=pA(),i=mA();un!==e||Me!==t?(vm=null,gm=Wa()+500,Gc(e,t)):ch=ud(e,t);t:do try{if(ln!==0&&Ne!==null){t=Ne;var a=Ei;e:switch(ln){case 1:ln=0,Ei=null,xc(e,t,a,1);break;case 2:if(nb(a)){ln=0,Ei=null,xb(t);break}t=function(){ln===2&&un===e&&(ln=7),rs(e)},a.then(t,t);break t;case 3:ln=7;break t;case 4:ln=5;break t;case 7:nb(a)?(ln=0,Ei=null,xb(t)):(ln=0,Ei=null,xc(e,t,a,7));break;case 5:var s=null;switch(Ne.tag){case 26:s=Ne.memoizedState;case 5:case 27:var o=Ne;if(!s||LA(s)){ln=0,Ei=null;var l=o.sibling;if(l!==null)Ne=l;else{var h=o.return;h!==null?(Ne=h,lg(h)):Ne=null}break e}}ln=0,Ei=null,xc(e,t,a,5);break;case 6:ln=0,Ei=null,xc(e,t,a,6);break;case 8:B5(),Ln=6;break t;default:throw Error(Pt(462))}}CN();break}catch(p){dA(e,p)}while(!0);return js=Su=null,we.H=r,we.A=i,An=n,Ne!==null?0:(un=null,Me=0,eg(),Ln)}function CN(){for(;Ne!==null&&!KT();)gA(Ne)}function gA(e){var t=q3(e.alternate,e,Hs);e.memoizedProps=e.pendingProps,t===null?lg(e):Ne=t}function xb(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=vb(n,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=vb(n,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:E5(t);default:cA(n,t),t=Ne=lA(t,Hs),t=q3(n,t,Hs)}e.memoizedProps=e.pendingProps,t===null?lg(e):Ne=t}function xc(e,t,n,r){js=Su=null,E5(t),Dc=null,Bf=0;var i=t.return;try{if(gN(e,i,t,n,Me)){Ln=1,dm(e,Ki(n,e.current)),Ne=null;return}}catch(a){if(i!==null)throw Ne=i,a;Ln=1,dm(e,Ki(n,e.current)),Ne=null;return}t.flags&32768?(Be||r===1?e=!0:ch||Me&536870912?e=!1:(Ds=e=!0,(r===2||r===3||r===6)&&(r=ta.current,r!==null&&r.tag===13&&(r.flags|=16384))),vA(t,e)):lg(t)}function lg(e){var t=e;do{if(t.flags&32768){vA(t,Ds);return}e=t.return;var n=wN(t.alternate,t,Hs);if(n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Ln===0&&(Ln=5)}function vA(e,t){do{var n=AN(e.alternate,e);if(n!==null){n.flags&=32767,Ne=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=n}while(e!==null);Ln=6,Ne=null}function Nb(e,t,n,r,i,a,s,o,l,h){var p=we.T,m=gn.p;try{gn.p=2,we.T=null,RN(e,t,n,r,m,i,a,s,o,l,h)}finally{we.T=p,gn.p=m}}function RN(e,t,n,r,i,a,s,o){do kc();while(Gl!==null);if(An&6)throw Error(Pt(327));var l=e.finishedWork;if(r=e.finishedLanes,l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(Pt(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var h=l.lanes|l.childLanes;if(h|=d5,ox(e,r,h,a,s,o),e===un&&(Ne=un=null,Me=0),!(l.subtreeFlags&10256)&&!(l.flags&10256)||hp||(hp=!0,W0=h,Y0=n,IN(nm,function(){return kc(),null})),n=(l.flags&15990)!==0,l.subtreeFlags&15990||n?(n=we.T,we.T=null,a=gn.p,gn.p=2,s=An,An|=4,yN(e,l),eA(l,e),Jx(e2,e.containerInfo),Tm=!!t2,e2=t2=null,e.current=l,X3(e,l.alternate,l),XT(),An=s,gn.p=a,we.T=n):e.current=l,hp?(hp=!1,Gl=e,Af=r):yA(e,h),h=e.pendingLanes,h===0&&(Qo=null),nx(l.stateNode),rs(e),t!==null)for(i=e.onRecoverableError,l=0;l<t.length;l++)h=t[l],i(h.value,{componentStack:h.stack});return Af&3&&kc(),h=e.pendingLanes,r&4194218&&h&42?e===Q0?Sf++:(Sf=0,Q0=e):Sf=0,vd(0),null}function yA(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,dd(t)))}function kc(){if(Gl!==null){var e=Gl,t=W0;W0=0;var n=w4(Af),r=we.T,i=gn.p;try{if(gn.p=32>n?32:n,we.T=null,Gl===null)var a=!1;else{n=Y0,Y0=null;var s=Gl,o=Af;if(Gl=null,Af=0,An&6)throw Error(Pt(331));var l=An;if(An|=4,sA(s.current),rA(s,s.current,o,n),An=l,vd(0,!1),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(ld,s)}catch{}a=!0}return a}finally{gn.p=i,we.T=r,yA(e,t)}}return!1}function Cb(e,t,n){t=Ki(n,t),t=M0(e.stateNode,t,2),e=Wo(e,t,2),e!==null&&(cd(e,2),rs(e))}function nn(e,t,n){if(e.tag===3)Cb(e,e,n);else for(;t!==null;){if(t.tag===3){Cb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qo===null||!Qo.has(r))){e=Ki(n,e),n=M3(2),r=Wo(t,n,2),r!==null&&(j3(n,r,t,e),cd(r,2),rs(r));break}}t=t.return}}function M1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new EN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(j5=!0,i.add(n),e=LN.bind(null,e,t,n),t.then(e,e))}function LN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,un===e&&(Me&n)===n&&(Ln===4||Ln===3&&(Me&62914560)===Me&&300>Wa()-V5?!(An&2)&&Gc(e,0):F5|=n,$c===Me&&($c=0)),rs(e)}function bA(e,t){t===0&&(t=y4()),e=il(e,t),e!==null&&(cd(e,t),rs(e))}function DN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bA(e,n)}function PN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(Pt(314))}r!==null&&r.delete(t),bA(e,n)}function IN(e,t){return a5(e,t)}var ym=null,uc=null,Z0=!1,bm=!1,j1=!1,ru=0;function rs(e){e!==uc&&e.next===null&&(uc===null?ym=uc=e:uc=uc.next=e),bm=!0,Z0||(Z0=!0,kN(ON))}function vd(e,t){if(!j1&&bm){j1=!0;do for(var n=!1,r=ym;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-Li(42|e)+1)-1,a&=i&~(s&~o),a=a&201326677?a&201326677|1:a?a|2:0}a!==0&&(n=!0,Rb(r,a))}else a=Me,a=Xm(r,r===un?a:0),!(a&3)||ud(r,a)||(n=!0,Rb(r,a));r=r.next}while(n);j1=!1}}function ON(){bm=Z0=!1;var e=0;ru!==0&&(qN()&&(e=ru),ru=0);for(var t=Wa(),n=null,r=ym;r!==null;){var i=r.next,a=_A(r,t);a===0?(r.next=null,n===null?ym=i:n.next=i,i===null&&(uc=n)):(n=r,(e!==0||a&3)&&(bm=!0)),r=i}vd(e)}function _A(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-Li(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=sx(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(t=un,n=Me,n=Xm(e,e===t?n:0),r=e.callbackNode,n===0||e===t&&ln===2||e.cancelPendingCommit!==null)return r!==null&&r!==null&&d1(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||ud(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&d1(r),w4(n)){case 2:case 8:n=m4;break;case 32:n=nm;break;case 268435456:n=g4;break;default:n=nm}return r=wA.bind(null,e),n=a5(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&d1(r),e.callbackPriority=2,e.callbackNode=null,2}function wA(e,t){var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=Me;return r=Xm(e,e===un?r:0),r===0?null:(fA(e,r,t),_A(e,Wa()),e.callbackNode!=null&&e.callbackNode===n?wA.bind(null,e):null)}function Rb(e,t){if(kc())return null;fA(e,t,!0)}function kN(e){$N(function(){An&6?a5(p4,e):e()})}function U5(){return ru===0&&(ru=v4()),ru}function Lb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rp(""+e)}function Db(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function MN(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var a=Lb((i[ci]||null).action),s=r.submitter;s&&(t=(t=s[ci]||null)?Lb(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new Zm("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ru!==0){var l=s?Db(i,s):new FormData(i);O0(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?Db(i,s):new FormData(i),O0(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var F1=0;F1<Zy.length;F1++){var V1=Zy[F1],jN=V1.toLowerCase(),FN=V1[0].toUpperCase()+V1.slice(1);Sa(jN,"on"+FN)}Sa(z4,"onAnimationEnd");Sa(q4,"onAnimationIteration");Sa(H4,"onAnimationStart");Sa("dblclick","onDoubleClick");Sa("focusin","onFocus");Sa("focusout","onBlur");Sa(eN,"onTransitionRun");Sa(nN,"onTransitionStart");Sa(rN,"onTransitionCancel");Sa($4,"onTransitionEnd");Bc("onMouseEnter",["mouseout","mouseover"]);Bc("onMouseLeave",["mouseout","mouseover"]);Bc("onPointerEnter",["pointerout","pointerover"]);Bc("onPointerLeave",["pointerout","pointerover"]);yu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yu("onBeforeInput",["compositionend","keypress","textInput","paste"]);yu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zf));function AA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;t:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,h=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break t;a=o,i.currentTarget=h;try{a(i)}catch(p){fm(p)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,h=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break t;a=o,i.currentTarget=h;try{a(i)}catch(p){fm(p)}i.currentTarget=null,a=l}}}}function Pe(e,t){var n=t[w0];n===void 0&&(n=t[w0]=new Set);var r=e+"__bubble";n.has(r)||(SA(t,e,2,!1),n.add(r))}function B1(e,t,n){var r=0;t&&(r|=4),SA(n,e,r,t)}var fp="_reactListening"+Math.random().toString(36).slice(2);function z5(e){if(!e[fp]){e[fp]=!0,S4.forEach(function(n){n!=="selectionchange"&&(VN.has(n)||B1(n,!1,e),B1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fp]||(t[fp]=!0,B1("selectionchange",!1,t))}}function SA(e,t,n,r){switch(kA(t)){case 2:var i=hC;break;case 8:i=fC;break;default:i=G5}n=i.bind(null,t,n,e),i=void 0,!T0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function U1(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Wl(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue t}o=o.parentNode}}r=r.return}D4(function(){var h=a,p=l5(n),m=[];t:{var g=G4.get(e);if(g!==void 0){var d=Zm,T=e;switch(e){case"keypress":if(Dp(n)===0)break t;case"keydown":case"keyup":d=Px;break;case"focusin":T="focus",d=y1;break;case"focusout":T="blur",d=y1;break;case"beforeblur":case"afterblur":d=y1;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=By;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=_x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=kx;break;case z4:case q4:case H4:d=Sx;break;case $4:d=jx;break;case"scroll":case"scrollend":d=yx;break;case"wheel":d=Vx;break;case"copy":case"cut":case"paste":d=Tx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=zy;break;case"toggle":case"beforetoggle":d=Ux}var C=(t&4)!==0,P=!C&&(e==="scroll"||e==="scrollend"),y=C?g!==null?g+"Capture":null:g;C=[];for(var b=h,w;b!==null;){var k=b;if(w=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||w===null||y===null||(k=Mf(b,y),k!=null&&C.push(qf(b,k,w))),P)break;b=b.return}0<C.length&&(g=new d(g,T,null,n,p),m.push({event:g,listeners:C}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",g&&n!==E0&&(T=n.relatedTarget||n.fromElement)&&(Wl(T)||T[lh]))break t;if((d||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,d?(T=n.relatedTarget||n.toElement,d=h,T=T?Wl(T):null,T!==null&&(P=oh(T),C=T.tag,T!==P||C!==5&&C!==27&&C!==6)&&(T=null)):(d=null,T=h),d!==T)){if(C=By,k="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(C=zy,k="onPointerLeave",y="onPointerEnter",b="pointer"),P=d==null?g:Jh(d),w=T==null?g:Jh(T),g=new C(k,b+"leave",d,n,p),g.target=P,g.relatedTarget=w,k=null,Wl(p)===h&&(C=new C(y,b+"enter",T,n,p),C.target=w,C.relatedTarget=P,k=C),P=k,d&&T)e:{for(C=d,y=T,b=0,w=C;w;w=ec(w))b++;for(w=0,k=y;k;k=ec(k))w++;for(;0<b-w;)C=ec(C),b--;for(;0<w-b;)y=ec(y),w--;for(;b--;){if(C===y||y!==null&&C===y.alternate)break e;C=ec(C),y=ec(y)}C=null}else C=null;d!==null&&Pb(m,g,d,C,!1),T!==null&&P!==null&&Pb(m,P,T,C,!0)}}t:{if(g=h?Jh(h):window,d=g.nodeName&&g.nodeName.toLowerCase(),d==="select"||d==="input"&&g.type==="file")var j=Gy;else if($y(g))if(j4)j=Xx;else{j=Qx;var z=Yx}else d=g.nodeName,!d||d.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?h&&o5(h.elementType)&&(j=Gy):j=Kx;if(j&&(j=j(e,h))){M4(m,j,n,p);break t}z&&z(e,g,h),e==="focusout"&&h&&g.type==="number"&&h.memoizedProps.value!=null&&S0(g,"number",g.value)}switch(z=h?Jh(h):window,e){case"focusin":($y(z)||z.contentEditable==="true")&&(_c=z,x0=h,hf=null);break;case"focusout":hf=x0=_c=null;break;case"mousedown":N0=!0;break;case"contextmenu":case"mouseup":case"dragend":N0=!1,Xy(m,n,p);break;case"selectionchange":if(tN)break;case"keydown":case"keyup":Xy(m,n,p)}var N;if(h5)t:{switch(e){case"compositionstart":var E="onCompositionStart";break t;case"compositionend":E="onCompositionEnd";break t;case"compositionupdate":E="onCompositionUpdate";break t}E=void 0}else bc?O4(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(I4&&n.locale!=="ko"&&(bc||E!=="onCompositionStart"?E==="onCompositionEnd"&&bc&&(N=P4()):(zo=p,u5="value"in zo?zo.value:zo.textContent,bc=!0)),z=_m(h,E),0<z.length&&(E=new Uy(E,e,null,n,p),m.push({event:E,listeners:z}),N?E.data=N:(N=k4(n),N!==null&&(E.data=N)))),(N=qx?Hx(e,n):$x(e,n))&&(E=_m(h,"onBeforeInput"),0<E.length&&(z=new Uy("onBeforeInput","beforeinput",null,n,p),m.push({event:z,listeners:E}),z.data=N)),MN(m,e,h,n,p)}AA(m,t)})}function qf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _m(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Mf(e,n),i!=null&&r.unshift(qf(e,i,a)),i=Mf(e,t),i!=null&&r.push(qf(e,i,a))),e=e.return}return r}function ec(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pb(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,h=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||h===null||(l=h,i?(h=Mf(n,a),h!=null&&s.unshift(qf(n,h,l))):i||(h=Mf(n,a),h!=null&&s.push(qf(n,h,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var BN=/\r\n?/g,UN=/\u0000|\uFFFD/g;function Ib(e){return(typeof e=="string"?e:""+e).replace(BN,`
`).replace(UN,"")}function EA(e,t){return t=Ib(t),Ib(e)===t}function ug(){}function Xe(e,t,n,r,i,a){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Uc(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Uc(e,""+r);break;case"className":ip(e,"class",r);break;case"tabIndex":ip(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ip(e,n,r);break;case"style":L4(e,r,a);break;case"data":if(t!=="object"){ip(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Rp(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&Xe(e,t,"name",i.name,i,null),Xe(e,t,"formEncType",i.formEncType,i,null),Xe(e,t,"formMethod",i.formMethod,i,null),Xe(e,t,"formTarget",i.formTarget,i,null)):(Xe(e,t,"encType",i.encType,i,null),Xe(e,t,"method",i.method,i,null),Xe(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Rp(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=ug);break;case"onScroll":r!=null&&Pe("scroll",e);break;case"onScrollEnd":r!=null&&Pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Pt(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Pt(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Rp(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Pe("beforetoggle",e),Pe("toggle",e),Cp(e,"popover",r);break;case"xlinkActuate":Es(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Es(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Es(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Es(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Es(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Es(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Es(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Es(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Es(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Cp(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=gx.get(n)||n,Cp(e,n,r))}}function J0(e,t,n,r,i,a){switch(n){case"style":L4(e,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Pt(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Pt(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Uc(e,r):(typeof r=="number"||typeof r=="bigint")&&Uc(e,""+r);break;case"onScroll":r!=null&&Pe("scroll",e);break;case"onScrollEnd":r!=null&&Pe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=ug);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!E4.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),a=e[ci]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break t}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Cp(e,n,r)}}}function Sr(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",e),Pe("load",e);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Pt(137,t));default:Xe(e,t,a,s,n,null)}}i&&Xe(e,t,"srcSet",n.srcSet,n,null),r&&Xe(e,t,"src",n.src,n,null);return;case"input":Pe("invalid",e);var o=a=s=i=null,l=null,h=null;for(r in n)if(n.hasOwnProperty(r)){var p=n[r];if(p!=null)switch(r){case"name":i=p;break;case"type":s=p;break;case"checked":l=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(Pt(137,t));break;default:Xe(e,t,r,p,n,null)}}N4(e,a,o,l,h,s,i,!1),rm(e);return;case"select":Pe("invalid",e),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Xe(e,t,i,o,n,null)}t=a,n=s,e.multiple=!!r,t!=null?Rc(e,!!r,t,!1):n!=null&&Rc(e,!!r,n,!0);return;case"textarea":Pe("invalid",e),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(Pt(91));break;default:Xe(e,t,s,o,n,null)}R4(e,r,i,a),rm(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Xe(e,t,l,r,n,null)}return;case"dialog":Pe("cancel",e),Pe("close",e);break;case"iframe":case"object":Pe("load",e);break;case"video":case"audio":for(r=0;r<zf.length;r++)Pe(zf[r],e);break;case"image":Pe("error",e),Pe("load",e);break;case"details":Pe("toggle",e);break;case"embed":case"source":case"link":Pe("error",e),Pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(r=n[h],r!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(137,t));default:Xe(e,t,h,r,n,null)}return;default:if(o5(t)){for(p in n)n.hasOwnProperty(p)&&(r=n[p],r!==void 0&&J0(e,t,p,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Xe(e,t,o,r,n,null))}function zN(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,h=null,p=null;for(d in n){var m=n[d];if(n.hasOwnProperty(d)&&m!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":l=m;default:r.hasOwnProperty(d)||Xe(e,t,d,null,r,m)}}for(var g in r){var d=r[g];if(m=n[g],r.hasOwnProperty(g)&&(d!=null||m!=null))switch(g){case"type":a=d;break;case"name":i=d;break;case"checked":h=d;break;case"defaultChecked":p=d;break;case"value":s=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Pt(137,t));break;default:d!==m&&Xe(e,t,g,d,r,m)}}A0(e,s,o,l,h,p,a,i);return;case"select":d=s=o=g=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":d=l;default:r.hasOwnProperty(a)||Xe(e,t,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":g=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&Xe(e,t,i,a,r,l)}t=o,n=s,r=d,g!=null?Rc(e,!!n,g,!1):!!r!=!!n&&(t!=null?Rc(e,!!n,t,!0):Rc(e,!!n,n?[]:"",!1));return;case"textarea":d=g=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Xe(e,t,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":g=i;break;case"defaultValue":d=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Pt(91));break;default:i!==a&&Xe(e,t,s,i,r,a)}C4(e,g,d);return;case"option":for(var T in n)if(g=n[T],n.hasOwnProperty(T)&&g!=null&&!r.hasOwnProperty(T))switch(T){case"selected":e.selected=!1;break;default:Xe(e,t,T,null,r,g)}for(l in r)if(g=r[l],d=n[l],r.hasOwnProperty(l)&&g!==d&&(g!=null||d!=null))switch(l){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Xe(e,t,l,g,r,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var C in n)g=n[C],n.hasOwnProperty(C)&&g!=null&&!r.hasOwnProperty(C)&&Xe(e,t,C,null,r,g);for(h in r)if(g=r[h],d=n[h],r.hasOwnProperty(h)&&g!==d&&(g!=null||d!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(Pt(137,t));break;default:Xe(e,t,h,g,r,d)}return;default:if(o5(t)){for(var P in n)g=n[P],n.hasOwnProperty(P)&&g!==void 0&&!r.hasOwnProperty(P)&&J0(e,t,P,void 0,r,g);for(p in r)g=r[p],d=n[p],!r.hasOwnProperty(p)||g===d||g===void 0&&d===void 0||J0(e,t,p,g,r,d);return}}for(var y in n)g=n[y],n.hasOwnProperty(y)&&g!=null&&!r.hasOwnProperty(y)&&Xe(e,t,y,null,r,g);for(m in r)g=r[m],d=n[m],!r.hasOwnProperty(m)||g===d||g==null&&d==null||Xe(e,t,m,g,r,d)}var t2=null,e2=null;function wm(e){return e.nodeType===9?e:e.ownerDocument}function Ob(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TA(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function n2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var z1=null;function qN(){var e=window.event;return e&&e.type==="popstate"?e===z1?!1:(z1=e,!0):(z1=null,!1)}var xA=typeof setTimeout=="function"?setTimeout:void 0,HN=typeof clearTimeout=="function"?clearTimeout:void 0,kb=typeof Promise=="function"?Promise:void 0,$N=typeof queueMicrotask=="function"?queueMicrotask:typeof kb<"u"?function(e){return kb.resolve(null).then(e).catch(GN)}:xA;function GN(e){setTimeout(function(){throw e})}function q1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Yf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yf(t)}function r2(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":r2(n),s5(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function WN(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[kf])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(i.href==null?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=_a(e.nextSibling),e===null)break}return null}function YN(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=_a(e.nextSibling),e===null))return null;return e}function _a(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function Mb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function NA(e,t,n){switch(t=wm(n),e){case"html":if(e=t.documentElement,!e)throw Error(Pt(452));return e;case"head":if(e=t.head,!e)throw Error(Pt(453));return e;case"body":if(e=t.body,!e)throw Error(Pt(454));return e;default:throw Error(Pt(451))}}var ea=new Map,jb=new Set;function Am(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Qs=gn.d;gn.d={f:QN,r:KN,D:XN,C:ZN,L:JN,m:tC,X:nC,S:eC,M:rC};function QN(){var e=Qs.f(),t=og();return e||t}function KN(e){var t=uh(e);t!==null&&t.tag===5&&t.type==="form"?N3(t):Qs.r(e)}var hh=typeof document>"u"?null:document;function CA(e,t,n){var r=hh;if(r&&typeof t=="string"&&t){var i=Qi(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),jb.has(i)||(jb.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),Sr(t,"link",e),hr(t),r.head.appendChild(t)))}}function XN(e){Qs.D(e),CA("dns-prefetch",e,null)}function ZN(e,t){Qs.C(e,t),CA("preconnect",e,t)}function JN(e,t,n){Qs.L(e,t,n);var r=hh;if(r&&e&&t){var i='link[rel="preload"][as="'+Qi(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Qi(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Qi(n.imageSizes)+'"]')):i+='[href="'+Qi(e)+'"]';var a=i;switch(t){case"style":a=Wc(e);break;case"script":a=fh(e)}ea.has(a)||(e=vn({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ea.set(a,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(yd(a))||t==="script"&&r.querySelector(bd(a))||(t=r.createElement("link"),Sr(t,"link",e),hr(t),r.head.appendChild(t)))}}function tC(e,t){Qs.m(e,t);var n=hh;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Qi(r)+'"][href="'+Qi(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=fh(e)}if(!ea.has(a)&&(e=vn({rel:"modulepreload",href:e},t),ea.set(a,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(bd(a)))return}r=n.createElement("link"),Sr(r,"link",e),hr(r),n.head.appendChild(r)}}}function eC(e,t,n){Qs.S(e,t,n);var r=hh;if(r&&e){var i=Cc(r).hoistableStyles,a=Wc(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(yd(a)))o.loading=5;else{e=vn({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ea.get(a))&&q5(e,n);var l=s=r.createElement("link");hr(l),Sr(l,"link",e),l._p=new Promise(function(h,p){l.onload=h,l.onerror=p}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,jp(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function nC(e,t){Qs.X(e,t);var n=hh;if(n&&e){var r=Cc(n).hoistableScripts,i=fh(e),a=r.get(i);a||(a=n.querySelector(bd(i)),a||(e=vn({src:e,async:!0},t),(t=ea.get(i))&&H5(e,t),a=n.createElement("script"),hr(a),Sr(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function rC(e,t){Qs.M(e,t);var n=hh;if(n&&e){var r=Cc(n).hoistableScripts,i=fh(e),a=r.get(i);a||(a=n.querySelector(bd(i)),a||(e=vn({src:e,async:!0,type:"module"},t),(t=ea.get(i))&&H5(e,t),a=n.createElement("script"),hr(a),Sr(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function Fb(e,t,n,r){var i=(i=$o.current)?Am(i):null;if(!i)throw Error(Pt(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Wc(n.href),n=Cc(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Wc(n.href);var a=Cc(i).hoistableStyles,s=a.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=i.querySelector(yd(e)))&&!a._p&&(s.instance=a,s.state.loading=5),ea.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ea.set(e,n),a||iC(i,e,n,s.state))),t&&r===null)throw Error(Pt(528,""));return s}if(t&&r!==null)throw Error(Pt(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fh(n),n=Cc(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Pt(444,e))}}function Wc(e){return'href="'+Qi(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function RA(e){return vn({},e,{"data-precedence":e.precedence,precedence:null})}function iC(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Sr(t,"link",n),hr(t),e.head.appendChild(t))}function fh(e){return'[src="'+Qi(e)+'"]'}function bd(e){return"script[async]"+e}function Vb(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Qi(n.href)+'"]');if(r)return t.instance=r,hr(r),r;var i=vn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),hr(r),Sr(r,"style",i),jp(r,n.precedence,e),t.instance=r;case"stylesheet":i=Wc(n.href);var a=e.querySelector(yd(i));if(a)return t.state.loading|=4,t.instance=a,hr(a),a;r=RA(n),(i=ea.get(i))&&q5(r,i),a=(e.ownerDocument||e).createElement("link"),hr(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Sr(a,"link",r),t.state.loading|=4,jp(a,n.precedence,e),t.instance=a;case"script":return a=fh(n.src),(i=e.querySelector(bd(a)))?(t.instance=i,hr(i),i):(r=n,(i=ea.get(a))&&(r=vn({},n),H5(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),hr(i),Sr(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(Pt(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,jp(r,n.precedence,e));return t.instance}function jp(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function q5(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function H5(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fp=null;function Bb(e,t,n){if(Fp===null){var r=new Map,i=Fp=new Map;i.set(n,r)}else i=Fp,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[kf]||a[jr]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Ub(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function aC(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function LA(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Hf=null;function sC(){}function oC(e,t,n){if(Hf===null)throw Error(Pt(475));var r=Hf;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=Wc(n.href),a=e.querySelector(yd(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Sm.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,hr(a);return}a=e.ownerDocument||e,n=RA(n),(i=ea.get(i))&&q5(n,i),a=a.createElement("link"),hr(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Sr(a,"link",n),t.instance=a}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=Sm.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function lC(){if(Hf===null)throw Error(Pt(475));var e=Hf;return e.stylesheets&&e.count===0&&i2(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&i2(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Sm(){if(this.count--,this.count===0){if(this.stylesheets)i2(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Em=null;function i2(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Em=new Map,t.forEach(uC,e),Em=null,Sm.call(e))}function uC(e,t){if(!(t.state.loading&4)){var n=Em.get(e);if(n)var r=n.get(null);else{n=new Map,Em.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=t.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=Sm.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var $f={$$typeof:Is,Provider:null,Consumer:null,_currentValue:Zl,_currentValue2:Zl,_threadCount:0};function cC(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=p1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p1(0),this.hiddenUpdates=p1(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function DA(e,t,n,r,i,a,s,o,l,h,p,m){return e=new cC(e,t,n,s,o,l,h,m),t=1,a===!0&&(t|=24),a=Xi(3,null,null,t),e.current=a,a.stateNode=e,t=y5(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},I5(a),e}function PA(e){return e?(e=Sc,e):Sc}function IA(e,t,n,r,i,a){i=PA(i),r.context===null?r.context=i:r.pendingContext=i,r=Go(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Wo(e,r,t),n!==null&&(Kr(n,e,t),vf(n,e,t))}function zb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $5(e,t){zb(e,t),(e=e.alternate)&&zb(e,t)}function OA(e){if(e.tag===13){var t=il(e,67108864);t!==null&&Kr(t,e,67108864),$5(e,67108864)}}var Tm=!0;function hC(e,t,n,r){var i=we.T;we.T=null;var a=gn.p;try{gn.p=2,G5(e,t,n,r)}finally{gn.p=a,we.T=i}}function fC(e,t,n,r){var i=we.T;we.T=null;var a=gn.p;try{gn.p=8,G5(e,t,n,r)}finally{gn.p=a,we.T=i}}function G5(e,t,n,r){if(Tm){var i=a2(r);if(i===null)U1(e,t,r,xm,n),qb(e,r);else if(pC(i,e,t,n,r))r.stopPropagation();else if(qb(e,r),t&4&&-1<dC.indexOf(e)){for(;i!==null;){var a=uh(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=zl(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-Li(s);o.entanglements[1]|=l,s&=~l}rs(a),!(An&6)&&(gm=Wa()+500,vd(0))}}break;case 13:o=il(a,2),o!==null&&Kr(o,a,2),og(),$5(a,2)}if(a=a2(r),a===null&&U1(e,t,r,xm,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else U1(e,t,r,null,n)}}function a2(e){return e=l5(e),W5(e)}var xm=null;function W5(e){if(xm=null,e=Wl(e),e!==null){var t=oh(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xm=e,null}function kA(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ZT()){case p4:return 2;case m4:return 8;case nm:case JT:return 32;case g4:return 268435456;default:return 32}default:return 32}}var s2=!1,Ko=null,Xo=null,Zo=null,Gf=new Map,Wf=new Map,Vo=[],dC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qb(e,t){switch(e){case"focusin":case"focusout":Ko=null;break;case"dragenter":case"dragleave":Xo=null;break;case"mouseover":case"mouseout":Zo=null;break;case"pointerover":case"pointerout":Gf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wf.delete(t.pointerId)}}function Gh(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=uh(t),t!==null&&OA(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function pC(e,t,n,r,i){switch(t){case"focusin":return Ko=Gh(Ko,e,t,n,r,i),!0;case"dragenter":return Xo=Gh(Xo,e,t,n,r,i),!0;case"mouseover":return Zo=Gh(Zo,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Gf.set(a,Gh(Gf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Wf.set(a,Gh(Wf.get(a)||null,e,t,n,r,i)),!0}return!1}function MA(e){var t=Wl(e.target);if(t!==null){var n=oh(t);if(n!==null){if(t=n.tag,t===13){if(t=f4(n),t!==null){e.blockedOn=t,lx(e.priority,function(){if(n.tag===13){var r=Di(),i=il(n,r);i!==null&&Kr(i,n,r),$5(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=a2(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);E0=r,n.target.dispatchEvent(r),E0=null}else return t=uh(n),t!==null&&OA(t),e.blockedOn=n,!1;t.shift()}return!0}function Hb(e,t,n){Vp(e)&&n.delete(t)}function mC(){s2=!1,Ko!==null&&Vp(Ko)&&(Ko=null),Xo!==null&&Vp(Xo)&&(Xo=null),Zo!==null&&Vp(Zo)&&(Zo=null),Gf.forEach(Hb),Wf.forEach(Hb)}function dp(e,t){e.blockedOn===t&&(e.blockedOn=null,s2||(s2=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,mC)))}var pp=null;function $b(e){pp!==e&&(pp=e,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,function(){pp===e&&(pp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(W5(r||n)===null)continue;break}var a=uh(n);a!==null&&(e.splice(t,3),t-=3,O0(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Yf(e){function t(l){return dp(l,e)}Ko!==null&&dp(Ko,e),Xo!==null&&dp(Xo,e),Zo!==null&&dp(Zo,e),Gf.forEach(t),Wf.forEach(t);for(var n=0;n<Vo.length;n++){var r=Vo[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Vo.length&&(n=Vo[0],n.blockedOn===null);)MA(n),n.blockedOn===null&&Vo.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[ci]||null;if(typeof a=="function")s||$b(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[ci]||null)o=s.formAction;else if(W5(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),$b(n)}}}function Y5(e){this._internalRoot=e}cg.prototype.render=Y5.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Pt(409));var n=t.current,r=Di();IA(n,r,e,t,null,null)};cg.prototype.unmount=Y5.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&kc(),IA(e.current,2,null,e,null,null),og(),t[lh]=null}};function cg(e){this._internalRoot=e}cg.prototype.unstable_scheduleHydration=function(e){if(e){var t=A4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vo.length&&t!==0&&t<Vo[n].priority;n++);Vo.splice(n,0,e),n===0&&MA(e)}};var Gb=o4.version;if(Gb!=="19.0.0")throw Error(Pt(527,Gb,"19.0.0"));gn.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pt(188)):(e=Object.keys(e).join(","),Error(Pt(268,e)));return e=QT(t),e=e!==null?d4(e):null,e=e===null?null:e.stateNode,e};var gC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:we,findFiberByHostInstance:Wl,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{ld=mp.inject(gC),Ri=mp}catch{}}Qm.createRoot=function(e,t){if(!l4(e))throw Error(Pt(299));var n=!1,r="",i=I3,a=O3,s=k3,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=DA(e,1,!1,null,null,n,r,i,a,s,o,null),e[lh]=t.current,z5(e.nodeType===8?e.parentNode:e),new Y5(t)};Qm.hydrateRoot=function(e,t,n){if(!l4(e))throw Error(Pt(299));var r=!1,i="",a=I3,s=O3,o=k3,l=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=DA(e,1,!0,t,n??null,r,i,a,s,o,l,h),t.context=PA(null),n=t.current,r=Di(),i=Go(r),i.callback=null,Wo(n,i,r),t.current.lanes=r,cd(t,r),rs(t),e[lh]=t.current,z5(e),new cg(t)};Qm.version="19.0.0";function jA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jA)}catch(e){console.error(e)}}jA(),e4.exports=Qm;var vC=e4.exports;const yC=$w(vC);var Q5={};Object.defineProperty(Q5,"__esModule",{value:!0});Q5.parse=TC;Q5.serialize=xC;const bC=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,_C=/^[\u0021-\u003A\u003C-\u007E]*$/,wC=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,AC=/^[\u0020-\u003A\u003D-\u007E]*$/,SC=Object.prototype.toString,EC=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function TC(e,t){const n=new EC,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||NC;let a=0;do{const s=e.indexOf("=",a);if(s===-1)break;const o=e.indexOf(";",a),l=o===-1?r:o;if(s>l){a=e.lastIndexOf(";",s-1)+1;continue}const h=Wb(e,a,s),p=Yb(e,s,h),m=e.slice(h,p);if(n[m]===void 0){let g=Wb(e,s+1,l),d=Yb(e,l,g);const T=i(e.slice(g,d));n[m]=T}a=l+1}while(a<r);return n}function Wb(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function Yb(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function xC(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!bC.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!_C.test(i))throw new TypeError(`argument val is invalid: ${t}`);let a=e+"="+i;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!wC.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!AC.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!CC(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function NC(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function CC(e){return SC.call(e)==="[object Date]"}/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qb="popstate";function RC(e={}){function t(r,i){let{pathname:a,search:s,hash:o}=r.location;return o2("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qf(i)}return DC(t,n,null,e)}function Sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ja(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LC(){return Math.random().toString(36).substring(2,10)}function Kb(e,t){return{usr:e.state,key:e.key,idx:t}}function o2(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?dh(t):t,state:n,key:t&&t.key||r||LC()}}function Qf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function dh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function DC(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,h=p();h==null&&(h=0,s.replaceState({...s.state,idx:h},""));function p(){return(s.state||{idx:null}).idx}function m(){o="POP";let P=p(),y=P==null?null:P-h;h=P,l&&l({action:o,location:C.location,delta:y})}function g(P,y){o="PUSH";let b=o2(C.location,P,y);h=p()+1;let w=Kb(b,h),k=C.createHref(b);try{s.pushState(w,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(k)}a&&l&&l({action:o,location:C.location,delta:1})}function d(P,y){o="REPLACE";let b=o2(C.location,P,y);h=p();let w=Kb(b,h),k=C.createHref(b);s.replaceState(w,"",k),a&&l&&l({action:o,location:C.location,delta:0})}function T(P){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof P=="string"?P:Qf(P);return b=b.replace(/ $/,"%20"),Sn(y,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,y)}let C={get action(){return o},get location(){return e(i,s)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Qb,m),l=P,()=>{i.removeEventListener(Qb,m),l=null}},createHref(P){return t(i,P)},createURL:T,encodeLocation(P){let y=T(P);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:d,go(P){return s.go(P)}};return C}function FA(e,t,n="/"){return PC(e,t,n,!1)}function PC(e,t,n,r){let i=typeof t=="string"?dh(t):t,a=ll(i.pathname||"/",n);if(a==null)return null;let s=VA(e);IC(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let h=HC(a);o=zC(s[l],h,r)}return o}function VA(e,t=[],n=[],r=""){let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Sn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let h=Vs([r,l.relativePath]),p=n.concat(l);a.children&&a.children.length>0&&(Sn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),VA(a.children,t,p,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:BC(h,a.index),routesMeta:p})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of BA(a.path))i(a,s,l)}),t}function BA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=BA(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function IC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:UC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var OC=/^:[\w-]+$/,kC=3,MC=2,jC=1,FC=10,VC=-2,Xb=e=>e==="*";function BC(e,t){let n=e.split("/"),r=n.length;return n.some(Xb)&&(r+=VC),t&&(r+=MC),n.filter(i=>!Xb(i)).reduce((i,a)=>i+(OC.test(a)?kC:a===""?jC:FC),r)}function UC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function zC(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],h=o===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=Nm({path:l.relativePath,caseSensitive:l.caseSensitive,end:h},p),g=l.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=Nm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:Vs([a,m.pathname]),pathnameBase:YC(Vs([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=Vs([a,m.pathnameBase]))}return s}function Nm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:m},g)=>{if(p==="*"){let T=o[g]||"";s=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const d=o[g];return m&&!d?h[p]=void 0:h[p]=(d||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:s,pattern:e}}function qC(e,t=!1,n=!0){Ja(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function HC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ja(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ll(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $C(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?dh(e):e;return{pathname:n?n.startsWith("/")?n:GC(n,t):t,search:QC(r),hash:KC(i)}}function GC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function H1(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function UA(e){let t=WC(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function zA(e,t,n,r=!1){let i;typeof e=="string"?i=dh(e):(i={...e},Sn(!i.pathname||!i.pathname.includes("?"),H1("?","pathname","search",i)),Sn(!i.pathname||!i.pathname.includes("#"),H1("#","pathname","hash",i)),Sn(!i.search||!i.search.includes("#"),H1("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let m=t.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}o=m>=0?t[m]:"/"}let l=$C(i,o),h=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||p)&&(l.pathname+="/"),l}var Vs=e=>e.join("/").replace(/\/\/+/g,"/"),YC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var qA=["POST","PUT","PATCH","DELETE"];new Set(qA);var ZC=["GET",...qA];new Set(ZC);var ph=ct.createContext(null);ph.displayName="DataRouter";var hg=ct.createContext(null);hg.displayName="DataRouterState";var HA=ct.createContext({isTransitioning:!1});HA.displayName="ViewTransition";var JC=ct.createContext(new Map);JC.displayName="Fetchers";var t8=ct.createContext(null);t8.displayName="Await";var is=ct.createContext(null);is.displayName="Navigation";var _d=ct.createContext(null);_d.displayName="Location";var Ks=ct.createContext({outlet:null,matches:[],isDataRoute:!1});Ks.displayName="Route";var K5=ct.createContext(null);K5.displayName="RouteError";function e8(e,{relative:t}={}){Sn(wd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=ct.useContext(is),{hash:i,pathname:a,search:s}=Ad(e,{relative:t}),o=a;return n!=="/"&&(o=a==="/"?n:Vs([n,a])),r.createHref({pathname:o,search:s,hash:i})}function wd(){return ct.useContext(_d)!=null}function Eu(){return Sn(wd(),"useLocation() may be used only in the context of a <Router> component."),ct.useContext(_d).location}var $A="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GA(e){ct.useContext(is).static||ct.useLayoutEffect(e)}function X5(){let{isDataRoute:e}=ct.useContext(Ks);return e?p8():n8()}function n8(){Sn(wd(),"useNavigate() may be used only in the context of a <Router> component.");let e=ct.useContext(ph),{basename:t,navigator:n}=ct.useContext(is),{matches:r}=ct.useContext(Ks),{pathname:i}=Eu(),a=JSON.stringify(UA(r)),s=ct.useRef(!1);return GA(()=>{s.current=!0}),ct.useCallback((l,h={})=>{if(Ja(s.current,$A),!s.current)return;if(typeof l=="number"){n.go(l);return}let p=zA(l,JSON.parse(a),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Vs([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,a,i,e])}ct.createContext(null);function Ad(e,{relative:t}={}){let{matches:n}=ct.useContext(Ks),{pathname:r}=Eu(),i=JSON.stringify(UA(n));return ct.useMemo(()=>zA(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function r8(e,t){return WA(e,t)}function WA(e,t,n,r){var b;Sn(wd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=ct.useContext(is),{matches:s}=ct.useContext(Ks),o=s[s.length-1],l=o?o.params:{},h=o?o.pathname:"/",p=o?o.pathnameBase:"/",m=o&&o.route;{let w=m&&m.path||"";YA(h,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let g=Eu(),d;if(t){let w=typeof t=="string"?dh(t):t;Sn(p==="/"||((b=w.pathname)==null?void 0:b.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${w.pathname}" was given in the \`location\` prop.`),d=w}else d=g;let T=d.pathname||"/",C=T;if(p!=="/"){let w=p.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(w.length).join("/")}let P=!a&&n&&n.matches&&n.matches.length>0?n.matches:FA(e,{pathname:C});Ja(m||P!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Ja(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=l8(P&&P.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Vs([p,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?p:Vs([p,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&y?ct.createElement(_d.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},y):y}function i8(){let e=d8(),t=XC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=ct.createElement(ct.Fragment,null,ct.createElement("p",null,"💿 Hey developer 👋"),ct.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ct.createElement("code",{style:a},"ErrorBoundary")," or"," ",ct.createElement("code",{style:a},"errorElement")," prop on your route.")),ct.createElement(ct.Fragment,null,ct.createElement("h2",null,"Unexpected Application Error!"),ct.createElement("h3",{style:{fontStyle:"italic"}},t),n?ct.createElement("pre",{style:i},n):null,s)}var a8=ct.createElement(i8,null),s8=class extends ct.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ct.createElement(Ks.Provider,{value:this.props.routeContext},ct.createElement(K5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function o8({routeContext:e,match:t,children:n}){let r=ct.useContext(ph);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),ct.createElement(Ks.Provider,{value:e},n)}function l8(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=n==null?void 0:n.errors;if(a!=null){let l=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Sn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,o=-1;if(n)for(let l=0;l<i.length;l++){let h=i[l];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(o=l),h.route.id){let{loaderData:p,errors:m}=n,g=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){s=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,h,p)=>{let m,g=!1,d=null,T=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,d=h.route.errorElement||a8,s&&(o<0&&p===0?(YA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,T=null):o===p&&(g=!0,T=h.route.hydrateFallbackElement||null)));let C=t.concat(i.slice(0,p+1)),P=()=>{let y;return m?y=d:g?y=T:h.route.Component?y=ct.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=l,ct.createElement(o8,{match:h,routeContext:{outlet:l,matches:C,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?ct.createElement(s8,{location:n.location,revalidation:n.revalidation,component:d,error:m,children:P(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):P()},null)}function Z5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u8(e){let t=ct.useContext(ph);return Sn(t,Z5(e)),t}function c8(e){let t=ct.useContext(hg);return Sn(t,Z5(e)),t}function h8(e){let t=ct.useContext(Ks);return Sn(t,Z5(e)),t}function J5(e){let t=h8(e),n=t.matches[t.matches.length-1];return Sn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function f8(){return J5("useRouteId")}function d8(){var r;let e=ct.useContext(K5),t=c8("useRouteError"),n=J5("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function p8(){let{router:e}=u8("useNavigate"),t=J5("useNavigate"),n=ct.useRef(!1);return GA(()=>{n.current=!0}),ct.useCallback(async(i,a={})=>{Ja(n.current,$A),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var Zb={};function YA(e,t,n){!t&&!Zb[e]&&(Zb[e]=!0,Ja(!1,n))}ct.memo(m8);function m8({routes:e,future:t,state:n}){return WA(e,void 0,n,t)}function ef(e){Sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g8({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Sn(!wd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=ct.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=dh(n));let{pathname:l="/",search:h="",hash:p="",state:m=null,key:g="default"}=n,d=ct.useMemo(()=>{let T=ll(l,s);return T==null?null:{location:{pathname:T,search:h,hash:p,state:m,key:g},navigationType:r}},[s,l,h,p,m,g,r]);return Ja(d!=null,`<Router basename="${s}"> is not able to match the URL "${l}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),d==null?null:ct.createElement(is.Provider,{value:o},ct.createElement(_d.Provider,{children:t,value:d}))}function v8({children:e,location:t}){return r8(l2(e),t)}function l2(e,t=[]){let n=[];return ct.Children.forEach(e,(r,i)=>{if(!ct.isValidElement(r))return;let a=[...t,i];if(r.type===ct.Fragment){n.push.apply(n,l2(r.props.children,a));return}Sn(r.type===ef,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Sn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=l2(r.props.children,a)),n.push(s)}),n}var Bp="get",Up="application/x-www-form-urlencoded";function fg(e){return e!=null&&typeof e.tagName=="string"}function y8(e){return fg(e)&&e.tagName.toLowerCase()==="button"}function b8(e){return fg(e)&&e.tagName.toLowerCase()==="form"}function _8(e){return fg(e)&&e.tagName.toLowerCase()==="input"}function w8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function A8(e,t){return e.button===0&&(!t||t==="_self")&&!w8(e)}var gp=null;function S8(){if(gp===null)try{new FormData(document.createElement("form"),0),gp=!1}catch{gp=!0}return gp}var E8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $1(e){return e!=null&&!E8.has(e)?(Ja(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Up}"`),null):e}function T8(e,t){let n,r,i,a,s;if(b8(e)){let o=e.getAttribute("action");r=o?ll(o,t):null,n=e.getAttribute("method")||Bp,i=$1(e.getAttribute("enctype"))||Up,a=new FormData(e)}else if(y8(e)||_8(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(r=l?ll(l,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Bp,i=$1(e.getAttribute("formenctype"))||$1(o.getAttribute("enctype"))||Up,a=new FormData(o,e),!S8()){let{name:h,type:p,value:m}=e;if(p==="image"){let g=h?`${h}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else h&&a.append(h,m)}}else{if(fg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bp,r=null,i=Up,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function tv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function x8(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function C8(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await x8(a,n);return s.links?s.links():[]}return[]}));return P8(r.flat(1).filter(N8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Jb(e,t,n,r,i,a){let s=(l,h)=>n[h]?l.route.id!==n[h].route.id:!0,o=(l,h)=>{var p;return n[h].pathname!==l.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,h)=>s(l,h)||o(l,h)):a==="data"?t.filter((l,h)=>{var m;let p=r.routes[l.route.id];if(!p||!p.hasLoader)return!1;if(s(l,h)||o(l,h))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function R8(e,t){return L8(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function L8(e){return[...new Set(e)]}function D8(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function P8(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(D8(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function I8(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function O8(){let e=ct.useContext(ph);return tv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function k8(){let e=ct.useContext(hg);return tv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ev=ct.createContext(void 0);ev.displayName="FrameworkContext";function QA(){let e=ct.useContext(ev);return tv(e,"You must render this element inside a <HydratedRouter> element"),e}function M8(e,t){let n=ct.useContext(ev),[r,i]=ct.useState(!1),[a,s]=ct.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=t,g=ct.useRef(null);ct.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let C=y=>{y.forEach(b=>{s(b.isIntersecting)})},P=new IntersectionObserver(C,{threshold:.5});return g.current&&P.observe(g.current),()=>{P.disconnect()}}},[e]),ct.useEffect(()=>{if(r){let C=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(C)}}},[r]);let d=()=>{i(!0)},T=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:Wh(o,d),onBlur:Wh(l,T),onMouseEnter:Wh(h,d),onMouseLeave:Wh(p,T),onTouchStart:Wh(m,d)}]:[!1,g,{}]}function Wh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function j8({page:e,...t}){let{router:n}=O8(),r=ct.useMemo(()=>FA(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?ct.createElement(V8,{page:e,matches:r,...t}):null}function F8(e){let{manifest:t,routeModules:n}=QA(),[r,i]=ct.useState([]);return ct.useEffect(()=>{let a=!1;return C8(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function V8({page:e,matches:t,...n}){let r=Eu(),{manifest:i,routeModules:a}=QA(),{loaderData:s,matches:o}=k8(),l=ct.useMemo(()=>Jb(e,t,o,i,r,"data"),[e,t,o,i,r]),h=ct.useMemo(()=>Jb(e,t,o,i,r,"assets"),[e,t,o,i,r]),p=ct.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let d=new Set,T=!1;if(t.forEach(P=>{var b;let y=i.routes[P.route.id];!y||!y.hasLoader||(!l.some(w=>w.route.id===P.route.id)&&P.route.id in s&&((b=a[P.route.id])!=null&&b.shouldRevalidate)||y.hasClientLoader?T=!0:d.add(P.route.id))}),d.size===0)return[];let C=I8(e);return T&&d.size>0&&C.searchParams.set("_routes",t.filter(P=>d.has(P.route.id)).map(P=>P.route.id).join(",")),[C.pathname+C.search]},[s,r,i,l,t,e,a]),m=ct.useMemo(()=>R8(h,i),[h,i]),g=F8(h);return ct.createElement(ct.Fragment,null,p.map(d=>ct.createElement("link",{key:d,rel:"prefetch",as:"fetch",href:d,...n})),m.map(d=>ct.createElement("link",{key:d,rel:"modulepreload",href:d,...n})),g.map(({key:d,link:T})=>ct.createElement("link",{key:d,...T})))}function B8(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var KA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KA&&(window.__reactRouterVersion="7.1.5")}catch{}function U8({basename:e,children:t,window:n}){let r=ct.useRef();r.current==null&&(r.current=RC({window:n,v5Compat:!0}));let i=r.current,[a,s]=ct.useState({action:i.action,location:i.location}),o=ct.useCallback(l=>{ct.startTransition(()=>s(l))},[s]);return ct.useLayoutEffect(()=>i.listen(o),[i,o]),ct.createElement(g8,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var XA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nv=ct.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:h,preventScrollReset:p,viewTransition:m,...g},d){let{basename:T}=ct.useContext(is),C=typeof h=="string"&&XA.test(h),P,y=!1;if(typeof h=="string"&&C&&(P=h,KA))try{let R=new URL(window.location.href),O=h.startsWith("//")?new URL(R.protocol+h):new URL(h),x=ll(O.pathname,T);O.origin===R.origin&&x!=null?h=x+O.search+O.hash:y=!0}catch{Ja(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=e8(h,{relative:i}),[w,k,j]=M8(r,g),z=$8(h,{replace:s,state:o,target:l,preventScrollReset:p,relative:i,viewTransition:m});function N(R){t&&t(R),R.defaultPrevented||z(R)}let E=ct.createElement("a",{...g,...j,href:P||b,onClick:y||a?t:N,ref:B8(d,k),target:l,"data-discover":!C&&n==="render"?"true":void 0});return w&&!C?ct.createElement(ct.Fragment,null,E,ct.createElement(j8,{page:b})):E});nv.displayName="Link";var z8=ct.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...h},p){let m=Ad(s,{relative:h.relative}),g=Eu(),d=ct.useContext(hg),{navigator:T,basename:C}=ct.useContext(is),P=d!=null&&K8(m)&&o===!0,y=T.encodeLocation?T.encodeLocation(m).pathname:m.pathname,b=g.pathname,w=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;n||(b=b.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&C&&(w=ll(w,C)||w);const k=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let j=b===y||!i&&b.startsWith(y)&&b.charAt(k)==="/",z=w!=null&&(w===y||!i&&w.startsWith(y)&&w.charAt(y.length)==="/"),N={isActive:j,isPending:z,isTransitioning:P},E=j?t:void 0,R;typeof r=="function"?R=r(N):R=[r,j?"active":null,z?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(N):a;return ct.createElement(nv,{...h,"aria-current":E,className:R,ref:p,style:O,to:s,viewTransition:o},typeof l=="function"?l(N):l)});z8.displayName="NavLink";var q8=ct.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Bp,action:o,onSubmit:l,relative:h,preventScrollReset:p,viewTransition:m,...g},d)=>{let T=Y8(),C=Q8(o,{relative:h}),P=s.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&XA.test(o),b=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let k=w.nativeEvent.submitter,j=(k==null?void 0:k.getAttribute("formmethod"))||s;T(k||w.currentTarget,{fetcherKey:t,method:j,navigate:n,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:m})};return ct.createElement("form",{ref:d,method:P,action:C,onSubmit:r?l:b,...g,"data-discover":!y&&e==="render"?"true":void 0})});q8.displayName="Form";function H8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZA(e){let t=ct.useContext(ph);return Sn(t,H8(e)),t}function $8(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=X5(),l=Eu(),h=Ad(e,{relative:a});return ct.useCallback(p=>{if(A8(p,t)){p.preventDefault();let m=n!==void 0?n:Qf(l)===Qf(h);o(e,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,h,n,r,t,e,i,a,s])}var G8=0,W8=()=>`__${String(++G8)}__`;function Y8(){let{router:e}=ZA("useSubmit"),{basename:t}=ct.useContext(is),n=f8();return ct.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:h}=T8(r,t);if(i.navigate===!1){let p=i.fetcherKey||W8();await e.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:h,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:h,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Q8(e,{relative:t}={}){let{basename:n}=ct.useContext(is),r=ct.useContext(Ks);Sn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Ad(e||".",{relative:t})},s=Eu();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(p=>p==="")){o.delete("index"),l.filter(m=>m).forEach(m=>o.append("index",m));let p=o.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Vs([n,a.pathname])),Qf(a)}function K8(e,t={}){let n=ct.useContext(HA);Sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZA("useViewTransitionState"),i=Ad(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=ll(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ll(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nm(i.pathname,s)!=null||Nm(i.pathname,a)!=null}new TextEncoder;var t_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},X8=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[n++],s=e[n++],o=e[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},tS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,h=l?e[i+2]:0,p=a>>2,m=(a&3)<<4|o>>4;let g=(o&15)<<2|h>>6,d=h&63;l||(d=64,s||(g=64)),r.push(n[p],n[m],n[g],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(JA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):X8(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const h=i<e.length?n[e.charAt(i)]:64;++i;const m=i<e.length?n[e.charAt(i)]:64;if(++i,a==null||o==null||h==null||m==null)throw new Z8;const g=a<<2|o>>4;if(r.push(g),h!==64){const d=o<<4&240|h>>2;if(r.push(d),m!==64){const T=h<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Z8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J8=function(e){const t=JA(e);return tS.encodeByteArray(t,!0)},Cm=function(e){return J8(e).replace(/\./g,"")},t7=function(e){try{return tS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=()=>e7().__FIREBASE_DEFAULTS__,r7=()=>{if(typeof process>"u"||typeof t_>"u")return;const e=t_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},i7=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&t7(e[1]);return t&&JSON.parse(t)},rv=()=>{try{return n7()||r7()||i7()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},a7=e=>{var t,n;return(n=(t=rv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},s7=e=>{const t=a7(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},eS=()=>{var e;return(e=rv())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Cm(JSON.stringify(n)),Cm(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c7(){var e;const t=(e=rv())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h7(){return!c7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f7(){try{return typeof indexedDB=="object"}catch{return!1}}function d7(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7="FirebaseError";class mh extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=p7,Object.setPrototypeOf(this,mh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nS.prototype.create)}}class nS{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?m7(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new mh(i,o,r)}}function m7(e,t){return e.replace(g7,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const g7=/\{\$([^}]+)}/g;function u2(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const a=e[i],s=t[i];if(e_(a)&&e_(s)){if(!u2(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function e_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e){return e&&e._delegate?e._delegate:e}class Kf{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new o7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(b7(t))try{this.getOrInitializeService({instanceIdentifier:Hl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(t=Hl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hl){return this.instances.has(t)}getOptions(t=Hl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(t),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&t(s,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y7(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Hl){return this.component?this.component.multipleInstances?t:Hl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y7(e){return e===Hl?void 0:e}function b7(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new v7(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ke||(ke={}));const w7={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},A7=ke.INFO,S7={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},E7=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=S7[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rS{constructor(t){this.name=t,this._logLevel=A7,this._logHandler=E7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ke))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?w7[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...t),this._logHandler(this,ke.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...t),this._logHandler(this,ke.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...t),this._logHandler(this,ke.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...t),this._logHandler(this,ke.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...t),this._logHandler(this,ke.ERROR,...t)}}const T7=(e,t)=>t.some(n=>e instanceof n);let n_,r_;function x7(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N7(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iS=new WeakMap,c2=new WeakMap,aS=new WeakMap,G1=new WeakMap,iv=new WeakMap;function C7(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{n(Jo(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&iS.set(n,e)}).catch(()=>{}),iv.set(t,e),t}function R7(e){if(c2.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});c2.set(e,t)}let h2={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return c2.get(e);if(t==="objectStoreNames")return e.objectStoreNames||aS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function L7(e){h2=e(h2)}function D7(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(W1(this),t,...n);return aS.set(r,t.sort?t.sort():[t]),Jo(r)}:N7().includes(e)?function(...t){return e.apply(W1(this),t),Jo(iS.get(this))}:function(...t){return Jo(e.apply(W1(this),t))}}function P7(e){return typeof e=="function"?D7(e):(e instanceof IDBTransaction&&R7(e),T7(e,x7())?new Proxy(e,h2):e)}function Jo(e){if(e instanceof IDBRequest)return C7(e);if(G1.has(e))return G1.get(e);const t=P7(e);return t!==e&&(G1.set(e,t),iv.set(t,e)),t}const W1=e=>iv.get(e);function I7(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=Jo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Jo(s.result),l.oldVersion,l.newVersion,Jo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const O7=["get","getKey","getAll","getAllKeys","count"],k7=["put","add","delete","clear"],Y1=new Map;function i_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Y1.get(t))return Y1.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=k7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||O7.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),i&&l.done]))[0]};return Y1.set(t,a),a}L7(e=>({...e,get:(t,n,r)=>i_(t,n)||e.get(t,n,r),has:(t,n)=>!!i_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function j7(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const f2="@firebase/app",a_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new rS("@firebase/app"),F7="@firebase/app-compat",V7="@firebase/analytics-compat",B7="@firebase/analytics",U7="@firebase/app-check-compat",z7="@firebase/app-check",q7="@firebase/auth",H7="@firebase/auth-compat",$7="@firebase/database",G7="@firebase/data-connect",W7="@firebase/database-compat",Y7="@firebase/functions",Q7="@firebase/functions-compat",K7="@firebase/installations",X7="@firebase/installations-compat",Z7="@firebase/messaging",J7="@firebase/messaging-compat",tR="@firebase/performance",eR="@firebase/performance-compat",nR="@firebase/remote-config",rR="@firebase/remote-config-compat",iR="@firebase/storage",aR="@firebase/storage-compat",sR="@firebase/firestore",oR="@firebase/vertexai",lR="@firebase/firestore-compat",uR="firebase",cR="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="[DEFAULT]",hR={[f2]:"fire-core",[F7]:"fire-core-compat",[B7]:"fire-analytics",[V7]:"fire-analytics-compat",[z7]:"fire-app-check",[U7]:"fire-app-check-compat",[q7]:"fire-auth",[H7]:"fire-auth-compat",[$7]:"fire-rtdb",[G7]:"fire-data-connect",[W7]:"fire-rtdb-compat",[Y7]:"fire-fn",[Q7]:"fire-fn-compat",[K7]:"fire-iid",[X7]:"fire-iid-compat",[Z7]:"fire-fcm",[J7]:"fire-fcm-compat",[tR]:"fire-perf",[eR]:"fire-perf-compat",[nR]:"fire-rc",[rR]:"fire-rc-compat",[iR]:"fire-gcs",[aR]:"fire-gcs-compat",[sR]:"fire-fst",[lR]:"fire-fst-compat",[oR]:"fire-vertex","fire-js":"fire-js",[uR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=new Map,fR=new Map,p2=new Map;function s_(e,t){try{e.container.addComponent(t)}catch(n){$s.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Lm(e){const t=e.name;if(p2.has(t))return $s.debug(`There were multiple attempts to register component ${t}.`),!1;p2.set(t,e);for(const n of Rm.values())s_(n,e);for(const n of fR.values())s_(n,e);return!0}function dR(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pR(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tl=new nS("app","Firebase",mR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=cR;function sS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:d2,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw tl.create("bad-app-name",{appName:String(i)});if(n||(n=eS()),!n)throw tl.create("no-options");const a=Rm.get(i);if(a){if(u2(n,a.options)&&u2(r,a.config))return a;throw tl.create("duplicate-app",{appName:i})}const s=new _7(i);for(const l of p2.values())s.addComponent(l);const o=new gR(n,r,s);return Rm.set(i,o),o}function yR(e=d2){const t=Rm.get(e);if(!t&&e===d2&&eS())return sS();if(!t)throw tl.create("no-app",{appName:e});return t}function Mc(e,t,n){var r;let i=(r=hR[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${t}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$s.warn(o.join(" "));return}Lm(new Kf(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="firebase-heartbeat-database",_R=1,Xf="firebase-heartbeat-store";let Q1=null;function oS(){return Q1||(Q1=I7(bR,_R,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Xf)}catch(n){console.warn(n)}}}}).catch(e=>{throw tl.create("idb-open",{originalErrorMessage:e.message})})),Q1}async function wR(e){try{const n=(await oS()).transaction(Xf),r=await n.objectStore(Xf).get(lS(e));return await n.done,r}catch(t){if(t instanceof mh)$s.warn(t.message);else{const n=tl.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});$s.warn(n.message)}}}async function o_(e,t){try{const r=(await oS()).transaction(Xf,"readwrite");await r.objectStore(Xf).put(t,lS(e)),await r.done}catch(n){if(n instanceof mh)$s.warn(n.message);else{const r=tl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$s.warn(r.message)}}}function lS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=1024,SR=30;class ER{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=l_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>SR){const s=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$s.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l_(),{heartbeatsToSend:r,unsentEntries:i}=TR(this._heartbeatsCache.heartbeats),a=Cm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return $s.warn(n),""}}}function l_(){return new Date().toISOString().substring(0,10)}function TR(e,t=AR){const n=[];let r=e.slice();for(const i of e){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),u_(n)>t){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),u_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f7()?d7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return o_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return o_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function u_(e){return Cm(JSON.stringify({version:2,heartbeats:e})).length}function NR(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(e){Lm(new Kf("platform-logger",t=>new M7(t),"PRIVATE")),Lm(new Kf("heartbeat",t=>new ER(t),"PRIVATE")),Mc(f2,a_,e),Mc(f2,a_,"esm2017"),Mc("fire-js","")}CR("");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var el,uS;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,E){function R(){}R.prototype=E.prototype,N.D=E.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(O,x,A){for(var L=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)L[Y-2]=arguments[Y];return E.prototype[x].apply(O,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,E,R){R||(R=0);var O=Array(16);if(typeof E=="string")for(var x=0;16>x;++x)O[x]=E.charCodeAt(R++)|E.charCodeAt(R++)<<8|E.charCodeAt(R++)<<16|E.charCodeAt(R++)<<24;else for(x=0;16>x;++x)O[x]=E[R++]|E[R++]<<8|E[R++]<<16|E[R++]<<24;E=N.g[0],R=N.g[1],x=N.g[2];var A=N.g[3],L=E+(A^R&(x^A))+O[0]+3614090360&4294967295;E=R+(L<<7&4294967295|L>>>25),L=A+(x^E&(R^x))+O[1]+3905402710&4294967295,A=E+(L<<12&4294967295|L>>>20),L=x+(R^A&(E^R))+O[2]+606105819&4294967295,x=A+(L<<17&4294967295|L>>>15),L=R+(E^x&(A^E))+O[3]+3250441966&4294967295,R=x+(L<<22&4294967295|L>>>10),L=E+(A^R&(x^A))+O[4]+4118548399&4294967295,E=R+(L<<7&4294967295|L>>>25),L=A+(x^E&(R^x))+O[5]+1200080426&4294967295,A=E+(L<<12&4294967295|L>>>20),L=x+(R^A&(E^R))+O[6]+2821735955&4294967295,x=A+(L<<17&4294967295|L>>>15),L=R+(E^x&(A^E))+O[7]+4249261313&4294967295,R=x+(L<<22&4294967295|L>>>10),L=E+(A^R&(x^A))+O[8]+1770035416&4294967295,E=R+(L<<7&4294967295|L>>>25),L=A+(x^E&(R^x))+O[9]+2336552879&4294967295,A=E+(L<<12&4294967295|L>>>20),L=x+(R^A&(E^R))+O[10]+4294925233&4294967295,x=A+(L<<17&4294967295|L>>>15),L=R+(E^x&(A^E))+O[11]+2304563134&4294967295,R=x+(L<<22&4294967295|L>>>10),L=E+(A^R&(x^A))+O[12]+1804603682&4294967295,E=R+(L<<7&4294967295|L>>>25),L=A+(x^E&(R^x))+O[13]+4254626195&4294967295,A=E+(L<<12&4294967295|L>>>20),L=x+(R^A&(E^R))+O[14]+2792965006&4294967295,x=A+(L<<17&4294967295|L>>>15),L=R+(E^x&(A^E))+O[15]+1236535329&4294967295,R=x+(L<<22&4294967295|L>>>10),L=E+(x^A&(R^x))+O[1]+4129170786&4294967295,E=R+(L<<5&4294967295|L>>>27),L=A+(R^x&(E^R))+O[6]+3225465664&4294967295,A=E+(L<<9&4294967295|L>>>23),L=x+(E^R&(A^E))+O[11]+643717713&4294967295,x=A+(L<<14&4294967295|L>>>18),L=R+(A^E&(x^A))+O[0]+3921069994&4294967295,R=x+(L<<20&4294967295|L>>>12),L=E+(x^A&(R^x))+O[5]+3593408605&4294967295,E=R+(L<<5&4294967295|L>>>27),L=A+(R^x&(E^R))+O[10]+38016083&4294967295,A=E+(L<<9&4294967295|L>>>23),L=x+(E^R&(A^E))+O[15]+3634488961&4294967295,x=A+(L<<14&4294967295|L>>>18),L=R+(A^E&(x^A))+O[4]+3889429448&4294967295,R=x+(L<<20&4294967295|L>>>12),L=E+(x^A&(R^x))+O[9]+568446438&4294967295,E=R+(L<<5&4294967295|L>>>27),L=A+(R^x&(E^R))+O[14]+3275163606&4294967295,A=E+(L<<9&4294967295|L>>>23),L=x+(E^R&(A^E))+O[3]+4107603335&4294967295,x=A+(L<<14&4294967295|L>>>18),L=R+(A^E&(x^A))+O[8]+1163531501&4294967295,R=x+(L<<20&4294967295|L>>>12),L=E+(x^A&(R^x))+O[13]+2850285829&4294967295,E=R+(L<<5&4294967295|L>>>27),L=A+(R^x&(E^R))+O[2]+4243563512&4294967295,A=E+(L<<9&4294967295|L>>>23),L=x+(E^R&(A^E))+O[7]+1735328473&4294967295,x=A+(L<<14&4294967295|L>>>18),L=R+(A^E&(x^A))+O[12]+2368359562&4294967295,R=x+(L<<20&4294967295|L>>>12),L=E+(R^x^A)+O[5]+4294588738&4294967295,E=R+(L<<4&4294967295|L>>>28),L=A+(E^R^x)+O[8]+2272392833&4294967295,A=E+(L<<11&4294967295|L>>>21),L=x+(A^E^R)+O[11]+1839030562&4294967295,x=A+(L<<16&4294967295|L>>>16),L=R+(x^A^E)+O[14]+4259657740&4294967295,R=x+(L<<23&4294967295|L>>>9),L=E+(R^x^A)+O[1]+2763975236&4294967295,E=R+(L<<4&4294967295|L>>>28),L=A+(E^R^x)+O[4]+1272893353&4294967295,A=E+(L<<11&4294967295|L>>>21),L=x+(A^E^R)+O[7]+4139469664&4294967295,x=A+(L<<16&4294967295|L>>>16),L=R+(x^A^E)+O[10]+3200236656&4294967295,R=x+(L<<23&4294967295|L>>>9),L=E+(R^x^A)+O[13]+681279174&4294967295,E=R+(L<<4&4294967295|L>>>28),L=A+(E^R^x)+O[0]+3936430074&4294967295,A=E+(L<<11&4294967295|L>>>21),L=x+(A^E^R)+O[3]+3572445317&4294967295,x=A+(L<<16&4294967295|L>>>16),L=R+(x^A^E)+O[6]+76029189&4294967295,R=x+(L<<23&4294967295|L>>>9),L=E+(R^x^A)+O[9]+3654602809&4294967295,E=R+(L<<4&4294967295|L>>>28),L=A+(E^R^x)+O[12]+3873151461&4294967295,A=E+(L<<11&4294967295|L>>>21),L=x+(A^E^R)+O[15]+530742520&4294967295,x=A+(L<<16&4294967295|L>>>16),L=R+(x^A^E)+O[2]+3299628645&4294967295,R=x+(L<<23&4294967295|L>>>9),L=E+(x^(R|~A))+O[0]+4096336452&4294967295,E=R+(L<<6&4294967295|L>>>26),L=A+(R^(E|~x))+O[7]+1126891415&4294967295,A=E+(L<<10&4294967295|L>>>22),L=x+(E^(A|~R))+O[14]+2878612391&4294967295,x=A+(L<<15&4294967295|L>>>17),L=R+(A^(x|~E))+O[5]+4237533241&4294967295,R=x+(L<<21&4294967295|L>>>11),L=E+(x^(R|~A))+O[12]+1700485571&4294967295,E=R+(L<<6&4294967295|L>>>26),L=A+(R^(E|~x))+O[3]+2399980690&4294967295,A=E+(L<<10&4294967295|L>>>22),L=x+(E^(A|~R))+O[10]+4293915773&4294967295,x=A+(L<<15&4294967295|L>>>17),L=R+(A^(x|~E))+O[1]+2240044497&4294967295,R=x+(L<<21&4294967295|L>>>11),L=E+(x^(R|~A))+O[8]+1873313359&4294967295,E=R+(L<<6&4294967295|L>>>26),L=A+(R^(E|~x))+O[15]+4264355552&4294967295,A=E+(L<<10&4294967295|L>>>22),L=x+(E^(A|~R))+O[6]+2734768916&4294967295,x=A+(L<<15&4294967295|L>>>17),L=R+(A^(x|~E))+O[13]+1309151649&4294967295,R=x+(L<<21&4294967295|L>>>11),L=E+(x^(R|~A))+O[4]+4149444226&4294967295,E=R+(L<<6&4294967295|L>>>26),L=A+(R^(E|~x))+O[11]+3174756917&4294967295,A=E+(L<<10&4294967295|L>>>22),L=x+(E^(A|~R))+O[2]+718787259&4294967295,x=A+(L<<15&4294967295|L>>>17),L=R+(A^(x|~E))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+E&4294967295,N.g[1]=N.g[1]+(x+(L<<21&4294967295|L>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+A&4294967295}r.prototype.u=function(N,E){E===void 0&&(E=N.length);for(var R=E-this.blockSize,O=this.B,x=this.h,A=0;A<E;){if(x==0)for(;A<=R;)i(this,N,A),A+=this.blockSize;if(typeof N=="string"){for(;A<E;)if(O[x++]=N.charCodeAt(A++),x==this.blockSize){i(this,O),x=0;break}}else for(;A<E;)if(O[x++]=N[A++],x==this.blockSize){i(this,O),x=0;break}}this.h=x,this.o+=E},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var E=1;E<N.length-8;++E)N[E]=0;var R=8*this.o;for(E=N.length-8;E<N.length;++E)N[E]=R&255,R/=256;for(this.u(N),N=Array(16),E=R=0;4>E;++E)for(var O=0;32>O;O+=8)N[R++]=this.g[E]>>>O&255;return N};function a(N,E){var R=o;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=E(N)}function s(N,E){this.h=E;for(var R=[],O=!0,x=N.length-1;0<=x;x--){var A=N[x]|0;O&&A==E||(R[x]=A,O=!1)}this.g=R}var o={};function l(N){return-128<=N&&128>N?a(N,function(E){return new s([E|0],0>E?-1:0)}):new s([N|0],0>N?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return m;if(0>N)return P(h(-N));for(var E=[],R=1,O=0;N>=R;O++)E[O]=N/R|0,R*=4294967296;return new s(E,0)}function p(N,E){if(N.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(N.charAt(0)=="-")return P(p(N.substring(1),E));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=h(Math.pow(E,8)),O=m,x=0;x<N.length;x+=8){var A=Math.min(8,N.length-x),L=parseInt(N.substring(x,x+A),E);8>A?(A=h(Math.pow(E,A)),O=O.j(A).add(h(L))):(O=O.j(R),O=O.add(h(L)))}return O}var m=l(0),g=l(1),d=l(16777216);e=s.prototype,e.m=function(){if(C(this))return-P(this).m();for(var N=0,E=1,R=0;R<this.g.length;R++){var O=this.i(R);N+=(0<=O?O:4294967296+O)*E,E*=4294967296}return N},e.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(C(this))return"-"+P(this).toString(N);for(var E=h(Math.pow(N,6)),R=this,O="";;){var x=k(R,E).g;R=y(R,x.j(E));var A=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=x,T(R))return A+O;for(;6>A.length;)A="0"+A;O=A+O}},e.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(var E=0;E<N.g.length;E++)if(N.g[E]!=0)return!1;return!0}function C(N){return N.h==-1}e.l=function(N){return N=y(this,N),C(N)?-1:T(N)?0:1};function P(N){for(var E=N.g.length,R=[],O=0;O<E;O++)R[O]=~N.g[O];return new s(R,~N.h).add(g)}e.abs=function(){return C(this)?P(this):this},e.add=function(N){for(var E=Math.max(this.g.length,N.g.length),R=[],O=0,x=0;x<=E;x++){var A=O+(this.i(x)&65535)+(N.i(x)&65535),L=(A>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);O=L>>>16,A&=65535,L&=65535,R[x]=L<<16|A}return new s(R,R[R.length-1]&-2147483648?-1:0)};function y(N,E){return N.add(P(E))}e.j=function(N){if(T(this)||T(N))return m;if(C(this))return C(N)?P(this).j(P(N)):P(P(this).j(N));if(C(N))return P(this.j(P(N)));if(0>this.l(d)&&0>N.l(d))return h(this.m()*N.m());for(var E=this.g.length+N.g.length,R=[],O=0;O<2*E;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<N.g.length;x++){var A=this.i(O)>>>16,L=this.i(O)&65535,Y=N.i(x)>>>16,st=N.i(x)&65535;R[2*O+2*x]+=L*st,b(R,2*O+2*x),R[2*O+2*x+1]+=A*st,b(R,2*O+2*x+1),R[2*O+2*x+1]+=L*Y,b(R,2*O+2*x+1),R[2*O+2*x+2]+=A*Y,b(R,2*O+2*x+2)}for(O=0;O<E;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=E;O<2*E;O++)R[O]=0;return new s(R,0)};function b(N,E){for(;(N[E]&65535)!=N[E];)N[E+1]+=N[E]>>>16,N[E]&=65535,E++}function w(N,E){this.g=N,this.h=E}function k(N,E){if(T(E))throw Error("division by zero");if(T(N))return new w(m,m);if(C(N))return E=k(P(N),E),new w(P(E.g),P(E.h));if(C(E))return E=k(N,P(E)),new w(P(E.g),E.h);if(30<N.g.length){if(C(N)||C(E))throw Error("slowDivide_ only works with positive integers.");for(var R=g,O=E;0>=O.l(N);)R=j(R),O=j(O);var x=z(R,1),A=z(O,1);for(O=z(O,2),R=z(R,2);!T(O);){var L=A.add(O);0>=L.l(N)&&(x=x.add(R),A=L),O=z(O,1),R=z(R,1)}return E=y(N,x.j(E)),new w(x,E)}for(x=m;0<=N.l(E);){for(R=Math.max(1,Math.floor(N.m()/E.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),A=h(R),L=A.j(E);C(L)||0<L.l(N);)R-=O,A=h(R),L=A.j(E);T(A)&&(A=g),x=x.add(A),N=y(N,L)}return new w(x,N)}e.A=function(N){return k(this,N).h},e.and=function(N){for(var E=Math.max(this.g.length,N.g.length),R=[],O=0;O<E;O++)R[O]=this.i(O)&N.i(O);return new s(R,this.h&N.h)},e.or=function(N){for(var E=Math.max(this.g.length,N.g.length),R=[],O=0;O<E;O++)R[O]=this.i(O)|N.i(O);return new s(R,this.h|N.h)},e.xor=function(N){for(var E=Math.max(this.g.length,N.g.length),R=[],O=0;O<E;O++)R[O]=this.i(O)^N.i(O);return new s(R,this.h^N.h)};function j(N){for(var E=N.g.length+1,R=[],O=0;O<E;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new s(R,N.h)}function z(N,E){var R=E>>5;E%=32;for(var O=N.g.length-R,x=[],A=0;A<O;A++)x[A]=0<E?N.i(A+R)>>>E|N.i(A+R+1)<<32-E:N.i(A+R);return new s(x,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uS=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=p,el=s}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cS,nf,hS,zp,m2,fS,dS,pS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,S,I){return c==Array.prototype||c==Object.prototype||(c[S]=I.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vp=="object"&&vp];for(var S=0;S<c.length;++S){var I=c[S];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(c,S){if(S)t:{var I=r;c=c.split(".");for(var H=0;H<c.length-1;H++){var ft=c[H];if(!(ft in I))break t;I=I[ft]}c=c[c.length-1],H=I[c],S=S(H),S!=H&&S!=null&&t(I,c,{configurable:!0,writable:!0,value:S})}}function a(c,S){c instanceof String&&(c+="");var I=0,H=!1,ft={next:function(){if(!H&&I<c.length){var wt=I++;return{value:S(wt,c[wt]),done:!1}}return H=!0,{done:!0,value:void 0}}};return ft[Symbol.iterator]=function(){return ft},ft}i("Array.prototype.values",function(c){return c||function(){return a(this,function(S,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(c){var S=typeof c;return S=S!="object"?S:c?Array.isArray(c)?"array":S:"null",S=="array"||S=="object"&&typeof c.length=="number"}function h(c){var S=typeof c;return S=="object"&&c!=null||S=="function"}function p(c,S,I){return c.call.apply(c.bind,arguments)}function m(c,S,I){if(!c)throw Error();if(2<arguments.length){var H=Array.prototype.slice.call(arguments,2);return function(){var ft=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ft,H),c.apply(S,ft)}}return function(){return c.apply(S,arguments)}}function g(c,S,I){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,g.apply(null,arguments)}function d(c,S){var I=Array.prototype.slice.call(arguments,1);return function(){var H=I.slice();return H.push.apply(H,arguments),c.apply(this,H)}}function T(c,S){function I(){}I.prototype=S.prototype,c.aa=S.prototype,c.prototype=new I,c.prototype.constructor=c,c.Qb=function(H,ft,wt){for(var jt=Array(arguments.length-2),me=2;me<arguments.length;me++)jt[me-2]=arguments[me];return S.prototype[ft].apply(H,jt)}}function C(c){const S=c.length;if(0<S){const I=Array(S);for(let H=0;H<S;H++)I[H]=c[H];return I}return[]}function P(c,S){for(let I=1;I<arguments.length;I++){const H=arguments[I];if(l(H)){const ft=c.length||0,wt=H.length||0;c.length=ft+wt;for(let jt=0;jt<wt;jt++)c[ft+jt]=H[jt]}else c.push(H)}}class y{constructor(S,I){this.i=S,this.j=I,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function b(c){return/^[\s\xa0]*$/.test(c)}function w(){var c=o.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var j=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function z(c,S,I){for(const H in c)S.call(I,c[H],H,c)}function N(c,S){for(const I in c)S.call(void 0,c[I],I,c)}function E(c){const S={};for(const I in c)S[I]=c[I];return S}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,S){let I,H;for(let ft=1;ft<arguments.length;ft++){H=arguments[ft];for(I in H)c[I]=H[I];for(let wt=0;wt<R.length;wt++)I=R[wt],Object.prototype.hasOwnProperty.call(H,I)&&(c[I]=H[I])}}function x(c){var S=1;c=c.split(":");const I=[];for(;0<S&&c.length;)I.push(c.shift()),S--;return c.length&&I.push(c.join(":")),I}function A(c){o.setTimeout(()=>{throw c},0)}function L(){var c=J;let S=null;return c.g&&(S=c.g,c.g=c.g.next,c.g||(c.h=null),S.next=null),S}class Y{constructor(){this.h=this.g=null}add(S,I){const H=st.get();H.set(S,I),this.h?this.h.next=H:this.g=H,this.h=H}}var st=new y(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(S,I){this.h=S,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,X=!1,J=new Y,at=()=>{const c=o.Promise.resolve(void 0);Q=()=>{c.then(yt)}};var yt=()=>{for(var c;c=L();){try{c.h.call(c.g)}catch(I){A(I)}var S=st;S.j(c),100>S.h&&(S.h++,c.next=S.g,S.g=c)}X=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(c,S){this.type=c,this.g=this.target=S,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,S=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const I=()=>{};o.addEventListener("test",I,S),o.removeEventListener("test",I,S)}catch{}return c}();function et(c,S){if($.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var I=this.type=c.type,H=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=S,S=c.relatedTarget){if(j){t:{try{k(S.nodeName);var ft=!0;break t}catch{}ft=!1}ft||(S=null)}}else I=="mouseover"?S=c.fromElement:I=="mouseout"&&(S=c.toElement);this.relatedTarget=S,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:rt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&et.aa.h.call(this)}}T(et,$);var rt={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),gt=0;function vt(c,S,I,H,ft){this.listener=c,this.proxy=null,this.src=S,this.type=I,this.capture=!!H,this.ha=ft,this.key=++gt,this.da=this.fa=!1}function kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lt(c){this.src=c,this.g={},this.h=0}Lt.prototype.add=function(c,S,I,H,ft){var wt=c.toString();c=this.g[wt],c||(c=this.g[wt]=[],this.h++);var jt=zt(c,S,H,ft);return-1<jt?(S=c[jt],I||(S.fa=!1)):(S=new vt(S,this.src,wt,!!H,ft),S.fa=I,c.push(S)),S};function Vt(c,S){var I=S.type;if(I in c.g){var H=c.g[I],ft=Array.prototype.indexOf.call(H,S,void 0),wt;(wt=0<=ft)&&Array.prototype.splice.call(H,ft,1),wt&&(kt(S),c.g[I].length==0&&(delete c.g[I],c.h--))}}function zt(c,S,I,H){for(var ft=0;ft<c.length;++ft){var wt=c[ft];if(!wt.da&&wt.listener==S&&wt.capture==!!I&&wt.ha==H)return ft}return-1}var re="closure_lm_"+(1e6*Math.random()|0),Et={};function it(c,S,I,H,ft){if(Array.isArray(S)){for(var wt=0;wt<S.length;wt++)it(c,S[wt],I,H,ft);return null}return I=ee(I),c&&c[pt]?c.K(S,I,h(H)?!!H.capture:!1,ft):fe(c,S,I,!1,H,ft)}function fe(c,S,I,H,ft,wt){if(!S)throw Error("Invalid event type");var jt=h(ft)?!!ft.capture:!!ft,me=Ut(c);if(me||(c[re]=me=new Lt(c)),I=me.add(S,I,H,jt,wt),I.proxy)return I;if(H=te(),I.proxy=H,H.src=c,H.listener=I,c.addEventListener)Z||(ft=jt),ft===void 0&&(ft=!1),c.addEventListener(S.toString(),H,ft);else if(c.attachEvent)c.attachEvent(At(S.toString()),H);else if(c.addListener&&c.removeListener)c.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return I}function te(){function c(I){return S.call(c.src,c.listener,I)}const S=Tt;return c}function Ft(c,S,I,H,ft){if(Array.isArray(S))for(var wt=0;wt<S.length;wt++)Ft(c,S[wt],I,H,ft);else H=h(H)?!!H.capture:!!H,I=ee(I),c&&c[pt]?(c=c.i,S=String(S).toString(),S in c.g&&(wt=c.g[S],I=zt(wt,I,H,ft),-1<I&&(kt(wt[I]),Array.prototype.splice.call(wt,I,1),wt.length==0&&(delete c.g[S],c.h--)))):c&&(c=Ut(c))&&(S=c.g[S.toString()],c=-1,S&&(c=zt(S,I,H,ft)),(I=-1<c?S[c]:null)&&Bt(I))}function Bt(c){if(typeof c!="number"&&c&&!c.da){var S=c.src;if(S&&S[pt])Vt(S.i,c);else{var I=c.type,H=c.proxy;S.removeEventListener?S.removeEventListener(I,H,c.capture):S.detachEvent?S.detachEvent(At(I),H):S.addListener&&S.removeListener&&S.removeListener(H),(I=Ut(S))?(Vt(I,c),I.h==0&&(I.src=null,S[re]=null)):kt(c)}}}function At(c){return c in Et?Et[c]:Et[c]="on"+c}function Tt(c,S){if(c.da)c=!0;else{S=new et(S,this);var I=c.listener,H=c.ha||c.src;c.fa&&Bt(c),c=I.call(H,S)}return c}function Ut(c){return c=c[re],c instanceof Lt?c:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ee(c){return typeof c=="function"?c:(c[Zt]||(c[Zt]=function(S){return c.handleEvent(S)}),c[Zt])}function Wt(){M.call(this),this.i=new Lt(this),this.M=this,this.F=null}T(Wt,M),Wt.prototype[pt]=!0,Wt.prototype.removeEventListener=function(c,S,I,H){Ft(this,c,S,I,H)};function ne(c,S){var I,H=c.F;if(H)for(I=[];H;H=H.F)I.push(H);if(c=c.M,H=S.type||S,typeof S=="string")S=new $(S,c);else if(S instanceof $)S.target=S.target||c;else{var ft=S;S=new $(H,c),O(S,ft)}if(ft=!0,I)for(var wt=I.length-1;0<=wt;wt--){var jt=S.g=I[wt];ft=xe(jt,H,!0,S)&&ft}if(jt=S.g=c,ft=xe(jt,H,!0,S)&&ft,ft=xe(jt,H,!1,S)&&ft,I)for(wt=0;wt<I.length;wt++)jt=S.g=I[wt],ft=xe(jt,H,!1,S)&&ft}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var c=this.i,S;for(S in c.g){for(var I=c.g[S],H=0;H<I.length;H++)kt(I[H]);delete c.g[S],c.h--}}this.F=null},Wt.prototype.K=function(c,S,I,H){return this.i.add(String(c),S,!1,I,H)},Wt.prototype.L=function(c,S,I,H){return this.i.add(String(c),S,!0,I,H)};function xe(c,S,I,H){if(S=c.i.g[String(S)],!S)return!0;S=S.concat();for(var ft=!0,wt=0;wt<S.length;++wt){var jt=S[wt];if(jt&&!jt.da&&jt.capture==I){var me=jt.listener,Re=jt.ha||jt.src;jt.fa&&Vt(c.i,jt),ft=me.call(Re,H)!==!1&&ft}}return ft&&!H.defaultPrevented}function ie(c,S,I){if(typeof c=="function")I&&(c=g(c,I));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:o.setTimeout(c,S||0)}function be(c){c.g=ie(()=>{c.g=null,c.i&&(c.i=!1,be(c))},c.l);const S=c.h;c.h=null,c.m.apply(null,S)}class Ht extends M{constructor(S,I){super(),this.m=S,this.l=I,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:be(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(c){M.call(this),this.h=c,this.g={}}T(rn,M);var de=[];function Dn(c){z(c.g,function(S,I){this.g.hasOwnProperty(I)&&Bt(S)},c),c.g={}}rn.prototype.N=function(){rn.aa.N.call(this),Dn(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ae=o.JSON.stringify,Ve=o.JSON.parse,Br=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Ce(){}Ce.prototype.h=null;function xa(c){return c.h||(c.h=c.i())}function cn(){}var pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){$.call(this,"d")}T(di,$);function an(){$.call(this,"c")}T(an,$);var se={},je=null;function Ii(){return je=je||new Wt}se.La="serverreachability";function Un(c){$.call(this,se.La,c)}T(Un,$);function Tr(c){const S=Ii();ne(S,new Un(S))}se.STAT_EVENT="statevent";function pi(c,S){$.call(this,se.STAT_EVENT,c),this.stat=S}T(pi,$);function Kt(c){const S=Ii();ne(S,new pi(S,c))}se.Ma="timingevent";function Zr(c,S){$.call(this,se.Ma,c),this.size=S}T(Zr,$);function xr(c,S){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},S)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function Pn(c,S,I,H,ft,wt){c.info(function(){if(c.g)if(wt)for(var jt="",me=wt.split("&"),Re=0;Re<me.length;Re++){var ge=me[Re].split("=");if(1<ge.length){var qe=ge[0];ge=ge[1];var Je=qe.split("_");jt=2<=Je.length&&Je[1]=="type"?jt+(qe+"="+ge+"&"):jt+(qe+"=redacted&")}}else jt=null;else jt=wt;return"XMLHTTP REQ ("+H+") [attempt "+ft+"]: "+S+`
`+I+`
`+jt})}function Tn(c,S,I,H,ft,wt,jt){c.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+ft+"]: "+S+`
`+I+`
`+wt+" "+jt})}function qn(c,S,I,H){c.info(function(){return"XMLHTTP TEXT ("+S+"): "+ra(c,I)+(H?" "+H:"")})}function Xs(c,S){c.info(function(){return"TIMEOUT: "+S})}zn.prototype.info=function(){};function ra(c,S){if(!c.g)return S;if(!S)return null;try{var I=JSON.parse(S);if(I){for(c=0;c<I.length;c++)if(Array.isArray(I[c])){var H=I[c];if(!(2>H.length)){var ft=H[1];if(Array.isArray(ft)&&!(1>ft.length)){var wt=ft[0];if(wt!="noop"&&wt!="stop"&&wt!="close")for(var jt=1;jt<ft.length;jt++)ft[jt]=""}}}}return Ae(I)}catch{return S}}var Nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ur;function zr(){}T(zr,Ce),zr.prototype.g=function(){return new XMLHttpRequest},zr.prototype.i=function(){return{}},Ur=new zr;function In(c,S,I,H){this.j=c,this.i=S,this.l=I,this.R=H||1,this.U=new rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mi}function mi(){this.i=null,this.g="",this.h=!1}var Na={},Ca={};function Ra(c,S,I){c.L=1,c.v=hs(qr(S)),c.m=I,c.P=!0,ss(c,null)}function ss(c,S){c.F=Date.now(),Zs(c),c.A=qr(c.v);var I=c.A,H=c.R;Array.isArray(H)||(H=[String(H)]),ce(I.i,"t",H),c.C=0,I=c.j.J,c.h=new mi,c.g=F(c.j,I?S:null,!c.m),0<c.O&&(c.M=new Ht(g(c.Y,c,c.g),c.O)),S=c.U,I=c.g,H=c.ca;var ft="readystatechange";Array.isArray(ft)||(ft&&(de[0]=ft.toString()),ft=de);for(var wt=0;wt<ft.length;wt++){var jt=it(I,ft[wt],H||S.handleEvent,!1,S.h||S);if(!jt)break;S.g[jt.key]=jt}S=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,S)):(c.u="GET",c.g.ea(c.A,c.u,null,S)),Tr(),Pn(c.i,c.u,c.A,c.l,c.R,c.m)}In.prototype.ca=function(c){c=c.target;const S=this.M;S&&Zn(c)==3?S.j():this.Y(c)},In.prototype.Y=function(c){try{if(c==this.g)t:{const Je=Zn(this.g);var S=this.g.Ba();const ha=this.g.Z();if(!(3>Je)&&(Je!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||Je!=4||S==7||(S==8||0>=ha?Tr(3):Tr(2)),La(this);var I=this.g.Z();this.X=I;e:if(os(this)){var H=Vu(this.g);c="";var ft=H.length,wt=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ia(this),Da(this);var jt="";break e}this.h.i=new o.TextDecoder}for(S=0;S<ft;S++)this.h.h=!0,c+=this.h.i.decode(H[S],{stream:!(wt&&S==ft-1)});H.length=0,this.h.g+=c,this.C=0,jt=this.h.g}else jt=this.g.oa();if(this.o=I==200,Tn(this.i,this.u,this.A,this.l,this.R,Je,I),this.o){if(this.T&&!this.K){e:{if(this.g){var me,Re=this.g;if((me=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(me)){var ge=me;break e}}ge=null}if(I=ge)qn(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ls(this,I);else{this.o=!1,this.s=3,Kt(12),ia(this),Da(this);break t}}if(this.P){I=!0;let gr;for(;!this.J&&this.C<jt.length;)if(gr=Lu(this,jt),gr==Ca){Je==4&&(this.s=4,Kt(14),I=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==Na){this.s=4,Kt(15),qn(this.i,this.l,jt,"[Invalid Chunk]"),I=!1;break}else qn(this.i,this.l,gr,null),ls(this,gr);if(os(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||jt.length!=0||this.h.h||(this.s=1,Kt(16),I=!1),this.o=this.o&&I,!I)qn(this.i,this.l,jt,"[Invalid Chunked Response]"),ia(this),Da(this);else if(0<jt.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+jt.length),fo(qe),qe.M=!0,Kt(11))}}else qn(this.i,this.l,jt,null),ls(this,jt);Je==4&&ia(this),this.o&&!this.J&&(Je==4?Ma(this.j,this):(this.o=!1,Zs(this)))}else Oa(this.g),I==400&&0<jt.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),ia(this),Da(this)}}}catch{}finally{}};function os(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Lu(c,S){var I=c.C,H=S.indexOf(`
`,I);return H==-1?Ca:(I=Number(S.substring(I,H)),isNaN(I)?Na:(H+=1,H+I>S.length?Ca:(S=S.slice(H,H+I),c.C=H+I,S)))}In.prototype.cancel=function(){this.J=!0,ia(this)};function Zs(c){c.S=Date.now()+c.I,Du(c,c.I)}function Du(c,S){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xr(g(c.ba,c),S)}function La(c){c.B&&(o.clearTimeout(c.B),c.B=null)}In.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Xs(this.i,this.A),this.L!=2&&(Tr(),Kt(17)),ia(this),this.s=2,Da(this)):Du(this,this.S-c)};function Da(c){c.j.G==0||c.J||Ma(c.j,c)}function ia(c){La(c);var S=c.M;S&&typeof S.ma=="function"&&S.ma(),c.M=null,Dn(c.U),c.g&&(S=c.g,c.g=null,S.abort(),S.ma())}function ls(c,S){try{var I=c.j;if(I.G!=0&&(I.g==c||Al(I.h,c))){if(!c.K&&Al(I.h,c)&&I.G==3){try{var H=I.Da.g.parse(S)}catch{H=null}if(Array.isArray(H)&&H.length==3){var ft=H;if(ft[0]==0){t:if(!I.u){if(I.g)if(I.g.F+3e3<c.F)ca(I),lo(I);else break t;gs(I),Kt(18)}}else I.za=ft[1],0<I.za-I.T&&37500>ft[2]&&I.F&&I.v==0&&!I.C&&(I.C=xr(g(I.Za,I),6e3));if(1>=us(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Cr(I,11)}else if((c.K||I.g==c)&&ca(I),!b(S))for(ft=I.Da.g.parse(S),S=0;S<ft.length;S++){let ge=ft[S];if(I.T=ge[0],ge=ge[1],I.G==2)if(ge[0]=="c"){I.K=ge[1],I.ia=ge[2];const qe=ge[3];qe!=null&&(I.la=qe,I.j.info("VER="+I.la));const Je=ge[4];Je!=null&&(I.Aa=Je,I.j.info("SVER="+I.Aa));const ha=ge[5];ha!=null&&typeof ha=="number"&&0<ha&&(H=1.5*ha,I.L=H,I.j.info("backChannelRequestTimeoutMs_="+H)),H=I;const gr=c.g;if(gr){const ja=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var wt=H.h;wt.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(wt.j=wt.l,wt.g=new Set,wt.h&&(hn(wt,wt.h),wt.h=null))}if(H.D){const Fa=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Fa&&(H.ya=Fa,Ge(H.I,H.D,Fa))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-c.F,I.j.info("Handshake RTT: "+I.R+"ms")),H=I;var jt=c;if(H.qa=v(H,H.J?H.ia:null,H.W),jt.K){Sl(H.h,jt);var me=jt,Re=H.L;Re&&(me.I=Re),me.B&&(La(me),Zs(me)),H.g=jt}else ho(H);0<I.i.length&&uo(I)}else ge[0]!="stop"&&ge[0]!="close"||Cr(I,7);else I.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Cr(I,7):ua(I):ge[0]!="noop"&&I.l&&I.l.ta(ge),I.v=0)}}Tr(4)}catch{}}var wh=class{constructor(c,S){this.g=c,this.map=S}};function wl(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pu(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function us(c){return c.h?1:c.g?c.g.size:0}function Al(c,S){return c.h?c.h==S:c.g?c.g.has(S):!1}function hn(c,S){c.g?c.g.add(S):c.h=S}function Sl(c,S){c.h&&c.h==S?c.h=null:c.g&&c.g.has(S)&&c.g.delete(S)}wl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function El(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let S=c.i;for(const I of c.g.values())S=S.concat(I.D);return S}return C(c.i)}function Iu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var S=[],I=c.length,H=0;H<I;H++)S.push(c[H]);return S}S=[],I=0;for(H in c)S[I++]=c[H];return S}function Tl(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var S=[];c=c.length;for(var I=0;I<c;I++)S.push(I);return S}S=[],I=0;for(const H in c)S[I++]=H;return S}}}function Ou(c,S){if(c.forEach&&typeof c.forEach=="function")c.forEach(S,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,S,void 0);else for(var I=Tl(c),H=Iu(c),ft=H.length,wt=0;wt<ft;wt++)S.call(void 0,H[wt],I&&I[wt],c)}var ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(c,S){if(c){c=c.split("&");for(var I=0;I<c.length;I++){var H=c[I].indexOf("="),ft=null;if(0<=H){var wt=c[I].substring(0,H);ft=c[I].substring(H+1)}else wt=c[I];S(wt,ft?decodeURIComponent(ft.replace(/\+/g," ")):"")}}}function xn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xn){this.h=c.h,cs(this,c.j),this.o=c.o,this.g=c.g,to(this,c.s),this.l=c.l;var S=c.i,I=new Pa;I.i=S.i,S.g&&(I.g=new Map(S.g),I.h=S.h),xl(this,I),this.m=c.m}else c&&(S=String(c).match(ti))?(this.h=!1,cs(this,S[1]||"",!0),this.o=fs(S[2]||""),this.g=fs(S[3]||"",!0),to(this,S[4]),this.l=fs(S[5]||"",!0),xl(this,S[6]||"",!0),this.m=fs(S[7]||"")):(this.h=!1,this.i=new Pa(null,this.h))}xn.prototype.toString=function(){var c=[],S=this.j;S&&c.push(aa(S,ku,!0),":");var I=this.g;return(I||S=="file")&&(c.push("//"),(S=this.o)&&c.push(aa(S,ku,!0),"@"),c.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&c.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&c.push("/"),c.push(aa(I,I.charAt(0)=="/"?sa:Sh,!0))),(I=this.i.toString())&&c.push("?",I),(I=this.m)&&c.push("#",aa(I,no)),c.join("")};function qr(c){return new xn(c)}function cs(c,S,I){c.j=I?fs(S,!0):S,c.j&&(c.j=c.j.replace(/:$/,""))}function to(c,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);c.s=S}else c.s=null}function xl(c,S,I){S instanceof Pa?(c.i=S,Eh(c.i,c.h)):(I||(S=aa(S,eo)),c.i=new Pa(S,c.h))}function Ge(c,S,I){c.i.set(S,I)}function hs(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fs(c,S){return c?S?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function aa(c,S,I){return typeof c=="string"?(c=encodeURI(c).replace(S,Ah),I&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ah(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ku=/[#\/\?@]/g,Sh=/[#\?:]/g,sa=/[#\?]/g,eo=/[#\?@]/g,no=/#/g;function Pa(c,S){this.h=this.g=null,this.i=c||null,this.j=!!S}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&Js(c.i,function(S,I){c.add(decodeURIComponent(S.replace(/\+/g," ")),I)}))}e=Pa.prototype,e.add=function(c,S){fn(this),this.i=null,c=Ia(this,c);var I=this.g.get(c);return I||this.g.set(c,I=[]),I.push(S),this.h+=1,this};function Mu(c,S){fn(c),S=Ia(c,S),c.g.has(S)&&(c.i=null,c.h-=c.g.get(S).length,c.g.delete(S))}function Nl(c,S){return fn(c),S=Ia(c,S),c.g.has(S)}e.forEach=function(c,S){fn(this),this.g.forEach(function(I,H){I.forEach(function(ft){c.call(S,ft,H,this)},this)},this)},e.na=function(){fn(this);const c=Array.from(this.g.values()),S=Array.from(this.g.keys()),I=[];for(let H=0;H<S.length;H++){const ft=c[H];for(let wt=0;wt<ft.length;wt++)I.push(S[H])}return I},e.V=function(c){fn(this);let S=[];if(typeof c=="string")Nl(this,c)&&(S=S.concat(this.g.get(Ia(this,c))));else{c=Array.from(this.g.values());for(let I=0;I<c.length;I++)S=S.concat(c[I])}return S},e.set=function(c,S){return fn(this),this.i=null,c=Ia(this,c),Nl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[S]),this.h+=1,this},e.get=function(c,S){return c?(c=this.V(c),0<c.length?String(c[0]):S):S};function ce(c,S,I){Mu(c,S),0<I.length&&(c.i=null,c.g.set(Ia(c,S),C(I)),c.h+=I.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],S=Array.from(this.g.keys());for(var I=0;I<S.length;I++){var H=S[I];const wt=encodeURIComponent(String(H)),jt=this.V(H);for(H=0;H<jt.length;H++){var ft=wt;jt[H]!==""&&(ft+="="+encodeURIComponent(String(jt[H]))),c.push(ft)}}return this.i=c.join("&")};function Ia(c,S){return S=String(S),c.j&&(S=S.toLowerCase()),S}function Eh(c,S){S&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(I,H){var ft=H.toLowerCase();H!=ft&&(Mu(this,H),ce(this,ft,I))},c)),c.j=S}function Oi(c,S){const I=new zn;if(o.Image){const H=new Image;H.onload=d(gi,I,"TestLoadImage: loaded",!0,S,H),H.onerror=d(gi,I,"TestLoadImage: error",!1,S,H),H.onabort=d(gi,I,"TestLoadImage: abort",!1,S,H),H.ontimeout=d(gi,I,"TestLoadImage: timeout",!1,S,H),o.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=c}else S(!1)}function ju(c,S){const I=new zn,H=new AbortController,ft=setTimeout(()=>{H.abort(),gi(I,"TestPingServer: timeout",!1,S)},1e4);fetch(c,{signal:H.signal}).then(wt=>{clearTimeout(ft),wt.ok?gi(I,"TestPingServer: ok",!0,S):gi(I,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ft),gi(I,"TestPingServer: error",!1,S)})}function gi(c,S,I,H,ft){try{ft&&(ft.onload=null,ft.onerror=null,ft.onabort=null,ft.ontimeout=null),H(I)}catch{}}function ro(){this.g=new Br}function Cl(c,S,I){const H=I||"";try{Ou(c,function(ft,wt){let jt=ft;h(ft)&&(jt=Ae(ft)),S.push(H+wt+"="+encodeURIComponent(jt))})}catch(ft){throw S.push(H+"type="+encodeURIComponent("_badmap")),ft}}function io(c){this.l=c.Ub||null,this.j=c.eb||!1}T(io,Ce),io.prototype.g=function(){return new ao(this.l,this.j)},io.prototype.i=function(c){return function(){return c}}({});function ao(c,S){Wt.call(this),this.D=c,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ao,Wt),e=ao.prototype,e.open=function(c,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=S,this.readyState=1,vi(this)},e.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(S.body=c),(this.D||o).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},e.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}e.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var S=c.value?c.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!c.done}))&&(this.response=this.responseText+=S)}c.done?oa(this):vi(this),this.readyState==3&&Fu(this)}},e.Ra=function(c){this.g&&(this.response=this.responseText=c,oa(this))},e.Qa=function(c){this.g&&(this.response=c,oa(this))},e.ga=function(){this.g&&oa(this)};function oa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,vi(c)}e.setRequestHeader=function(c,S){this.u.append(c,S)},e.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],S=this.h.entries();for(var I=S.next();!I.done;)I=I.value,c.push(I[0]+": "+I[1]),I=S.next();return c.join(`\r
`)};function vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ao.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function la(c){let S="";return z(c,function(I,H){S+=H,S+=":",S+=I,S+=`\r
`}),S}function Rl(c,S,I){t:{for(H in I){var H=!1;break t}H=!0}H||(I=la(I),typeof c=="string"?I!=null&&encodeURIComponent(String(I)):Ge(c,S,I))}function ze(c){Wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(ze,Wt);var Ll=/^https?$/i,so=["POST","PUT"];e=ze.prototype,e.Ha=function(c){this.J=c},e.ea=function(c,S,I,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);S=S?S.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ur.g(),this.v=this.o?xa(this.o):xa(Ur),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(S,String(c),!0),this.B=!1}catch(wt){Dl(this,wt);return}if(c=I||"",I=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var ft in H)I.set(ft,H[ft]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const wt of H.keys())I.set(wt,H.get(wt));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(I.keys()).find(wt=>wt.toLowerCase()=="content-type"),ft=o.FormData&&c instanceof o.FormData,!(0<=Array.prototype.indexOf.call(so,S,void 0))||H||ft||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[wt,jt]of I)this.g.setRequestHeader(wt,jt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yi(this),this.u=!0,this.g.send(c),this.u=!1}catch(wt){Dl(this,wt)}};function Dl(c,S){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=S,c.m=5,Pl(c),ds(c)}function Pl(c){c.A||(c.A=!0,ne(c,"complete"),ne(c,"error"))}e.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ne(this,"complete"),ne(this,"abort"),ds(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),ze.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Il(this):this.bb())},e.bb=function(){Il(this)};function Il(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)ie(c.Ea,0,c);else if(ne(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const jt=c.Z();t:switch(jt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break t;default:S=!1}var I;if(!(I=S)){var H;if(H=jt===0){var ft=String(c.D).match(ti)[1]||null;!ft&&o.self&&o.self.location&&(ft=o.self.location.protocol.slice(0,-1)),H=!Ll.test(ft?ft.toLowerCase():"")}I=H}if(I)ne(c,"complete"),ne(c,"success");else{c.m=6;try{var wt=2<Zn(c)?c.g.statusText:""}catch{wt=""}c.l=wt+" ["+c.Z()+"]",Pl(c)}}finally{ds(c)}}}}function ds(c,S){if(c.g){yi(c);const I=c.g,H=c.v[0]?()=>{}:null;c.g=null,c.v=null,S||ne(c,"ready");try{I.onreadystatechange=H}catch{}}}function yi(c){c.I&&(o.clearTimeout(c.I),c.I=null)}e.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}e.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(c){if(this.g){var S=this.g.responseText;return c&&S.indexOf(c)==0&&(S=S.substring(c.length)),Ve(S)}};function Vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Oa(c){const S={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<c.length;H++){if(b(c[H]))continue;var I=x(c[H]);const ft=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const wt=S[ft]||[];S[ft]=wt,wt.push(I)}N(S,function(H){return H.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mr(c,S,I){return I&&I.internalChannelParams&&I.internalChannelParams[c]||S}function oo(c){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mr("baseRetryDelayMs",5e3,c),this.cb=mr("retryDelaySeedMs",1e4,c),this.Wa=mr("forwardChannelMaxRetries",2,c),this.wa=mr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wl(c&&c.concurrentRequestLimit),this.Da=new ro,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=oo.prototype,e.la=8,e.G=1,e.connect=function(c,S,I,H){Kt(0),this.W=c,this.H=S||{},I&&H!==void 0&&(this.H.OSID=I,this.H.OAID=H),this.F=this.X,this.I=v(this,null,this.W),uo(this)};function ua(c){if(ps(c),c.G==3){var S=c.U++,I=qr(c.I);if(Ge(I,"SID",c.K),Ge(I,"RID",S),Ge(I,"TYPE","terminate"),ka(c,I),S=new In(c,c.j,S),S.L=2,S.v=hs(qr(I)),I=!1,o.navigator&&o.navigator.sendBeacon)try{I=o.navigator.sendBeacon(S.v.toString(),"")}catch{}!I&&o.Image&&(new Image().src=S.v,I=!0),I||(S.g=F(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Zs(S)}mo(c)}function lo(c){c.g&&(fo(c),c.g.cancel(),c.g=null)}function ps(c){lo(c),c.u&&(o.clearTimeout(c.u),c.u=null),ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&o.clearTimeout(c.s),c.s=null)}function uo(c){if(!Pu(c.h)&&!c.s){c.s=!0;var S=c.Ga;Q||at(),X||(Q(),X=!0),J.add(S,c),c.B=0}}function Ol(c,S){return us(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=S.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xr(g(c.Ga,c,S),po(c,c.B)),c.B++,!0)}e.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ft=new In(this,this.j,c);let wt=this.o;if(this.S&&(wt?(wt=E(wt),O(wt,this.S)):wt=this.S),this.m!==null||this.O||(ft.H=wt,wt=null),this.P)t:{for(var S=0,I=0;I<this.i.length;I++){e:{var H=this.i[I];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break e}H=void 0}if(H===void 0)break;if(S+=H,4096<S){S=I;break t}if(S===4096||I===this.i.length-1){S=I+1;break t}}S=1e3}else S=1e3;S=ms(this,ft,S),I=qr(this.I),Ge(I,"RID",c),Ge(I,"CVER",22),this.D&&Ge(I,"X-HTTP-Session-Id",this.D),ka(this,I),wt&&(this.O?S="headers="+encodeURIComponent(String(la(wt)))+"&"+S:this.m&&Rl(I,this.m,wt)),hn(this.h,ft),this.Ua&&Ge(I,"TYPE","init"),this.P?(Ge(I,"$req",S),Ge(I,"SID","null"),ft.T=!0,Ra(ft,I,null)):Ra(ft,I,S),this.G=2}}else this.G==3&&(c?co(this,c):this.i.length==0||Pu(this.h)||co(this))};function co(c,S){var I;S?I=S.l:I=c.U++;const H=qr(c.I);Ge(H,"SID",c.K),Ge(H,"RID",I),Ge(H,"AID",c.T),ka(c,H),c.m&&c.o&&Rl(H,c.m,c.o),I=new In(c,c.j,I,c.B+1),c.m===null&&(I.H=c.o),S&&(c.i=S.D.concat(c.i)),S=ms(c,I,1e3),I.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hn(c.h,I),Ra(I,H,S)}function ka(c,S){c.H&&z(c.H,function(I,H){Ge(S,H,I)}),c.l&&Ou({},function(I,H){Ge(S,H,I)})}function ms(c,S,I){I=Math.min(c.i.length,I);var H=c.l?g(c.l.Na,c.l,c):null;t:{var ft=c.i;let wt=-1;for(;;){const jt=["count="+I];wt==-1?0<I?(wt=ft[0].g,jt.push("ofs="+wt)):wt=0:jt.push("ofs="+wt);let me=!0;for(let Re=0;Re<I;Re++){let ge=ft[Re].g;const qe=ft[Re].map;if(ge-=wt,0>ge)wt=Math.max(0,ft[Re].g-100),me=!1;else try{Cl(qe,jt,"req"+ge+"_")}catch{H&&H(qe)}}if(me){H=jt.join("&");break t}}}return c=c.i.splice(0,I),S.D=c,H}function ho(c){if(!c.g&&!c.u){c.Y=1;var S=c.Fa;Q||at(),X||(Q(),X=!0),J.add(S,c),c.v=0}}function gs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xr(g(c.Fa,c),po(c,c.v)),c.v++,!0)}e.Fa=function(){if(this.u=null,Bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xr(g(this.ab,this),c)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),lo(this),Bu(this))};function fo(c){c.A!=null&&(o.clearTimeout(c.A),c.A=null)}function Bu(c){c.g=new In(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var S=qr(c.qa);Ge(S,"RID","rpc"),Ge(S,"SID",c.K),Ge(S,"AID",c.T),Ge(S,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(S,"TO",c.ja),Ge(S,"TYPE","xmlhttp"),ka(c,S),c.m&&c.o&&Rl(S,c.m,c.o),c.L&&(c.g.I=c.L);var I=c.g;c=c.ia,I.L=1,I.v=hs(qr(S)),I.m=null,I.P=!0,ss(I,c)}e.Za=function(){this.C!=null&&(this.C=null,lo(this),gs(this),Kt(19))};function ca(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function Ma(c,S){var I=null;if(c.g==S){ca(c),fo(c),c.g=null;var H=2}else if(Al(c.h,S))I=S.D,Sl(c.h,S),H=1;else return;if(c.G!=0){if(S.o)if(H==1){I=S.m?S.m.length:0,S=Date.now()-S.F;var ft=c.B;H=Ii(),ne(H,new Zr(H,I)),uo(c)}else ho(c);else if(ft=S.s,ft==3||ft==0&&0<S.X||!(H==1&&Ol(c,S)||H==2&&gs(c)))switch(I&&0<I.length&&(S=c.h,S.i=S.i.concat(I)),ft){case 1:Cr(c,5);break;case 4:Cr(c,10);break;case 3:Cr(c,6);break;default:Cr(c,2)}}}function po(c,S){let I=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(I*=2),I*S}function Cr(c,S){if(c.j.info("Error code "+S),S==2){var I=g(c.fb,c),H=c.Xa;const ft=!H;H=new xn(H||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||cs(H,"https"),hs(H),ft?Oi(H.toString(),I):ju(H.toString(),I)}else Kt(2);c.G=0,c.l&&c.l.sa(S),mo(c),ps(c)}e.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function mo(c){if(c.G=0,c.ka=[],c.l){const S=El(c.h);(S.length!=0||c.i.length!=0)&&(P(c.ka,S),P(c.ka,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.ra()}}function v(c,S,I){var H=I instanceof xn?qr(I):new xn(I);if(H.g!="")S&&(H.g=S+"."+H.g),to(H,H.s);else{var ft=o.location;H=ft.protocol,S=S?S+"."+ft.hostname:ft.hostname,ft=+ft.port;var wt=new xn(null);H&&cs(wt,H),S&&(wt.g=S),ft&&to(wt,ft),I&&(wt.l=I),H=wt}return I=c.D,S=c.ya,I&&S&&Ge(H,I,S),Ge(H,"VER",c.la),ka(c,H),H}function F(c,S,I){if(S&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=c.Ca&&!c.pa?new ze(new io({eb:I})):new ze(c.pa),S.Ha(c.J),S}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function nt(){}e=nt.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ot(){}ot.prototype.g=function(c,S){return new dt(c,S)};function dt(c,S){Wt.call(this),this.g=new oo(S),this.l=c,this.h=S&&S.messageUrlParams||null,c=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(c?c["X-WebChannel-Content-Type"]=S.messageContentType:c={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(c?c["X-WebChannel-Client-Profile"]=S.va:c={"X-WebChannel-Client-Profile":S.va}),this.g.S=c,(c=S&&S.Sb)&&!b(c)&&(this.g.m=c),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!b(S)&&(this.g.D=S,c=this.h,c!==null&&S in c&&(c=this.h,S in c&&delete c[S])),this.j=new $t(this)}T(dt,Wt),dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dt.prototype.close=function(){ua(this.g)},dt.prototype.o=function(c){var S=this.g;if(typeof c=="string"){var I={};I.__data__=c,c=I}else this.u&&(I={},I.__data__=Ae(c),c=I);S.i.push(new wh(S.Ya++,c)),S.G==3&&uo(S)},dt.prototype.N=function(){this.g.l=null,delete this.j,ua(this.g),delete this.g,dt.aa.N.call(this)};function xt(c){di.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var S=c.__sm__;if(S){t:{for(const I in S){c=I;break t}c=void 0}(this.i=c)&&(c=this.i,S=S!==null&&c in S?S[c]:void 0),this.data=S}else this.data=c}T(xt,di);function Mt(){an.call(this),this.status=1}T(Mt,an);function $t(c){this.g=c}T($t,nt),$t.prototype.ua=function(){ne(this.g,"a")},$t.prototype.ta=function(c){ne(this.g,new xt(c))},$t.prototype.sa=function(c){ne(this.g,new Mt)},$t.prototype.ra=function(){ne(this.g,"b")},ot.prototype.createWebChannel=ot.prototype.g,dt.prototype.send=dt.prototype.o,dt.prototype.open=dt.prototype.m,dt.prototype.close=dt.prototype.close,pS=function(){return new ot},dS=function(){return Ii()},fS=se,m2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,zp=Nr,Jr.COMPLETE="complete",hS=Jr,cn.EventType=pr,pr.OPEN="a",pr.CLOSE="b",pr.ERROR="c",pr.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,nf=cn,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,cS=ze}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",f_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new rS("@firebase/firestore");function cc(){return gu.logLevel}function Qt(e,...t){if(gu.logLevel<=ke.DEBUG){const n=t.map(av);gu.debug(`Firestore (${gh}): ${e}`,...n)}}function Gs(e,...t){if(gu.logLevel<=ke.ERROR){const n=t.map(av);gu.error(`Firestore (${gh}): ${e}`,...n)}}function Yc(e,...t){if(gu.logLevel<=ke.WARN){const n=t.map(av);gu.warn(`Firestore (${gh}): ${e}`,...n)}}function av(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e="Unexpected state"){const t=`FIRESTORE (${gh}) INTERNAL ASSERTION FAILED: `+e;throw Gs(t),new Error(t)}function $e(e,t){e||he()}function ye(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xt extends mh{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Or.UNAUTHENTICATED))}shutdown(){}}class LR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DR{constructor(t){this.t=t,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$e(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Bs,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bs)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new mS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $e(t===null||typeof t=="string"),new Or(t)}}class PR{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class IR{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new PR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OR{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pR(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){$e(this.o===void 0);const r=a=>{a.error!=null&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Qt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>r(a))};const i=a=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new d_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new d_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=kR(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=t.charAt(i[a]%62))}return r}}function Ie(e,t){return e<t?-1:e>t?1:0}function Qc(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=-62135596800,m_=1e6;class rr{static now(){return rr.fromMillis(Date.now())}static fromDate(t){return rr.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*m_);return new rr(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Xt(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xt(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<p_)throw new Xt(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xt(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m_}_compareTo(t){return this.seconds===t.seconds?Ie(this.nanoseconds,t.nanoseconds):Ie(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-p_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(t){return new pe(t)}static min(){return new pe(new rr(0,0))}static max(){return new pe(new rr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="__name__";class Ua{constructor(t,n,r){n===void 0?n=0:n>t.length&&he(),r===void 0?r=t.length-n:r>t.length-n&&he(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ua.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ua?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const a=Ua.compareSegments(t.get(i),n.get(i));if(a!==0)return a}return Math.sign(t.length-n.length)}static compareSegments(t,n){const r=Ua.isNumericId(t),i=Ua.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ua.extractNumericId(t).compare(Ua.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return el.fromString(t.substring(4,t.length-2))}}class pn extends Ua{construct(t,n,r){return new pn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Xt(It.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pn(n)}static emptyPath(){return new pn([])}}const MR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends Ua{construct(t,n,r){return new Ar(t,n,r)}static isValidIdentifier(t){return MR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g_}static keyField(){return new Ar([g_])}static fromServerFormat(t){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Xt(It.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new Xt(It.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Xt(It.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new Xt(It.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ar(n)}static emptyPath(){return new Ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t){this.path=t}static fromPath(t){return new ae(pn.fromString(t))}static fromName(t){return new ae(pn.fromString(t).popFirst(5))}static empty(){return new ae(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return pn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ae(new pn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=-1;function jR(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new rr(n+1,0):new rr(n,r));return new ul(i,ae.empty(),t)}function FR(e){return new ul(e.readTime,e.key,Zf)}class ul{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ul(pe.min(),ae.empty(),Zf)}static max(){return new ul(pe.max(),ae.empty(),Zf)}}function VR(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ae.comparator(e.documentKey,t.documentKey),n!==0?n:Ie(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(e){if(e.code!==It.FAILED_PRECONDITION||e.message!==BR)throw e;Qt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Dt((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Dt?n:Dt.resolve(n)}catch(n){return Dt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Dt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Dt.reject(n)}static resolve(t){return new Dt((n,r)=>{n(t)})}static reject(t){return new Dt((n,r)=>{r(t)})}static waitFor(t){return new Dt((n,r)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(t){let n=Dt.resolve(!1);for(const r of t)n=n.next(i=>i?Dt.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(t,n){return new Dt((r,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const h=l;n(t[h]).next(p=>{s[h]=p,++o,o===a&&r(s)},p=>i(p))}})}static doWhile(t,n){return new Dt((r,i)=>{const a=()=>{t()===!0?n().next(()=>{a()},i):r()};a()})}}function zR(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yh(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}dg.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=-1;function pg(e){return e==null}function Dm(e){return e===0&&1/e==-1/0}function qR(e){return typeof e=="number"&&Number.isInteger(e)&&!Dm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="";function HR(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=v_(t)),t=$R(e.get(n),t);return v_(t)}function $R(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const a=e.charAt(i);switch(a){case"\0":n+="";break;case vS:n+="";break;default:n+=a}}return n}function v_(e){return e+vS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t,n){this.comparator=t,this.root=n||_r.EMPTY}insert(t,n){return new En(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(t){return new En(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_r.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yp(this.root,t,this.comparator,!1)}getReverseIterator(){return new yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yp(this.root,t,this.comparator,!0)}}class yp{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class _r{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??_r.RED,this.left=i??_r.EMPTY,this.right=a??_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new _r(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const a=r(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return _r.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const t=this.left.check();if(t!==this.right.check())throw he();return t+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1;_r.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,n,r,i,a){return this}insert(t,n,r){return new _r(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t){this.comparator=t,this.data=new En(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new b_(this.data.getIterator())}getIteratorFrom(t){return new b_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ir)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ir(this.comparator);return n.data=t,n}}class b_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this.fields=t,t.sort(Ar.comparator)}static empty(){return new Ni([])}unionWith(t){let n=new ir(Ar.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ni(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Qc(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new bS("Invalid base64 string: "+a):a}}(t);return new Er(n)}static fromUint8Array(t){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new Er(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ie(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const GR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cl(e){if($e(!!e),typeof e=="string"){let t=0;const n=GR.exec(e);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:jn(e.seconds),nanos:jn(e.nanos)}}function jn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function hl(e){return typeof e=="string"?Er.fromBase64String(e):Er.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="server_timestamp",wS="__type__",AS="__previous_value__",SS="__local_write_time__";function ov(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[wS])===null||n===void 0?void 0:n.stringValue)===_S}function mg(e){const t=e.mapValue.fields[AS];return ov(t)?mg(t):t}function Jf(e){const t=cl(e.mapValue.fields[SS].timestampValue);return new rr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,n,r,i,a,s,o,l,h){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=h}}const Pm="(default)";class td{constructor(t,n){this.projectId=t,this.database=n||Pm}static empty(){return new td("","")}get isDefaultDatabase(){return this.database===Pm}isEqual(t){return t instanceof td&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="__type__",YR="__max__",bp={mapValue:{}},TS="__vector__",Im="value";function fl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ov(e)?4:KR(e)?9007199254740991:QR(e)?10:11:he()}function es(e,t){if(e===t)return!0;const n=fl(e);if(n!==fl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Jf(e).isEqual(Jf(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=cl(i.timestampValue),o=cl(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return hl(i.bytesValue).isEqual(hl(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return jn(i.geoPointValue.latitude)===jn(a.geoPointValue.latitude)&&jn(i.geoPointValue.longitude)===jn(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return jn(i.integerValue)===jn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=jn(i.doubleValue),o=jn(a.doubleValue);return s===o?Dm(s)===Dm(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Qc(e.arrayValue.values||[],t.arrayValue.values||[],es);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(y_(s)!==y_(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!es(s[l],o[l])))return!1;return!0}(e,t);default:return he()}}function ed(e,t){return(e.values||[]).find(n=>es(n,t))!==void 0}function Kc(e,t){if(e===t)return 0;const n=fl(e),r=fl(t);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=jn(a.integerValue||a.doubleValue),l=jn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return __(e.timestampValue,t.timestampValue);case 4:return __(Jf(e),Jf(t));case 5:return Ie(e.stringValue,t.stringValue);case 6:return function(a,s){const o=hl(a),l=hl(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let h=0;h<o.length&&h<l.length;h++){const p=Ie(o[h],l[h]);if(p!==0)return p}return Ie(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=Ie(jn(a.latitude),jn(s.latitude));return o!==0?o:Ie(jn(a.longitude),jn(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return w_(e.arrayValue,t.arrayValue);case 10:return function(a,s){var o,l,h,p;const m=a.fields||{},g=s.fields||{},d=(o=m[Im])===null||o===void 0?void 0:o.arrayValue,T=(l=g[Im])===null||l===void 0?void 0:l.arrayValue,C=Ie(((h=d==null?void 0:d.values)===null||h===void 0?void 0:h.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return C!==0?C:w_(d,T)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===bp.mapValue&&s===bp.mapValue)return 0;if(a===bp.mapValue)return 1;if(s===bp.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),h=s.fields||{},p=Object.keys(h);l.sort(),p.sort();for(let m=0;m<l.length&&m<p.length;++m){const g=Ie(l[m],p[m]);if(g!==0)return g;const d=Kc(o[l[m]],h[p[m]]);if(d!==0)return d}return Ie(l.length,p.length)}(e.mapValue,t.mapValue);default:throw he()}}function __(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ie(e,t);const n=cl(e),r=cl(t),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function w_(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Kc(n[i],r[i]);if(a)return a}return Ie(n.length,r.length)}function Xc(e){return g2(e)}function g2(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=cl(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return hl(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ae.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=g2(a);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${g2(n.fields[s])}`;return i+"}"}(e.mapValue):he()}function qp(e){switch(fl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mg(e);return t?16+qp(t):16;case 5:return 2*e.stringValue.length;case 6:return hl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+qp(a),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return bl(r.fields,(a,s)=>{i+=a.length+qp(s)}),i}(e.mapValue);default:throw he()}}function A_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function v2(e){return!!e&&"integerValue"in e}function lv(e){return!!e&&"arrayValue"in e}function S_(e){return!!e&&"nullValue"in e}function E_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hp(e){return!!e&&"mapValue"in e}function QR(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[ES])===null||n===void 0?void 0:n.stringValue)===TS}function Ef(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return bl(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ef(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ef(e.arrayValue.values[n]);return t}return Object.assign({},e)}function KR(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===YR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.value=t}static empty(){return new oi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Hp(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ef(n)}setAll(t){let n=Ar.emptyPath(),r={},i=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Ef(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(t){const n=this.field(t.popLast());Hp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return es(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Hp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){bl(n,(i,a)=>t[i]=a);for(const i of r)delete t[i]}clone(){return new oi(Ef(this.value))}}function xS(e){const t=[];return bl(e.fields,(n,r)=>{const i=new Ar([n]);if(Hp(r)){const a=xS(r.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new Ni(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n,r,i,a,s,o){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new kr(t,0,pe.min(),pe.min(),pe.min(),oi.empty(),0)}static newFoundDocument(t,n,r,i){return new kr(t,1,n,pe.min(),r,i,0)}static newNoDocument(t,n){return new kr(t,2,n,pe.min(),pe.min(),oi.empty(),0)}static newUnknownDocument(t,n){return new kr(t,3,n,pe.min(),pe.min(),oi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof kr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,n){this.position=t,this.inclusive=n}}function T_(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?r=ae.comparator(ae.fromName(s.referenceValue),n.key):r=Kc(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function x_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!es(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n="asc"){this.field=t,this.dir=n}}function XR(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{}class Kn extends NS{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new JR(t,n,r):n==="array-contains"?new nL(t,r):n==="in"?new rL(t,r):n==="not-in"?new iL(t,r):n==="array-contains-any"?new aL(t,r):new Kn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new tL(t,r):new eL(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Kc(n,this.value)):n!==null&&fl(this.value)===fl(n)&&this.matchesComparison(Kc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Aa extends NS{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Aa(t,n)}matches(t){return CS(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function CS(e){return e.op==="and"}function RS(e){return ZR(e)&&CS(e)}function ZR(e){for(const t of e.filters)if(t instanceof Aa)return!1;return!0}function y2(e){if(e instanceof Kn)return e.field.canonicalString()+e.op.toString()+Xc(e.value);if(RS(e))return e.filters.map(t=>y2(t)).join(",");{const t=e.filters.map(n=>y2(n)).join(",");return`${e.op}(${t})`}}function LS(e,t){return e instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.field.isEqual(i.field)&&es(r.value,i.value)}(e,t):e instanceof Aa?function(r,i){return i instanceof Aa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&LS(s,i.filters[o]),!0):!1}(e,t):void he()}function DS(e){return e instanceof Kn?function(n){return`${n.field.canonicalString()} ${n.op} ${Xc(n.value)}`}(e):e instanceof Aa?function(n){return n.op.toString()+" {"+n.getFilters().map(DS).join(" ,")+"}"}(e):"Filter"}class JR extends Kn{constructor(t,n,r){super(t,n,r),this.key=ae.fromName(r.referenceValue)}matches(t){const n=ae.comparator(t.key,this.key);return this.matchesComparison(n)}}class tL extends Kn{constructor(t,n){super(t,"in",n),this.keys=PS("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class eL extends Kn{constructor(t,n){super(t,"not-in",n),this.keys=PS("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function PS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class nL extends Kn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return lv(n)&&ed(n.arrayValue,this.value)}}class rL extends Kn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ed(this.value.arrayValue,n)}}class iL extends Kn{constructor(t,n){super(t,"not-in",n)}matches(t){if(ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ed(this.value.arrayValue,n)}}class aL extends Kn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ed(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(t,n=null,r=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.le=null}}function N_(e,t=null,n=[],r=[],i=null,a=null,s=null){return new sL(e,t,n,r,i,a,s)}function uv(e){const t=ye(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>y2(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),pg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Xc(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Xc(r)).join(",")),t.le=n}return t.le}function cv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!XR(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!LS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!x_(e.startAt,t.startAt)&&x_(e.endAt,t.endAt)}function b2(e){return ae.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function oL(e,t,n,r,i,a,s,o){return new Sd(e,t,n,r,i,a,s,o)}function gg(e){return new Sd(e)}function C_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function IS(e){return e.collectionGroup!==null}function Tf(e){const t=ye(e);if(t.he===null){t.he=[];const n=new Set;for(const a of t.explicitOrderBy)t.he.push(a),n.add(a.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new ir(Ar.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.he.push(new km(a,r))}),n.has(Ar.keyField().canonicalString())||t.he.push(new km(Ar.keyField(),r))}return t.he}function Qa(e){const t=ye(e);return t.Pe||(t.Pe=lL(t,Tf(e))),t.Pe}function lL(e,t){if(e.limitType==="F")return N_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new km(i.field,a)});const n=e.endAt?new Om(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Om(e.startAt.position,e.startAt.inclusive):null;return N_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function _2(e,t){const n=e.filters.concat([t]);return new Sd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function w2(e,t,n){return new Sd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vg(e,t){return cv(Qa(e),Qa(t))&&e.limitType===t.limitType}function OS(e){return`${uv(Qa(e))}|lt:${e.limitType}`}function hc(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DS(i)).join(", ")}]`),pg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xc(i)).join(",")),`Target(${r})`}(Qa(e))}; limitType=${e.limitType})`}function yg(e,t){return t.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ae.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(e,t)&&function(r,i){for(const a of Tf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,o,l){const h=T_(s,o,l);return s.inclusive?h<=0:h<0}(r.startAt,Tf(r),i)||r.endAt&&!function(s,o,l){const h=T_(s,o,l);return s.inclusive?h>=0:h>0}(r.endAt,Tf(r),i))}(e,t)}function uL(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function kS(e){return(t,n)=>{let r=!1;for(const i of Tf(e)){const a=cL(i,t,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function cL(e,t,n){const r=e.field.isKeyField()?ae.comparator(t.key,n.key):function(a,s,o){const l=s.data.field(a),h=o.data.field(a);return l!==null&&h!==null?Kc(l,h):he()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){bl(this.inner,(n,r)=>{for(const[i,a]of r)t(i,a)})}isEmpty(){return yS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new En(ae.comparator);function Ws(){return hL}const MS=new En(ae.comparator);function rf(...e){let t=MS;for(const n of e)t=t.insert(n.key,n);return t}function jS(e){let t=MS;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ql(){return xf()}function FS(){return xf()}function xf(){return new Tu(e=>e.toString(),(e,t)=>e.isEqual(t))}const fL=new En(ae.comparator),dL=new ir(ae.comparator);function De(...e){let t=dL;for(const n of e)t=t.add(n);return t}const pL=new ir(Ie);function mL(){return pL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dm(t)?"-0":t}}function VS(e){return{integerValue:""+e}}function gL(e,t){return qR(t)?VS(t):hv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this._=void 0}}function vL(e,t,n){return e instanceof Mm?function(i,a){const s={fields:{[wS]:{stringValue:_S},[SS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ov(a)&&(a=mg(a)),a&&(s.fields[AS]=a),{mapValue:s}}(n,t):e instanceof nd?US(e,t):e instanceof rd?zS(e,t):function(i,a){const s=BS(i,a),o=R_(s)+R_(i.Ie);return v2(s)&&v2(i.Ie)?VS(o):hv(i.serializer,o)}(e,t)}function yL(e,t,n){return e instanceof nd?US(e,t):e instanceof rd?zS(e,t):n}function BS(e,t){return e instanceof jm?function(r){return v2(r)||function(a){return!!a&&"doubleValue"in a}(r)}(t)?t:{integerValue:0}:null}class Mm extends bg{}class nd extends bg{constructor(t){super(),this.elements=t}}function US(e,t){const n=qS(t);for(const r of e.elements)n.some(i=>es(i,r))||n.push(r);return{arrayValue:{values:n}}}class rd extends bg{constructor(t){super(),this.elements=t}}function zS(e,t){let n=qS(t);for(const r of e.elements)n=n.filter(i=>!es(i,r));return{arrayValue:{values:n}}}class jm extends bg{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function R_(e){return jn(e.integerValue||e.doubleValue)}function qS(e){return lv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function bL(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof nd&&i instanceof nd||r instanceof rd&&i instanceof rd?Qc(r.elements,i.elements,es):r instanceof jm&&i instanceof jm?es(r.Ie,i.Ie):r instanceof Mm&&i instanceof Mm}(e.transform,t.transform)}class _L{constructor(t,n){this.version=t,this.transformResults=n}}class Ji{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ji}static exists(t){return new Ji(void 0,t)}static updateTime(t){return new Ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $p(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class _g{}function HS(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new fv(e.key,Ji.none()):new Ed(e.key,e.data,Ji.none());{const n=e.data,r=oi.empty();let i=new ir(Ar.comparator);for(let a of t.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new _l(e.key,r,new Ni(i.toArray()),Ji.none())}}function wL(e,t,n){e instanceof Ed?function(i,a,s){const o=i.value.clone(),l=D_(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof _l?function(i,a,s){if(!$p(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=D_(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll($S(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Nf(e,t,n,r){return e instanceof Ed?function(a,s,o,l){if(!$p(a.precondition,s))return o;const h=a.value.clone(),p=P_(a.fieldTransforms,l,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(e,t,n,r):e instanceof _l?function(a,s,o,l){if(!$p(a.precondition,s))return o;const h=P_(a.fieldTransforms,l,s),p=s.data;return p.setAll($S(a)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(e,t,n,r):function(a,s,o){return $p(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function AL(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),a=BS(r.transform,i||null);a!=null&&(n===null&&(n=oi.empty()),n.set(r.field,a))}return n||null}function L_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qc(r,i,(a,s)=>bL(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ed extends _g{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _l extends _g{constructor(t,n,r,i,a=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function $S(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function D_(e,t,n){const r=new Map;$e(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,yL(s,o,n[i]))}return r}function P_(e,t,n){const r=new Map;for(const i of e){const a=i.transform,s=n.data.field(i.field);r.set(i.field,vL(a,s,t))}return r}class fv extends _g{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SL extends _g{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&wL(a,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Nf(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Nf(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=FS();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=HS(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),De())}isEqual(t){return this.batchId===t.batchId&&Qc(this.mutations,t.mutations,(n,r)=>L_(n,r))&&Qc(this.baseMutations,t.baseMutations,(n,r)=>L_(n,r))}}class dv{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){$e(t.mutations.length===r.length);let i=function(){return fL}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new dv(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn,Oe;function NL(e){switch(e){case It.OK:return he();case It.CANCELLED:case It.UNKNOWN:case It.DEADLINE_EXCEEDED:case It.RESOURCE_EXHAUSTED:case It.INTERNAL:case It.UNAVAILABLE:case It.UNAUTHENTICATED:return!1;case It.INVALID_ARGUMENT:case It.NOT_FOUND:case It.ALREADY_EXISTS:case It.PERMISSION_DENIED:case It.FAILED_PRECONDITION:case It.ABORTED:case It.OUT_OF_RANGE:case It.UNIMPLEMENTED:case It.DATA_LOSS:return!0;default:return he()}}function GS(e){if(e===void 0)return Gs("GRPC error has no .code"),It.UNKNOWN;switch(e){case Gn.OK:return It.OK;case Gn.CANCELLED:return It.CANCELLED;case Gn.UNKNOWN:return It.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return It.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return It.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return It.INTERNAL;case Gn.UNAVAILABLE:return It.UNAVAILABLE;case Gn.UNAUTHENTICATED:return It.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return It.INVALID_ARGUMENT;case Gn.NOT_FOUND:return It.NOT_FOUND;case Gn.ALREADY_EXISTS:return It.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return It.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return It.FAILED_PRECONDITION;case Gn.ABORTED:return It.ABORTED;case Gn.OUT_OF_RANGE:return It.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return It.UNIMPLEMENTED;case Gn.DATA_LOSS:return It.DATA_LOSS;default:return he()}}(Oe=Gn||(Gn={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new el([4294967295,4294967295],0);function I_(e){const t=CL().encode(e),n=new uS;return n.update(t),new Uint8Array(n.digest())}function O_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new el([n,r],0),new el([i,a],0)]}class pv{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new af(`Invalid padding: ${n}`);if(r<0)throw new af(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new af(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new af(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=el.fromNumber(this.Ee)}Ae(t,n,r){let i=t.add(n.multiply(el.fromNumber(r)));return i.compare(RL)===1&&(i=new el([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=I_(t),[r,i]=O_(n);for(let a=0;a<this.hashCount;a++){const s=this.Ae(r,i,a);if(!this.Re(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new pv(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(t){if(this.Ee===0)return;const n=I_(t),[r,i]=O_(n);for(let a=0;a<this.hashCount;a++){const s=this.Ae(r,i,a);this.Ve(s)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class af extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,n,r,i,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Td.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new wg(pe.min(),i,new En(Ie),Ws(),De())}}class Td{constructor(t,n,r,i,a){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Td(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,n,r,i){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i}}class WS{constructor(t,n){this.targetId=t,this.ge=n}}class YS{constructor(t,n,r=Er.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class k_{constructor(){this.pe=0,this.ye=M_(),this.we=Er.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=De(),n=De(),r=De();return this.ye.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Td(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=M_()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class LL{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ws(),this.$e=_p(),this.Ke=_p(),this.Ue=new En(Ie)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:he()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(t){const n=t.targetId,r=t.ge.count,i=this.Xe(n);if(i){const a=i.target;if(b2(a))if(r===0){const s=new ae(a.path);this.ze(n,s,kr.newNoDocument(s,pe.min()))}else $e(r===1);else{const s=this.et(n);if(s!==r){const o=this.tt(t),l=o?this.nt(o,t,s):1;if(l!==0){this.Ye(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,h)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=hl(r).toUint8Array()}catch(l){if(l instanceof bS)return Yc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new pv(s,i,a)}catch(l){return Yc(l instanceof af?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ee===0?null:o}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.ke.it(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.ze(n,a,null),i++)}),i}ot(t){const n=new Map;this.qe.forEach((a,s)=>{const o=this.Xe(s);if(o){if(a.current&&b2(o.target)){const l=new ae(o.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,kr.newNoDocument(l,t))}a.ve&&(n.set(s,a.Fe()),a.Me())}});let r=De();this.Ke.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const h=this.Xe(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.Qe.forEach((a,s)=>s.setReadTime(t));const i=new wg(t,n,this.Ue,this.Qe,r);return this.Qe=Ws(),this.$e=_p(),this.Ke=_p(),this.Ue=new En(Ie),i}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const i=this.He(t);this.ut(t,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new k_,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new ir(Ie),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new ir(Ie),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||Qt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new k_),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function _p(){return new En(ae.comparator)}function M_(){return new En(ae.comparator)}const DL={asc:"ASCENDING",desc:"DESCENDING"},PL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IL={and:"AND",or:"OR"};class OL{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function A2(e,t){return e.useProto3Json||pg(t)?t:{value:t}}function Fm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function QS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function kL(e,t){return Fm(e,t.toTimestamp())}function Ka(e){return $e(!!e),pe.fromTimestamp(function(n){const r=cl(n);return new rr(r.seconds,r.nanos)}(e))}function mv(e,t){return S2(e,t).canonicalString()}function S2(e,t){const n=function(i){return new pn(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function KS(e){const t=pn.fromString(e);return $e(e6(t)),t}function E2(e,t){return mv(e.databaseId,t.path)}function K1(e,t){const n=KS(t);if(n.get(1)!==e.databaseId.projectId)throw new Xt(It.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Xt(It.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ae(ZS(n))}function XS(e,t){return mv(e.databaseId,t)}function ML(e){const t=KS(e);return t.length===4?pn.emptyPath():ZS(t)}function T2(e){return new pn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ZS(e){return $e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function j_(e,t,n){return{name:E2(e,t),fields:n.value.mapValue.fields}}function jL(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:he()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(h,p){return h.useProto3Json?($e(p===void 0||typeof p=="string"),Er.fromBase64String(p||"")):($e(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Er.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(h){const p=h.code===void 0?It.UNKNOWN:GS(h.code);return new Xt(p,h.message||"")}(s);n=new YS(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=K1(e,r.document.name),a=Ka(r.document.updateTime),s=r.document.createTime?Ka(r.document.createTime):pe.min(),o=new oi({mapValue:{fields:r.document.fields}}),l=kr.newFoundDocument(i,a,s,o),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Gp(h,p,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=K1(e,r.document),a=r.readTime?Ka(r.readTime):pe.min(),s=kr.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Gp([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=K1(e,r.document),a=r.removedTargetIds||[];n=new Gp([],a,i,null)}else{if(!("filter"in t))return he();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new xL(i,a),o=r.targetId;n=new WS(o,s)}}return n}function FL(e,t){let n;if(t instanceof Ed)n={update:j_(e,t.key,t.value)};else if(t instanceof fv)n={delete:E2(e,t.key)};else if(t instanceof _l)n={update:j_(e,t.key,t.data),updateMask:WL(t.fieldMask)};else{if(!(t instanceof SL))return he();n={verify:E2(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Mm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof nd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof rd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof jm)return{fieldPath:s.field.canonicalString(),increment:o.Ie};throw he()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:kL(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:he()}(e,t.precondition)),n}function VL(e,t){return e&&e.length>0?($e(t!==void 0),e.map(n=>function(i,a){let s=i.updateTime?Ka(i.updateTime):Ka(a);return s.isEqual(pe.min())&&(s=Ka(a)),new _L(s,i.transformResults||[])}(n,t))):[]}function BL(e,t){return{documents:[XS(e,t.path)]}}function UL(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XS(e,i);const a=function(h){if(h.length!==0)return t6(Aa.create(h,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(h){if(h.length!==0)return h.map(p=>function(g){return{field:fc(g.field),direction:HL(g.dir)}}(p))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=A2(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{ht:n,parent:i}}function zL(e){let t=ML(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:t=t.child(p.collectionId)}let a=[];n.where&&(a=function(m){const g=JS(m);return g instanceof Aa&&RS(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(g=>function(T){return new km(dc(T.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(n.orderBy));let o=null;n.limit&&(o=function(m){let g;return g=typeof m=="object"?m.value:m,pg(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(m){const g=!!m.before,d=m.values||[];return new Om(d,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,d=m.values||[];return new Om(d,g)}(n.endAt)),oL(t,i,s,a,o,"F",l,h)}function qL(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function JS(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=dc(n.unaryFilter.field);return Kn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=dc(n.unaryFilter.field);return Kn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=dc(n.unaryFilter.field);return Kn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=dc(n.unaryFilter.field);return Kn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(e):e.fieldFilter!==void 0?function(n){return Kn.create(dc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Aa.create(n.compositeFilter.filters.map(r=>JS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(e):he()}function HL(e){return DL[e]}function $L(e){return PL[e]}function GL(e){return IL[e]}function fc(e){return{fieldPath:e.canonicalString()}}function dc(e){return Ar.fromServerFormat(e.fieldPath)}function t6(e){return e instanceof Kn?function(n){if(n.op==="=="){if(E_(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NAN"}};if(S_(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E_(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NAN"}};if(S_(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(n.field),op:$L(n.op),value:n.value}}}(e):e instanceof Aa?function(n){const r=n.getFilters().map(i=>t6(i));return r.length===1?r[0]:{compositeFilter:{op:GL(n.op),filters:r}}}(e):he()}function WL(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function e6(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(t,n,r,i,a=pe.min(),s=pe.min(),o=Er.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new qo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t){this.Tt=t}}function QL(e){const t=zL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?w2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.Tn=new XL}addToCollectionParentIndex(t,n){return this.Tn.add(n),Dt.resolve()}getCollectionParents(t,n){return Dt.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return Dt.resolve()}deleteFieldIndex(t,n){return Dt.resolve()}deleteAllFieldIndexes(t){return Dt.resolve()}createTargetIndexes(t,n){return Dt.resolve()}getDocumentsMatchingTarget(t,n){return Dt.resolve(null)}getIndexType(t,n){return Dt.resolve(0)}getFieldIndexes(t,n){return Dt.resolve([])}getNextCollectionGroupToUpdate(t){return Dt.resolve(null)}getMinOffset(t,n){return Dt.resolve(ul.min())}getMinOffsetFromCollectionGroup(t,n){return Dt.resolve(ul.min())}updateCollectionGroup(t,n,r){return Dt.resolve()}updateIndexEntries(t,n){return Dt.resolve()}}class XL{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ir(pn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ir(pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n6=41943040;class si{static withCacheSize(t){return new si(t,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si.DEFAULT_COLLECTION_PERCENTILE=10,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,si.DEFAULT=new si(n6,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),si.DISABLED=new si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Zc(0)}static Un(){return new Zc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LruGarbageCollector",ZL=1048576;function B_([e,t],[n,r]){const i=Ie(e,n);return i===0?Ie(t,r):i}class JL{constructor(t){this.Hn=t,this.buffer=new ir(B_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();B_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tD{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){Qt(V_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yh(n)?Qt(V_,"Ignoring IndexedDB error during garbage collection: ",n):await vh(n)}await this.er(3e5)})}}class eD{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Dt.resolve(dg.ae);const r=new JL(n);return this.tr.forEachTarget(t,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(t,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),Dt.resolve(F_)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F_):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,i,a,s,o,l,h;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(t,i))).next(m=>(r=m,o=Date.now(),this.removeTargets(t,r,n))).next(m=>(a=m,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(m=>(h=Date.now(),cc()<=ke.DEBUG&&Qt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${m} documents in `+(h-l)+`ms
Total Duration: ${h-p}ms`),Dt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m})))}}function nD(e,t){return new eD(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.changes=new Tu(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,kr.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Dt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Nf(r.mutation,i,Ni.empty(),rr.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,De()).next(()=>r))}getLocalViewOfDocuments(t,n,r=De()){const i=Ql();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(a=>{let s=rf();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=Ql();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,De()))}populateOverlays(t,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,r,i){let a=Ws();const s=xf(),o=function(){return xf()}();return n.forEach((l,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof _l)?a=a.insert(h.key,h):p!==void 0?(s.set(h.key,p.mutation.getFieldMask()),Nf(p.mutation,h,p.mutation.getFieldMask(),rr.now())):s.set(h.key,Ni.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((h,p)=>s.set(h,p)),n.forEach((h,p)=>{var m;return o.set(h,new iD(p,(m=s.get(h))!==null&&m!==void 0?m:null))}),o))}recalculateAndSaveOverlays(t,n){const r=xf();let i=new En((s,o)=>s-o),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let p=r.get(l)||Ni.empty();p=o.applyToLocalView(h,p),r.set(l,p);const m=(i.get(o.batchId)||De()).add(l);i=i.insert(o.batchId,m)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),h=l.key,p=l.value,m=FS();p.forEach(g=>{if(!a.has(g)){const d=HS(n.get(g),r.get(g));d!==null&&m.set(g,d),a=a.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(t,h,m))}return Dt.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):IS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-a.size):Dt.resolve(Ql());let o=Zf,l=a;return s.next(h=>Dt.forEach(h,(p,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),a.get(p)?Dt.resolve():this.remoteDocumentCache.getEntry(t,p).next(g=>{l=l.insert(p,g)}))).next(()=>this.populateOverlays(t,h,a)).next(()=>this.computeViews(t,l,h,De())).next(p=>({batchId:o,changes:jS(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ae(n)).next(r=>{let i=rf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const a=n.collectionGroup;let s=rf();return this.indexManager.getCollectionParents(t,a).next(o=>Dt.forEach(o,l=>{const h=function(m,g){return new Sd(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,h,r,i).next(p=>{p.forEach((m,g)=>{s=s.insert(m,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,a,i))).next(s=>{a.forEach((l,h)=>{const p=h.getKey();s.get(p)===null&&(s=s.insert(p,kr.newInvalidDocument(p)))});let o=rf();return s.forEach((l,h)=>{const p=a.get(l);p!==void 0&&Nf(p.mutation,h,Ni.empty(),rr.now()),yg(n,h)&&(o=o.insert(l,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return Dt.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ka(i.createTime)}}(n)),Dt.resolve()}getNamedQuery(t,n){return Dt.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:QL(i.bundledQuery),readTime:Ka(i.readTime)}}(n)),Dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.overlays=new En(ae.comparator),this.Rr=new Map}getOverlay(t,n){return Dt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ql();return Dt.forEach(n,i=>this.getOverlay(t,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,a)=>{this.Et(t,n,a)}),Dt.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),Dt.resolve()}getOverlaysForCollection(t,n,r){const i=Ql(),a=n.length+1,s=new ae(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Dt.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let a=new En((h,p)=>h-p);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=Ql(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const o=Ql(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,p)=>o.set(h,p)),!(o.size()>=i)););return Dt.resolve(o)}Et(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new TL(n,r));let a=this.Rr.get(n);a===void 0&&(a=De(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.sessionToken=Er.EMPTY_BYTE_STRING}getSessionToken(t){return Dt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.Vr=new ir(lr.mr),this.gr=new ir(lr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new lr(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new lr(t,n))}Sr(t,n){t.forEach(r=>this.removeReference(r,n))}br(t){const n=new ae(new pn([])),r=new lr(n,t),i=new lr(n,t+1),a=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),a.push(s.key)}),a}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new ae(new pn([])),r=new lr(n,t),i=new lr(n,t+1);let a=De();return this.gr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(t){const n=new lr(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class lr{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return ae.comparator(t.key,n.key)||Ie(t.Cr,n.Cr)}static pr(t,n){return Ie(t.Cr,n.Cr)||ae.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new ir(lr.mr)}checkEmpty(t){return Dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new EL(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Mr=this.Mr.add(new lr(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Dt.resolve(s)}lookupMutationBatch(t,n){return Dt.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Nr(r),a=i<0?0:i;return Dt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Dt.resolve(this.mutationQueue.length===0?sv:this.Fr-1)}getAllMutationBatches(t){return Dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new lr(n,0),i=new lr(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],s=>{const o=this.Or(s.Cr);a.push(o)}),Dt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ir(Ie);return n.forEach(i=>{const a=new lr(i,0),s=new lr(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,s],o=>{r=r.add(o.Cr)})}),Dt.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let a=r;ae.isDocumentKey(a)||(a=a.child(""));const s=new lr(new ae(a),0);let o=new ir(Ie);return this.Mr.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(o=o.add(l.Cr)),!0)},s),Dt.resolve(this.Br(o))}Br(t){const n=[];return t.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){$e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Dt.forEach(n.mutations,i=>{const a=new lr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new lr(n,0),i=this.Mr.firstAfterOrEqual(r);return Dt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Dt.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t){this.kr=t,this.docs=function(){return new En(ae.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Dt.resolve(r?r.document.mutableCopy():kr.newInvalidDocument(n))}getEntries(t,n){let r=Ws();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():kr.newInvalidDocument(i))}),Dt.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let a=Ws();const s=n.path,o=new ae(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:h,value:{document:p}}=l.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||VR(FR(p),r)<=0||(i.has(p.key)||yg(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Dt.resolve(a)}getAllFromCollectionGroup(t,n,r,i){he()}qr(t,n){return Dt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new hD(this)}getSize(t){return Dt.resolve(this.size)}}class hD extends rD{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(t,i)):this.Ir.removeEntry(r)}),Dt.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t){this.persistence=t,this.Qr=new Tu(n=>uv(n),cv),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new gv,this.targetCount=0,this.Ur=Zc.Kn()}forEachTarget(t,n){return this.Qr.forEach((r,i)=>n(i)),Dt.resolve()}getLastRemoteSnapshotVersion(t){return Dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Dt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),Dt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Dt.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new Zc(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,Dt.resolve()}updateTargetData(t,n){return this.zn(n),Dt.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,Dt.resolve()}removeTargets(t,n,r){let i=0;const a=[];return this.Qr.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Qr.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),Dt.waitFor(a).next(()=>i)}getTargetCount(t){return Dt.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return Dt.resolve(r)}addMatchingKeys(t,n,r){return this.Kr.yr(n,r),Dt.resolve()}removeMatchingKeys(t,n,r){this.Kr.Sr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),Dt.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.Kr.br(n),Dt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Kr.vr(n);return Dt.resolve(r)}containsKey(t,n){return Dt.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new dg(0),this.zr=!1,this.zr=!0,this.jr=new lD,this.referenceDelegate=t(this),this.Hr=new fD(this),this.indexManager=new KL,this.remoteDocumentCache=function(i){return new cD(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new YL(n),this.Yr=new sD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new oD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new uD(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){Qt("MemoryPersistence","Starting transaction:",t);const i=new dD(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(t,n){return Dt.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class dD extends UR{constructor(t){super(),this.currentSequenceNumber=t}}class vv{constructor(t){this.persistence=t,this.ti=new gv,this.ni=null}static ri(t){return new vv(t)}get ii(){if(this.ni)return this.ni;throw he()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Dt.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Dt.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),Dt.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dt.forEach(this.ii,r=>{const i=ae.fromPath(r);return this.si(t,i).next(a=>{a||n.removeEntry(i,pe.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return Dt.or([()=>Dt.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Vm{constructor(t,n){this.persistence=t,this.oi=new Tu(r=>HR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=nD(this,n)}static ri(t,n){return new Vm(t,n)}Zr(){}Xr(t){return Dt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return Dt.forEach(this.oi,(r,i)=>this.ar(t,r,i).next(a=>a?Dt.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(t,s=>this.ar(t,s,n).next(o=>{o||(r++,a.removeEntry(s,pe.min()))})).next(()=>a.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),Dt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),Dt.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),Dt.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),Dt.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=qp(t.data.value)),n}ar(t,n,r){return Dt.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.oi.get(n);return Dt.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(t,n){let r=De(),i=De();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yv(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return h7()?8:zR(u7())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,i){const a={result:null};return this.rs(t,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ss(t,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new pD;return this._s(t,n,s).next(o=>{if(a.result=o,this.Xi)return this.us(t,n,s,o.size)})}).next(()=>a.result)}us(t,n,r,i){return r.documentReadCount<this.es?(cc()<=ke.DEBUG&&Qt("QueryEngine","SDK will not create cache indexes for query:",hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Dt.resolve()):(cc()<=ke.DEBUG&&Qt("QueryEngine","Query:",hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(cc()<=ke.DEBUG&&Qt("QueryEngine","The SDK decides to create cache indexes for query:",hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qa(n))):Dt.resolve())}rs(t,n){if(C_(n))return Dt.resolve(null);let r=Qa(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=w2(n,null,"F"),r=Qa(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(a=>{const s=De(...a);return this.ns.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,r).next(l=>{const h=this.cs(n,o);return this.ls(n,h,s,l.readTime)?this.rs(t,w2(n,null,"F")):this.hs(t,h,n,l)}))})))}ss(t,n,r,i){return C_(n)||i.isEqual(pe.min())?Dt.resolve(null):this.ns.getDocuments(t,r).next(a=>{const s=this.cs(n,a);return this.ls(n,s,r,i)?Dt.resolve(null):(cc()<=ke.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hc(n)),this.hs(t,s,n,jR(i,Zf)).next(o=>o))})}cs(t,n){let r=new ir(kS(t));return n.forEach((i,a)=>{yg(t,a)&&(r=r.add(a))}),r}ls(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(t,n,r){return cc()<=ke.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",hc(n)),this.ns.getDocumentsMatchingQuery(t,n,ul.min(),r)}hs(t,n,r,i){return this.ns.getDocumentsMatchingQuery(t,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="LocalStore",gD=3e8;class vD{constructor(t,n,r,i){this.persistence=t,this.Ps=n,this.serializer=i,this.Ts=new En(Ie),this.Is=new Tu(a=>uv(a),cv),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new aD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function yD(e,t,n,r){return new vD(e,t,n,r)}async function i6(e,t){const n=ye(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=De();for(const h of i){s.push(h.batchId);for(const p of h.mutations)l=l.add(p.key)}for(const h of a){o.push(h.batchId);for(const p of h.mutations)l=l.add(p.key)}return n.localDocuments.getDocuments(r,l).next(h=>({Rs:h,removedBatchIds:s,addedBatchIds:o}))})})}function bD(e,t){const n=ye(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(o,l,h,p){const m=h.batch,g=m.keys();let d=Dt.resolve();return g.forEach(T=>{d=d.next(()=>p.getEntry(l,T)).next(C=>{const P=h.docVersions.get(T);$e(P!==null),C.version.compareTo(P)<0&&(m.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),p.addEntry(C)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,m))}(n,r,t,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=De();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(l=l.add(o.batch.mutations[h].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function a6(e){const t=ye(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function _D(e,t){const n=ye(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const o=[];t.targetChanges.forEach((p,m)=>{const g=i.get(m);if(!g)return;o.push(n.Hr.removeMatchingKeys(a,p.removedDocuments,m).next(()=>n.Hr.addMatchingKeys(a,p.addedDocuments,m)));let d=g.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(m)!==null?d=d.withResumeToken(Er.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):p.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(p.resumeToken,r)),i=i.insert(m,d),function(C,P,y){return C.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=gD?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(g,d,p)&&o.push(n.Hr.updateTargetData(a,d))});let l=Ws(),h=De();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))}),o.push(wD(a,s,t.documentUpdates).next(p=>{l=p.Vs,h=p.fs})),!r.isEqual(pe.min())){const p=n.Hr.getLastRemoteSnapshotVersion(a).next(m=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(p)}return Dt.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,h)).next(()=>l)}).then(a=>(n.Ts=i,a))}function wD(e,t,n){let r=De(),i=De();return n.forEach(a=>r=r.add(a)),t.getEntries(e,r).next(a=>{let s=Ws();return n.forEach((o,l)=>{const h=a.get(o);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(pe.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Qt(bv,"Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function AD(e,t){const n=ye(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=sv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function SD(e,t){const n=ye(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,t).next(a=>a?(i=a,Dt.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new qo(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function x2(e,t,n){const r=ye(e),i=r.Ts.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!yh(s))throw s;Qt(bv,`Failed to update sequence numbers for target ${t}: ${s}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function U_(e,t,n){const r=ye(e);let i=pe.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,h,p){const m=ye(l),g=m.Is.get(p);return g!==void 0?Dt.resolve(m.Ts.get(g)):m.Hr.getTargetData(h,p)}(r,s,Qa(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,t,n?i:pe.min(),n?a:De())).next(o=>(ED(r,uL(t),o),{documents:o,gs:a})))}function ED(e,t,n){let r=e.Es.get(t)||pe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),e.Es.set(t,r)}class z_{constructor(){this.activeTargetIds=mL()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TD{constructor(){this.ho=new z_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new z_,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="ConnectivityMonitor";class H_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Qt(q_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){Qt(q_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp=null;function N2(){return wp===null?wp=function(){return 268435456+Math.round(2147483648*Math.random())}():wp++,"0x"+wp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="RestConnection",ND={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CD{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Pm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(t,n,r,i,a){const s=N2(),o=this.bo(t,n.toUriEncodedString());Qt(X1,`Sending RPC '${t}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,a),this.vo(t,o,l,r).then(h=>(Qt(X1,`Received RPC '${t}' ${s}: `,h),h),h=>{throw Yc(X1,`RPC '${t}' ${s} failed with error: `,h,"url: ",o,"request:",r),h})}Co(t,n,r,i,a,s){return this.So(t,n,r,i,a)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gh}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>t[a]=i),r&&r.headers.forEach((i,a)=>t[a]=i)}bo(t,n){const r=ND[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="WebChannelConnection";class LD extends CD{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,i){const a=N2();return new Promise((s,o)=>{const l=new cS;l.setWithCredentials(!0),l.listenOnce(hS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zp.NO_ERROR:const p=l.getResponseJson();Qt(Rr,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),s(p);break;case zp.TIMEOUT:Qt(Rr,`RPC '${t}' ${a} timed out`),o(new Xt(It.DEADLINE_EXCEEDED,"Request time out"));break;case zp.HTTP_ERROR:const m=l.getStatus();if(Qt(Rr,`RPC '${t}' ${a} failed with status:`,m,"response text:",l.getResponseText()),m>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const d=g==null?void 0:g.error;if(d&&d.status&&d.message){const T=function(P){const y=P.toLowerCase().replace(/_/g,"-");return Object.values(It).indexOf(y)>=0?y:It.UNKNOWN}(d.status);o(new Xt(T,d.message))}else o(new Xt(It.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Xt(It.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{Qt(Rr,`RPC '${t}' ${a} completed.`)}});const h=JSON.stringify(i);Qt(Rr,`RPC '${t}' ${a} sending request:`,i),l.send(n,"POST",h,r,15)})}Wo(t,n,r){const i=N2(),a=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=pS(),o=dS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const p=a.join("");Qt(Rr,`Creating RPC '${t}' stream ${i}: ${p}`,l);const m=s.createWebChannel(p,l);let g=!1,d=!1;const T=new RD({Fo:P=>{d?Qt(Rr,`Not sending because RPC '${t}' stream ${i} is closed:`,P):(g||(Qt(Rr,`Opening RPC '${t}' stream ${i} transport.`),m.open(),g=!0),Qt(Rr,`RPC '${t}' stream ${i} sending:`,P),m.send(P))},Mo:()=>m.close()}),C=(P,y,b)=>{P.listen(y,w=>{try{b(w)}catch(k){setTimeout(()=>{throw k},0)}})};return C(m,nf.EventType.OPEN,()=>{d||(Qt(Rr,`RPC '${t}' stream ${i} transport opened.`),T.Qo())}),C(m,nf.EventType.CLOSE,()=>{d||(d=!0,Qt(Rr,`RPC '${t}' stream ${i} transport closed`),T.Ko())}),C(m,nf.EventType.ERROR,P=>{d||(d=!0,Yc(Rr,`RPC '${t}' stream ${i} transport errored:`,P),T.Ko(new Xt(It.UNAVAILABLE,"The operation could not be completed")))}),C(m,nf.EventType.MESSAGE,P=>{var y;if(!d){const b=P.data[0];$e(!!b);const w=b,k=(w==null?void 0:w.error)||((y=w[0])===null||y===void 0?void 0:y.error);if(k){Qt(Rr,`RPC '${t}' stream ${i} received error:`,k);const j=k.status;let z=function(R){const O=Gn[R];if(O!==void 0)return GS(O)}(j),N=k.message;z===void 0&&(z=It.INTERNAL,N="Unknown error status: "+j+" with message "+k.message),d=!0,T.Ko(new Xt(z,N)),m.close()}else Qt(Rr,`RPC '${t}' stream ${i} received:`,b),T.Uo(b)}}),C(o,fS.STAT_EVENT,P=>{P.stat===m2.PROXY?Qt(Rr,`RPC '${t}' stream ${i} detected buffering proxy`):P.stat===m2.NOPROXY&&Qt(Rr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function Z1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(e){return new OL(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(t,n,r=1e3,i=1.5,a=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Qt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="PersistentStream";class o6{constructor(t,n,r,i,a,s,o,l){this.Ti=t,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new s6(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===It.RESOURCE_EXHAUSTED?(Gs(n.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===It.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{t(()=>{const i=new Xt(It.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return Qt($_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(Qt($_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DD extends o6{constructor(t,n,r,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=jL(this.serializer,t),r=function(a){if(!("targetChange"in a))return pe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?Ka(s.readTime):pe.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=T2(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=b2(l)?{documents:BL(a,l)}:{query:UL(a,l).ht},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=QS(a,s.resumeToken);const h=A2(a,s.expectedCount);h!==null&&(o.expectedCount=h)}else if(s.snapshotVersion.compareTo(pe.min())>0){o.readTime=Fm(a,s.snapshotVersion.toTimestamp());const h=A2(a,s.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,t);const r=qL(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=T2(this.serializer),n.removeTarget=t,this.I_(n)}}class PD extends o6{constructor(t,n,r,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return $e(!!t.streamToken),this.lastStreamToken=t.streamToken,$e(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){$e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=VL(t.writeResults,t.commitTime),r=Ka(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=T2(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>FL(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{}class OD extends ID{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Xt(It.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.So(t,S2(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Xt(It.UNKNOWN,a.toString())})}Co(t,n,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,S2(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xt(It.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class kD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gs(n),this.N_=!1):Qt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="RemoteStore";class MD{constructor(t,n,r,i,a){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(s=>{r.enqueueAndForget(async()=>{xu(this)&&(Qt(vu,"Restarting streams for network reachability change."),await async function(l){const h=ye(l);h.W_.add(4),await xd(h),h.j_.set("Unknown"),h.W_.delete(4),await Sg(h)}(this))})}),this.j_=new kD(r,i)}}async function Sg(e){if(xu(e))for(const t of e.G_)await t(!0)}async function xd(e){for(const t of e.G_)await t(!1)}function l6(e,t){const n=ye(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Sv(n)?Av(n):bh(n).c_()&&wv(n,t))}function _v(e,t){const n=ye(e),r=bh(n);n.U_.delete(t),r.c_()&&u6(n,t),n.U_.size===0&&(r.c_()?r.P_():xu(n)&&n.j_.set("Unknown"))}function wv(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pe.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}bh(e).y_(t)}function u6(e,t){e.H_.Ne(t),bh(e).w_(t)}function Av(e){e.H_=new LL({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),bh(e).start(),e.j_.B_()}function Sv(e){return xu(e)&&!bh(e).u_()&&e.U_.size>0}function xu(e){return ye(e).W_.size===0}function c6(e){e.H_=void 0}async function jD(e){e.j_.set("Online")}async function FD(e){e.U_.forEach((t,n)=>{wv(e,t)})}async function VD(e,t){c6(e),Sv(e)?(e.j_.q_(t),Av(e)):e.j_.set("Unknown")}async function BD(e,t,n){if(e.j_.set("Online"),t instanceof YS&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.U_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.U_.delete(o),i.H_.removeTarget(o))}(e,t)}catch(r){Qt(vu,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Bm(e,r)}else if(t instanceof Gp?e.H_.We(t):t instanceof WS?e.H_.Ze(t):e.H_.je(t),!n.isEqual(pe.min()))try{const r=await a6(e.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.H_.ot(s);return o.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const p=a.U_.get(h);p&&a.U_.set(h,p.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,h)=>{const p=a.U_.get(l);if(!p)return;a.U_.set(l,p.withResumeToken(Er.EMPTY_BYTE_STRING,p.snapshotVersion)),u6(a,l);const m=new qo(p.target,l,h,p.sequenceNumber);wv(a,m)}),a.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){Qt(vu,"Failed to raise snapshot:",r),await Bm(e,r)}}async function Bm(e,t,n){if(!yh(t))throw t;e.W_.add(1),await xd(e),e.j_.set("Offline"),n||(n=()=>a6(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Qt(vu,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Sg(e)})}function h6(e,t){return t().catch(n=>Bm(e,n,t))}async function Eg(e){const t=ye(e),n=dl(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:sv;for(;UD(t);)try{const i=await AD(t.localStore,r);if(i===null){t.K_.length===0&&n.P_();break}r=i.batchId,zD(t,i)}catch(i){await Bm(t,i)}f6(t)&&d6(t)}function UD(e){return xu(e)&&e.K_.length<10}function zD(e,t){e.K_.push(t);const n=dl(e);n.c_()&&n.S_&&n.b_(t.mutations)}function f6(e){return xu(e)&&!dl(e).u_()&&e.K_.length>0}function d6(e){dl(e).start()}async function qD(e){dl(e).C_()}async function HD(e){const t=dl(e);for(const n of e.K_)t.b_(n.mutations)}async function $D(e,t,n){const r=e.K_.shift(),i=dv.from(r,t,n);await h6(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Eg(e)}async function GD(e,t){t&&dl(e).S_&&await async function(r,i){if(function(s){return NL(s)&&s!==It.ABORTED}(i.code)){const a=r.K_.shift();dl(r).h_(),await h6(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Eg(r)}}(e,t),f6(e)&&d6(e)}async function G_(e,t){const n=ye(e);n.asyncQueue.verifyOperationInProgress(),Qt(vu,"RemoteStore received new credentials");const r=xu(n);n.W_.add(3),await xd(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Sg(n)}async function WD(e,t){const n=ye(e);t?(n.W_.delete(2),await Sg(n)):t||(n.W_.add(2),await xd(n),n.j_.set("Unknown"))}function bh(e){return e.J_||(e.J_=function(n,r,i){const a=ye(n);return a.M_(),new DD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{xo:jD.bind(null,e),No:FD.bind(null,e),Lo:VD.bind(null,e),p_:BD.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),Sv(e)?Av(e):e.j_.set("Unknown")):(await e.J_.stop(),c6(e))})),e.J_}function dl(e){return e.Y_||(e.Y_=function(n,r,i){const a=ye(n);return a.M_(),new PD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:qD.bind(null,e),Lo:GD.bind(null,e),D_:HD.bind(null,e),v_:$D.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await Eg(e)):(await e.Y_.stop(),e.K_.length>0&&(Qt(vu,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(t,n,r,i,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){const s=Date.now()+r,o=new Ev(t,n,s,i,a);return o.start(r),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xt(It.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tv(e,t){if(Gs("AsyncQueue",`${t}: ${e}`),yh(e))return new Xt(It.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{static emptySet(t){return new jc(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=rf(),this.sortedSet=new En(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof jc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new jc;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.Z_=new En(ae.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):he():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Jc{constructor(t,n,r,i,a,s,o,l,h){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(t,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Jc(t,n,jc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class QD{constructor(){this.queries=Y_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=ye(n),a=i.queries;i.queries=Y_(),a.forEach((s,o)=>{for(const l of o.ta)l.onError(r)})})(this,new Xt(It.ABORTED,"Firestore shutting down"))}}function Y_(){return new Tu(e=>OS(e),vg)}async function xv(e,t){const n=ye(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.na()&&t.ra()&&(r=2):(a=new YD,r=t.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=Tv(s,`Initialization of query '${hc(t.query)}' failed`);return void t.onError(o)}n.queries.set(i,a),a.ta.push(t),t.sa(n.onlineState),a.ea&&t.oa(a.ea)&&Cv(n)}async function Nv(e,t){const n=ye(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ta.indexOf(t);s>=0&&(a.ta.splice(s,1),a.ta.length===0?i=t.ra()?0:1:!a.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KD(e,t){const n=ye(e);let r=!1;for(const i of t){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ta)o.oa(i)&&(r=!0);s.ea=i}}r&&Cv(n)}function XD(e,t,n){const r=ye(e),i=r.queries.get(t);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(t)}function Cv(e){e.ia.forEach(t=>{t.next()})}var C2,Q_;(Q_=C2||(C2={}))._a="default",Q_.Cache="cache";class Rv{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Jc(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Jc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==C2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(t){this.key=t}}class m6{constructor(t){this.key=t}}class ZD{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=De(),this.mutatedKeys=De(),this.ya=kS(t),this.wa=new jc(this.ya)}get Sa(){return this.fa}ba(t,n){const r=n?n.Da:new W_,i=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((p,m)=>{const g=i.get(p),d=yg(this.query,m)?m:null,T=!!g&&this.mutatedKeys.has(g.key),C=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let P=!1;g&&d?g.data.isEqual(d.data)?T!==C&&(r.track({type:3,doc:d}),P=!0):this.va(g,d)||(r.track({type:2,doc:d}),P=!0,(l&&this.ya(d,l)>0||h&&this.ya(d,h)<0)&&(o=!0)):!g&&d?(r.track({type:0,doc:d}),P=!0):g&&!d&&(r.track({type:1,doc:g}),P=!0,(l||h)&&(o=!0)),P&&(d?(s=s.add(d),a=C?a.add(p):a.delete(p)):(s=s.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{wa:s,Da:r,ls:o,mutatedKeys:a}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const a=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const s=t.Da.X_();s.sort((p,m)=>function(d,T){const C=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return C(d)-C(T)}(p.type,m.type)||this.ya(p.doc,m.doc)),this.Ca(r),i=i!=null&&i;const o=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,h=l!==this.ga;return this.ga=l,s.length!==0||h?{snapshot:new Jc(this.query,t.wa,a,s,t.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new W_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=De(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new m6(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new p6(r))}),n}Oa(t){this.fa=t.gs,this.pa=De();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Jc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Lv="SyncEngine";class JD{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class tP{constructor(t){this.key=t,this.Ba=!1}}class eP{constructor(t,n,r,i,a,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Tu(o=>OS(o),vg),this.qa=new Map,this.Qa=new Set,this.$a=new En(ae.comparator),this.Ka=new Map,this.Ua=new gv,this.Wa={},this.Ga=new Map,this.za=Zc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function nP(e,t,n=!0){const r=w6(e);let i;const a=r.ka.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await g6(r,t,n,!0),i}async function rP(e,t){const n=w6(e);await g6(n,t,!0,!1)}async function g6(e,t,n,r){const i=await SD(e.localStore,Qa(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await iP(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&l6(e.remoteStore,i),o}async function iP(e,t,n,r,i){e.Ha=(m,g,d)=>async function(C,P,y,b){let w=P.view.ba(y);w.ls&&(w=await U_(C.localStore,P.query,!1).then(({documents:N})=>P.view.ba(N,w)));const k=b&&b.targetChanges.get(P.targetId),j=b&&b.targetMismatches.get(P.targetId)!=null,z=P.view.applyChanges(w,C.isPrimaryClient,k,j);return X_(C,P.targetId,z.Ma),z.snapshot}(e,m,g,d);const a=await U_(e.localStore,t,!0),s=new ZD(t,a.gs),o=s.ba(a.documents),l=Td.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),h=s.applyChanges(o,e.isPrimaryClient,l);X_(e,n,h.Ma);const p=new JD(t,n,s);return e.ka.set(t,p),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),h.snapshot}async function aP(e,t,n){const r=ye(e),i=r.ka.get(t),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(s=>!vg(s,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await x2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_v(r.remoteStore,i.targetId),R2(r,i.targetId)}).catch(vh)):(R2(r,i.targetId),await x2(r.localStore,i.targetId,!0))}async function sP(e,t){const n=ye(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_v(n.remoteStore,r.targetId))}async function oP(e,t,n){const r=pP(e);try{const i=await function(s,o){const l=ye(s),h=rr.now(),p=o.reduce((d,T)=>d.add(T.key),De());let m,g;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let T=Ws(),C=De();return l.ds.getEntries(d,p).next(P=>{T=P,T.forEach((y,b)=>{b.isValidDocument()||(C=C.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,T)).next(P=>{m=P;const y=[];for(const b of o){const w=AL(b,m.get(b.key).overlayedDocument);w!=null&&y.push(new _l(b.key,w,xS(w.value.mapValue),Ji.exists(!0)))}return l.mutationQueue.addMutationBatch(d,h,y,o)}).next(P=>{g=P;const y=P.applyToLocalDocumentSet(m,C);return l.documentOverlayCache.saveOverlays(d,P.batchId,y)})}).then(()=>({batchId:g.batchId,changes:jS(m)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let h=s.Wa[s.currentUser.toKey()];h||(h=new En(Ie)),h=h.insert(o,l),s.Wa[s.currentUser.toKey()]=h}(r,i.batchId,n),await Nd(r,i.changes),await Eg(r.remoteStore)}catch(i){const a=Tv(i,"Failed to persist write");n.reject(a)}}async function v6(e,t){const n=ye(e);try{const r=await _D(n.localStore,t);t.targetChanges.forEach((i,a)=>{const s=n.Ka.get(a);s&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?$e(s.Ba):i.removedDocuments.size>0&&($e(s.Ba),s.Ba=!1))}),await Nd(n,r,t)}catch(r){await vh(r)}}function K_(e,t,n){const r=ye(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((a,s)=>{const o=s.view.sa(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=ye(s);l.onlineState=o;let h=!1;l.queries.forEach((p,m)=>{for(const g of m.ta)g.sa(o)&&(h=!0)}),h&&Cv(l)}(r.eventManager,t),i.length&&r.La.p_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lP(e,t,n){const r=ye(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ka.get(t),a=i&&i.key;if(a){let s=new En(ae.comparator);s=s.insert(a,kr.newNoDocument(a,pe.min()));const o=De().add(a),l=new wg(pe.min(),new Map,new En(Ie),s,o);await v6(r,l),r.$a=r.$a.remove(a),r.Ka.delete(t),Dv(r)}else await x2(r.localStore,t,!1).then(()=>R2(r,t,n)).catch(vh)}async function uP(e,t){const n=ye(e),r=t.batch.batchId;try{const i=await bD(n.localStore,t);b6(n,r,null),y6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nd(n,i)}catch(i){await vh(i)}}async function cP(e,t,n){const r=ye(e);try{const i=await function(s,o){const l=ye(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return l.mutationQueue.lookupMutationBatch(h,o).next(m=>($e(m!==null),p=m.keys(),l.mutationQueue.removeMutationBatch(h,m))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,p,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>l.localDocuments.getDocuments(h,p))})}(r.localStore,t);b6(r,t,n),y6(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Nd(r,i)}catch(i){await vh(i)}}function y6(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function b6(e,t,n){const r=ye(e);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function R2(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.br(t).forEach(r=>{e.Ua.containsKey(r)||_6(e,r)})}function _6(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(_v(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),Dv(e))}function X_(e,t,n){for(const r of n)r instanceof p6?(e.Ua.addReference(r.key,t),hP(e,r)):r instanceof m6?(Qt(Lv,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||_6(e,r.key)):he()}function hP(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Qt(Lv,"New document in limbo: "+n),e.Qa.add(r),Dv(e))}function Dv(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new ae(pn.fromString(t)),r=e.za.next();e.Ka.set(r,new tP(n)),e.$a=e.$a.insert(n,r),l6(e.remoteStore,new qo(Qa(gg(n.path)),r,"TargetPurposeLimboResolution",dg.ae))}}async function Nd(e,t,n){const r=ye(e),i=[],a=[],s=[];r.ka.isEmpty()||(r.ka.forEach((o,l)=>{s.push(r.Ha(l,t,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(l.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(h){i.push(h);const m=yv.Yi(l.targetId,h);a.push(m)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,h){const p=ye(l);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Dt.forEach(h,g=>Dt.forEach(g.Hi,d=>p.persistence.referenceDelegate.addReference(m,g.targetId,d)).next(()=>Dt.forEach(g.Ji,d=>p.persistence.referenceDelegate.removeReference(m,g.targetId,d)))))}catch(m){if(!yh(m))throw m;Qt(bv,"Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const d=p.Ts.get(g),T=d.snapshotVersion,C=d.withLastLimboFreeSnapshotVersion(T);p.Ts=p.Ts.insert(g,C)}}}(r.localStore,a))}async function fP(e,t){const n=ye(e);if(!n.currentUser.isEqual(t)){Qt(Lv,"User change. New user:",t.toKey());const r=await i6(n.localStore,t);n.currentUser=t,function(a,s){a.Ga.forEach(o=>{o.forEach(l=>{l.reject(new Xt(It.CANCELLED,s))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Nd(n,r.Rs)}}function dP(e,t){const n=ye(e),r=n.Ka.get(t);if(r&&r.Ba)return De().add(r.key);{let i=De();const a=n.qa.get(t);if(!a)return i;for(const s of a){const o=n.ka.get(s);i=i.unionWith(o.view.Sa)}return i}}function w6(e){const t=ye(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=v6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lP.bind(null,t),t.La.p_=KD.bind(null,t.eventManager),t.La.Ja=XD.bind(null,t.eventManager),t}function pP(e){const t=ye(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cP.bind(null,t),t}class Um{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ag(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return yD(this.persistence,new mD,t.initialUser,this.serializer)}Xa(t){return new r6(vv.ri,this.serializer)}Za(t){return new TD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Um.provider={build:()=>new Um};class mP extends Um{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){$e(this.persistence.referenceDelegate instanceof Vm);const r=this.persistence.referenceDelegate.garbageCollector;return new tD(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?si.withCacheSize(this.cacheSizeBytes):si.DEFAULT;return new r6(r=>Vm.ri(r,n),this.serializer)}}class L2{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fP.bind(null,this.syncEngine),await WD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new QD}()}createDatastore(t){const n=Ag(t.databaseInfo.databaseId),r=function(a){return new LD(a)}(t.databaseInfo);return function(a,s,o,l){return new OD(a,s,o,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,a,s,o){return new MD(r,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>K_(this.syncEngine,n,0),function(){return H_.D()?new H_:new xD}())}createSyncEngine(t,n){return function(i,a,s,o,l,h,p){const m=new eP(i,a,s,o,l,h);return p&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const a=ye(i);Qt(vu,"RemoteStore shutting down."),a.W_.add(5),await xd(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}L2.provider={build:()=>new L2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Gs("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="FirestoreClient";class gP{constructor(t,n,r,i,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Or.UNAUTHENTICATED,this.clientId=gS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{Qt(pl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Qt(pl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Tv(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function J1(e,t){e.asyncQueue.verifyOperationInProgress(),Qt(pl,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await i6(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Z_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vP(e);Qt(pl,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>G_(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>G_(t.remoteStore,i)),e._onlineComponents=t}async function vP(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Qt(pl,"Using user provided OfflineComponentProvider");try{await J1(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===It.FAILED_PRECONDITION||i.code===It.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yc("Error using user provided cache. Falling back to memory cache: "+n),await J1(e,new Um)}}else Qt(pl,"Using default OfflineComponentProvider"),await J1(e,new mP(void 0));return e._offlineComponents}async function A6(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Qt(pl,"Using user provided OnlineComponentProvider"),await Z_(e,e._uninitializedComponentsProvider._online)):(Qt(pl,"Using default OnlineComponentProvider"),await Z_(e,new L2))),e._onlineComponents}function yP(e){return A6(e).then(t=>t.syncEngine)}async function zm(e){const t=await A6(e),n=t.eventManager;return n.onListen=nP.bind(null,t.syncEngine),n.onUnlisten=aP.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=rP.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=sP.bind(null,t.syncEngine),n}function bP(e,t,n={}){const r=new Bs;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,h){const p=new Pv({next:g=>{p.su(),s.enqueueAndForget(()=>Nv(a,m));const d=g.docs.has(o);!d&&g.fromCache?h.reject(new Xt(It.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&g.fromCache&&l&&l.source==="server"?h.reject(new Xt(It.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Rv(gg(o.path),p,{includeMetadataChanges:!0,Ta:!0});return xv(a,m)}(await zm(e),e.asyncQueue,t,n,r)),r.promise}function _P(e,t,n={}){const r=new Bs;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,h){const p=new Pv({next:g=>{p.su(),s.enqueueAndForget(()=>Nv(a,m)),g.fromCache&&l.source==="server"?h.reject(new Xt(It.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Rv(o,p,{includeMetadataChanges:!0,Ta:!0});return xv(a,m)}(await zm(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(e,t,n){if(!n)throw new Xt(It.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function wP(e,t,n,r){if(t===!0&&r===!0)throw new Xt(It.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function tw(e){if(!ae.isDocumentKey(e))throw new Xt(It.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ew(e){if(ae.isDocumentKey(e))throw new Xt(It.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Tg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":he()}function ui(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Xt(It.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tg(e);throw new Xt(It.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="firestore.googleapis.com",nw=!0;class rw{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Xt(It.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T6,this.ssl=nw}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:nw;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=n6;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZL)throw new Xt(It.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S6((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Xt(It.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Xt(It.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Xt(It.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xg{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xt(It.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Xt(It.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rw(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RR;switch(r.type){case"firstParty":return new IR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Xt(It.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=J_.get(n);r&&(Qt("ComponentProvider","Removing Datastore"),J_.delete(n),r.terminate())}(this),Promise.resolve()}}function AP(e,t,n,r={}){var i;const a=(e=ui(e,xg))._getSettings(),s=`${t}:${n}`;if(a.host!==T6&&a.host!==s&&Yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=Or.MOCK_USER;else{o=l7(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Xt(It.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Or(h)}e._authCredentials=new LR(new mS(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Nu(this.firestore,t,this._query)}}class Vr{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vr(this.firestore,t,this._key)}}class nl extends Nu{constructor(t,n,r){super(t,n,gg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vr(this.firestore,null,new ae(t))}withConverter(t){return new nl(this.firestore,t,this._path)}}function xi(e,t,...n){if(e=ts(e),E6("collection","path",t),e instanceof xg){const r=pn.fromString(t,...n);return ew(r),new nl(e,null,r)}{if(!(e instanceof Vr||e instanceof nl))throw new Xt(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(pn.fromString(t,...n));return ew(r),new nl(e.firestore,null,r)}}function Qr(e,t,...n){if(e=ts(e),arguments.length===1&&(t=gS.newId()),E6("doc","path",t),e instanceof xg){const r=pn.fromString(t,...n);return tw(r),new Vr(e,null,new ae(r))}{if(!(e instanceof Vr||e instanceof nl))throw new Xt(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(pn.fromString(t,...n));return tw(r),new Vr(e.firestore,e instanceof nl?e.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="AsyncQueue";class aw{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new s6(this,"async_queue_retry"),this.Su=()=>{const r=Z1();r&&Qt(iw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const n=Z1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Z1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Bs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!yh(t))throw t;Qt(iw,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Gs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const i=Ev.createAndSchedule(this,t,n,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&he()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function sw(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class Ys extends xg{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new aw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new aw(t),this._firestoreClient=void 0,await t}}}function SP(e,t){const n=typeof e=="object"?e:yR(),r=typeof e=="string"?e:Pm,i=dR(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=s7("firestore");a&&AP(i,...a)}return i}function Ng(e){if(e._terminated)throw new Xt(It.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||EP(e),e._firestoreClient}function EP(e){var t,n,r;const i=e._freezeSettings(),a=function(o,l,h,p){return new WR(o,l,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,S6(p.experimentalLongPollingOptions),p.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new gP(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t){this._byteString=t}static fromBase64String(t){try{return new th(Er.fromBase64String(t))}catch(n){throw new Xt(It.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new th(Er.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Xt(It.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Xt(It.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Xt(It.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ie(this._lat,t._lat)||Ie(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=/^__.*__$/;class xP{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new _l(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ed(t,this.data,n,this.fieldTransforms)}}class x6{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new _l(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function N6(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class Mv{constructor(t,n,r,i,a,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Mv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ku({path:r,Qu:!1});return i.$u(t),i}Ku(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return qm(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(N6(this.Lu)&&TP.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class NP{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ag(t)}ju(t,n,r,i=!1){return new Mv({Lu:t,methodName:n,zu:r,path:Ar.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rg(e){const t=e._freezeSettings(),n=Ag(e._databaseId);return new NP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function C6(e,t,n,r,i,a={}){const s=e.ju(a.merge||a.mergeFields?2:0,t,n,i);jv("Data must be an object, but it was:",s,r);const o=R6(r,s);let l,h;if(a.merge)l=new Ni(s.fieldMask),h=s.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const g=D2(t,m,n);if(!s.contains(g))throw new Xt(It.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);D6(p,g)||p.push(g)}l=new Ni(p),h=s.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,h=s.fieldTransforms;return new xP(new oi(o),l,h)}class Lg extends Iv{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Lg}}function CP(e,t,n,r){const i=e.ju(1,t,n);jv("Data must be an object, but it was:",i,r);const a=[],s=oi.empty();bl(r,(l,h)=>{const p=Fv(t,l,n);h=ts(h);const m=i.Ku(p);if(h instanceof Lg)a.push(p);else{const g=Cd(h,m);g!=null&&(a.push(p),s.set(p,g))}});const o=new Ni(a);return new x6(s,o,i.fieldTransforms)}function RP(e,t,n,r,i,a){const s=e.ju(1,t,n),o=[D2(t,r,n)],l=[i];if(a.length%2!=0)throw new Xt(It.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)o.push(D2(t,a[g])),l.push(a[g+1]);const h=[],p=oi.empty();for(let g=o.length-1;g>=0;--g)if(!D6(h,o[g])){const d=o[g];let T=l[g];T=ts(T);const C=s.Ku(d);if(T instanceof Lg)h.push(d);else{const P=Cd(T,C);P!=null&&(h.push(d),p.set(d,P))}}const m=new Ni(h);return new x6(p,m,s.fieldTransforms)}function LP(e,t,n,r=!1){return Cd(n,e.ju(r?4:3,t))}function Cd(e,t){if(L6(e=ts(e)))return jv("Unsupported field value:",t,e),R6(e,t);if(e instanceof Iv)return function(r,i){if(!N6(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Cd(o,i.Uu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(r,i){if((r=ts(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=rr.fromDate(r);return{timestampValue:Fm(i.serializer,a)}}if(r instanceof rr){const a=new rr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fm(i.serializer,a)}}if(r instanceof Ov)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof th)return{bytesValue:QS(i.serializer,r._byteString)};if(r instanceof Vr){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kv)return function(s,o){return{mapValue:{fields:{[ES]:{stringValue:TS},[Im]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw o.Wu("VectorValues must only contain numeric values.");return hv(o.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Tg(r)}`)}(e,t)}function R6(e,t){const n={};return yS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bl(e,(r,i)=>{const a=Cd(i,t.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function L6(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof rr||e instanceof Ov||e instanceof th||e instanceof Vr||e instanceof Iv||e instanceof kv)}function jv(e,t,n){if(!L6(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Tg(n);throw r==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function D2(e,t,n){if((t=ts(t))instanceof Cg)return t._internalPath;if(typeof t=="string")return Fv(e,t);throw qm("Field path arguments must be of type string or ",e,!1,void 0,n)}const DP=new RegExp("[~\\*/\\[\\]]");function Fv(e,t,n){if(t.search(DP)>=0)throw qm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Cg(...t.split("."))._internalPath}catch{throw qm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function qm(e,t,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Xt(It.INVALID_ARGUMENT,o+e+l)}function D6(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(t,n,r,i,a){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Vv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PP extends P6{data(){return super.data()}}function Vv(e,t){return typeof t=="string"?Fv(e,t):t instanceof Cg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Xt(It.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bv{}class IP extends Bv{}function nc(e,t,...n){let r=[];t instanceof Bv&&r.push(t),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof Uv).length,o=a.filter(l=>l instanceof Dg).length;if(s>1||s>0&&o>0)throw new Xt(It.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Dg extends IP{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Dg(t,n,r)}_apply(t){const n=this._parse(t);return O6(t._query,n),new Nu(t.firestore,t.converter,_2(t._query,n))}_parse(t){const n=Rg(t.firestore);return function(a,s,o,l,h,p,m){let g;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Xt(It.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){lw(m,p);const T=[];for(const C of m)T.push(ow(l,a,C));g={arrayValue:{values:T}}}else g=ow(l,a,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||lw(m,p),g=LP(o,s,m,p==="in"||p==="not-in");return Kn.create(h,p,g)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Ro(e,t,n){const r=t,i=Vv("where",e);return Dg._create(i,r,n)}class Uv extends Bv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Uv(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Aa.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)O6(s,l),s=_2(s,l)}(t._query,n),new Nu(t.firestore,t.converter,_2(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ow(e,t,n){if(typeof(n=ts(n))=="string"){if(n==="")throw new Xt(It.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IS(t)&&n.indexOf("/")!==-1)throw new Xt(It.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(pn.fromString(n));if(!ae.isDocumentKey(r))throw new Xt(It.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return A_(e,new ae(r))}if(n instanceof Vr)return A_(e,n._key);throw new Xt(It.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tg(n)}.`)}function lw(e,t){if(!Array.isArray(e)||e.length===0)throw new Xt(It.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function O6(e,t){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Xt(It.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Xt(It.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class OP{convertValue(t,n="none"){switch(fl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw he()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return bl(t,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(t){var n,r,i;const a=(i=(r=(n=t.fields)===null||n===void 0?void 0:n[Im].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>jn(s.doubleValue));return new kv(a)}convertGeoPoint(t){return new Ov(jn(t.latitude),jn(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=mg(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jf(t));default:return null}}convertTimestamp(t){const n=cl(t);return new rr(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=pn.fromString(t);$e(e6(r));const i=new td(r.get(1),r.get(3)),a=new ae(r.popFirst(5));return i.isEqual(n)||Gs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class M6 extends P6{constructor(t,n,r,i,a,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Vv("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wp extends M6{data(t={}){return super.data(t)}}class j6{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new sf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Wp(this._firestore,this._userDataWriter,r.key,r,new sf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Xt(It.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Wp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new sf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Wp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new sf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return o.type!==0&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),p=s.indexOf(o.doc.key)),{type:kP(o.type),doc:l,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(e){e=ui(e,Vr);const t=ui(e.firestore,Ys);return bP(Ng(t),e._key).then(n=>B6(t,e,n))}class zv extends OP{constructor(t){super(),this.firestore=t}convertBytes(t){return new th(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Vr(this.firestore,null,n)}}function Yi(e){e=ui(e,Nu);const t=ui(e.firestore,Ys),n=Ng(t),r=new zv(t);return I6(e._query),_P(n,e._query).then(i=>new j6(t,r,e,i))}function iu(e,t,n){e=ui(e,Vr);const r=ui(e.firestore,Ys),i=k6(e.converter,t,n);return Ig(r,[C6(Rg(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Ji.none())])}function MP(e,t,n,...r){e=ui(e,Vr);const i=ui(e.firestore,Ys),a=Rg(i);let s;return s=typeof(t=ts(t))=="string"||t instanceof Cg?RP(a,"updateDoc",e._key,t,n,r):CP(a,"updateDoc",e._key,t),Ig(i,[s.toMutation(e._key,Ji.exists(!0))])}function F6(e){return Ig(ui(e.firestore,Ys),[new fv(e._key,Ji.none())])}function V6(e,t){const n=ui(e.firestore,Ys),r=Qr(e),i=k6(e.converter,t);return Ig(n,[C6(Rg(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Ji.exists(!1))]).then(()=>r)}function jP(e,...t){var n,r,i;e=ts(e);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||sw(t[s])||(a=t[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(sw(t[s])){const m=t[s];t[s]=(n=m.next)===null||n===void 0?void 0:n.bind(m),t[s+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),t[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,h,p;if(e instanceof Vr)h=ui(e.firestore,Ys),p=gg(e._key.path),l={next:m=>{t[s]&&t[s](B6(h,e,m))},error:t[s+1],complete:t[s+2]};else{const m=ui(e,Nu);h=ui(m.firestore,Ys),p=m._query;const g=new zv(h);l={next:d=>{t[s]&&t[s](new j6(h,g,m,d))},error:t[s+1],complete:t[s+2]},I6(e._query)}return function(g,d,T,C){const P=new Pv(C),y=new Rv(d,P,T);return g.asyncQueue.enqueueAndForget(async()=>xv(await zm(g),y)),()=>{P.su(),g.asyncQueue.enqueueAndForget(async()=>Nv(await zm(g),y))}}(Ng(h),p,o,l)}function Ig(e,t){return function(r,i){const a=new Bs;return r.asyncQueue.enqueueAndForget(async()=>oP(await yP(r),i,a)),a.promise}(Ng(e),t)}function B6(e,t,n){const r=n.docs.get(t._key),i=new zv(e);return new M6(e,i,t._key,r,new sf(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){gh=i})(vR),Lm(new Kf("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new Ys(new DR(r.getProvider("auth-internal")),new OR(s,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Xt(It.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new td(h.options.projectId,p)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Mc(h_,f_,t),Mc(h_,f_,"esm2017")})();var FP="firebase",VP="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mc(FP,VP,"app");const BP={apiKey:"AIzaSyAAMDVETtUUMQ0FrKikWF7-x6UKxu_0Dyk",authDomain:"saas-mercado-forte.firebaseapp.com",projectId:"saas-mercado-forte",storageBucket:"saas-mercado-forte.firebasestorage.app",messagingSenderId:"50138078035",appId:"1:50138078035:web:49cec1073559ffef861fa6",measurementId:"G-V34Q8LL4DL"},UP=sS(BP),yn=SP(UP),zP=()=>{const e=X5(),[t,n]=ct.useState(""),[r,i]=ct.useState(""),[a,s]=ct.useState(!1);ct.useEffect(()=>{const l=localStorage.getItem("empresaId"),h=localStorage.getItem("loginUserPassword");l&&h&&e("/home")},[e]);const o=async l=>{l.preventDefault();try{const h=Qr(yn,"Empresas",t),p=await Pg(h);p.exists()&&p.data().senha===r?(localStorage.setItem("empresaId",t),localStorage.setItem("loginUserPassword",r),e("/home")):s(!0)}catch(h){console.error("Erro ao fazer login:",h),s(!0)}};return W.jsxs("main",{id:"loginPage",children:[W.jsx("h1",{children:"Mercado Forte"}),W.jsxs("form",{onSubmit:o,children:[W.jsx("input",{type:"text",className:"form-control",placeholder:"Informe o telefone",value:t,onChange:l=>n(l.target.value)}),W.jsx("input",{type:"password",className:"form-control",placeholder:"Digite a senha",value:r,onChange:l=>i(l.target.value)}),a&&W.jsx("p",{className:"error-message",children:"*Usuário ou senha inválido"}),W.jsx("button",{className:"btn btn-dark form-control",type:"submit",children:"Entrar"})]}),W.jsx(nv,{to:"/criar-conta",children:"Criar conta"})]})};var li=function(){return li=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},li.apply(this,arguments)};function id(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var dn="-ms-",Cf="-moz-",He="-webkit-",U6="comm",Og="rule",qv="decl",qP="@import",z6="@keyframes",HP="@layer",q6=Math.abs,Hv=String.fromCharCode,P2=Object.assign;function $P(e,t){return cr(e,0)^45?(((t<<2^cr(e,0))<<2^cr(e,1))<<2^cr(e,2))<<2^cr(e,3):0}function H6(e){return e.trim()}function Rs(e,t){return(e=t.exec(e))?e[0]:e}function Se(e,t,n){return e.replace(t,n)}function Yp(e,t,n){return e.indexOf(t,n)}function cr(e,t){return e.charCodeAt(t)|0}function eh(e,t,n){return e.slice(t,n)}function za(e){return e.length}function $6(e){return e.length}function of(e,t){return t.push(e),e}function GP(e,t){return e.map(t).join("")}function uw(e,t){return e.filter(function(n){return!Rs(n,t)})}var kg=1,nh=1,G6=0,na=0,Qn=0,_h="";function Mg(e,t,n,r,i,a,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:kg,column:nh,length:s,return:"",siblings:o}}function Io(e,t){return P2(Mg("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function rc(e){for(;e.root;)e=Io(e.root,{children:[e]});of(e,e.siblings)}function WP(){return Qn}function YP(){return Qn=na>0?cr(_h,--na):0,nh--,Qn===10&&(nh=1,kg--),Qn}function wa(){return Qn=na<G6?cr(_h,na++):0,nh++,Qn===10&&(nh=1,kg++),Qn}function au(){return cr(_h,na)}function Qp(){return na}function jg(e,t){return eh(_h,e,t)}function I2(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QP(e){return kg=nh=1,G6=za(_h=e),na=0,[]}function KP(e){return _h="",e}function t0(e){return H6(jg(na-1,O2(e===91?e+2:e===40?e+1:e)))}function XP(e){for(;(Qn=au())&&Qn<33;)wa();return I2(e)>2||I2(Qn)>3?"":" "}function ZP(e,t){for(;--t&&wa()&&!(Qn<48||Qn>102||Qn>57&&Qn<65||Qn>70&&Qn<97););return jg(e,Qp()+(t<6&&au()==32&&wa()==32))}function O2(e){for(;wa();)switch(Qn){case e:return na;case 34:case 39:e!==34&&e!==39&&O2(Qn);break;case 40:e===41&&O2(e);break;case 92:wa();break}return na}function JP(e,t){for(;wa()&&e+Qn!==57;)if(e+Qn===84&&au()===47)break;return"/*"+jg(t,na-1)+"*"+Hv(e===47?e:wa())}function t9(e){for(;!I2(au());)wa();return jg(e,na)}function e9(e){return KP(Kp("",null,null,null,[""],e=QP(e),0,[0],e))}function Kp(e,t,n,r,i,a,s,o,l){for(var h=0,p=0,m=s,g=0,d=0,T=0,C=1,P=1,y=1,b=0,w="",k=i,j=a,z=r,N=w;P;)switch(T=b,b=wa()){case 40:if(T!=108&&cr(N,m-1)==58){Yp(N+=Se(t0(b),"&","&\f"),"&\f",q6(h?o[h-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:N+=t0(b);break;case 9:case 10:case 13:case 32:N+=XP(T);break;case 92:N+=ZP(Qp()-1,7);continue;case 47:switch(au()){case 42:case 47:of(n9(JP(wa(),Qp()),t,n,l),l);break;default:N+="/"}break;case 123*C:o[h++]=za(N)*y;case 125*C:case 59:case 0:switch(b){case 0:case 125:P=0;case 59+p:y==-1&&(N=Se(N,/\f/g,"")),d>0&&za(N)-m&&of(d>32?hw(N+";",r,n,m-1,l):hw(Se(N," ","")+";",r,n,m-2,l),l);break;case 59:N+=";";default:if(of(z=cw(N,t,n,h,p,i,o,w,k=[],j=[],m,a),a),b===123)if(p===0)Kp(N,t,z,z,k,a,m,o,j);else switch(g===99&&cr(N,3)===110?100:g){case 100:case 108:case 109:case 115:Kp(e,z,z,r&&of(cw(e,z,z,0,0,i,o,w,i,k=[],m,j),j),i,j,m,o,r?k:j);break;default:Kp(N,z,z,z,[""],j,0,o,j)}}h=p=d=0,C=y=1,w=N="",m=s;break;case 58:m=1+za(N),d=T;default:if(C<1){if(b==123)--C;else if(b==125&&C++==0&&YP()==125)continue}switch(N+=Hv(b),b*C){case 38:y=p>0?1:(N+="\f",-1);break;case 44:o[h++]=(za(N)-1)*y,y=1;break;case 64:au()===45&&(N+=t0(wa())),g=au(),p=m=za(w=N+=t9(Qp())),b++;break;case 45:T===45&&za(N)==2&&(C=0)}}return a}function cw(e,t,n,r,i,a,s,o,l,h,p,m){for(var g=i-1,d=i===0?a:[""],T=$6(d),C=0,P=0,y=0;C<r;++C)for(var b=0,w=eh(e,g+1,g=q6(P=s[C])),k=e;b<T;++b)(k=H6(P>0?d[b]+" "+w:Se(w,/&\f/g,d[b])))&&(l[y++]=k);return Mg(e,t,n,i===0?Og:o,l,h,p,m)}function n9(e,t,n,r){return Mg(e,t,n,U6,Hv(WP()),eh(e,2,-2),0,r)}function hw(e,t,n,r,i){return Mg(e,t,n,qv,eh(e,0,r),eh(e,r+1,-1),r,i)}function W6(e,t,n){switch($P(e,t)){case 5103:return He+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return He+e+e;case 4789:return Cf+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return He+e+Cf+e+dn+e+e;case 5936:switch(cr(e,t+11)){case 114:return He+e+dn+Se(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return He+e+dn+Se(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return He+e+dn+Se(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return He+e+dn+e+e;case 6165:return He+e+dn+"flex-"+e+e;case 5187:return He+e+Se(e,/(\w+).+(:[^]+)/,He+"box-$1$2"+dn+"flex-$1$2")+e;case 5443:return He+e+dn+"flex-item-"+Se(e,/flex-|-self/g,"")+(Rs(e,/flex-|baseline/)?"":dn+"grid-row-"+Se(e,/flex-|-self/g,""))+e;case 4675:return He+e+dn+"flex-line-pack"+Se(e,/align-content|flex-|-self/g,"")+e;case 5548:return He+e+dn+Se(e,"shrink","negative")+e;case 5292:return He+e+dn+Se(e,"basis","preferred-size")+e;case 6060:return He+"box-"+Se(e,"-grow","")+He+e+dn+Se(e,"grow","positive")+e;case 4554:return He+Se(e,/([^-])(transform)/g,"$1"+He+"$2")+e;case 6187:return Se(Se(Se(e,/(zoom-|grab)/,He+"$1"),/(image-set)/,He+"$1"),e,"")+e;case 5495:case 3959:return Se(e,/(image-set\([^]*)/,He+"$1$`$1");case 4968:return Se(Se(e,/(.+:)(flex-)?(.*)/,He+"box-pack:$3"+dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+He+e+e;case 4200:if(!Rs(e,/flex-|baseline/))return dn+"grid-column-align"+eh(e,t)+e;break;case 2592:case 3360:return dn+Se(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Rs(r.props,/grid-\w+-end/)})?~Yp(e+(n=n[t].value),"span",0)?e:dn+Se(e,"-start","")+e+dn+"grid-row-span:"+(~Yp(n,"span",0)?Rs(n,/\d+/):+Rs(n,/\d+/)-+Rs(e,/\d+/))+";":dn+Se(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Rs(r.props,/grid-\w+-start/)})?e:dn+Se(Se(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Se(e,/(.+)-inline(.+)/,He+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(za(e)-1-t>6)switch(cr(e,t+1)){case 109:if(cr(e,t+4)!==45)break;case 102:return Se(e,/(.+:)(.+)-([^]+)/,"$1"+He+"$2-$3$1"+Cf+(cr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Yp(e,"stretch",0)?W6(Se(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Se(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,a,s,o,l,h){return dn+i+":"+a+h+(s?dn+i+"-span:"+(o?l:+l-+a)+h:"")+e});case 4949:if(cr(e,t+6)===121)return Se(e,":",":"+He)+e;break;case 6444:switch(cr(e,cr(e,14)===45?18:11)){case 120:return Se(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+He+(cr(e,14)===45?"inline-":"")+"box$3$1"+He+"$2$3$1"+dn+"$2box$3")+e;case 100:return Se(e,":",":"+dn)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Se(e,"scroll-","scroll-snap-")+e}return e}function Hm(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function r9(e,t,n,r){switch(e.type){case HP:if(e.children.length)break;case qP:case qv:return e.return=e.return||e.value;case U6:return"";case z6:return e.return=e.value+"{"+Hm(e.children,r)+"}";case Og:if(!za(e.value=e.props.join(",")))return""}return za(n=Hm(e.children,r))?e.return=e.value+"{"+n+"}":""}function i9(e){var t=$6(e);return function(n,r,i,a){for(var s="",o=0;o<t;o++)s+=e[o](n,r,i,a)||"";return s}}function a9(e){return function(t){t.root||(t=t.return)&&e(t)}}function s9(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case qv:e.return=W6(e.value,e.length,n);return;case z6:return Hm([Io(e,{value:Se(e.value,"@","@"+He)})],r);case Og:if(e.length)return GP(n=e.props,function(i){switch(Rs(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":rc(Io(e,{props:[Se(i,/:(read-\w+)/,":"+Cf+"$1")]})),rc(Io(e,{props:[i]})),P2(e,{props:uw(n,r)});break;case"::placeholder":rc(Io(e,{props:[Se(i,/:(plac\w+)/,":"+He+"input-$1")]})),rc(Io(e,{props:[Se(i,/:(plac\w+)/,":"+Cf+"$1")]})),rc(Io(e,{props:[Se(i,/:(plac\w+)/,dn+"input-$1")]})),rc(Io(e,{props:[i]})),P2(e,{props:uw(n,r)});break}return""})}}var o9={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ai={},rh=typeof process<"u"&&Ai!==void 0&&(Ai.REACT_APP_SC_ATTR||Ai.SC_ATTR)||"data-styled",Y6="active",Q6="data-styled-version",Fg="6.1.15",$v=`/*!sc*/
`,$m=typeof window<"u"&&"HTMLElement"in window,l9=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ai!==void 0&&Ai.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ai.REACT_APP_SC_DISABLE_SPEEDY!==""?Ai.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ai.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ai!==void 0&&Ai.SC_DISABLE_SPEEDY!==void 0&&Ai.SC_DISABLE_SPEEDY!==""&&Ai.SC_DISABLE_SPEEDY!=="false"&&Ai.SC_DISABLE_SPEEDY),Vg=Object.freeze([]),ih=Object.freeze({});function u9(e,t,n){return n===void 0&&(n=ih),e.theme!==n.theme&&e.theme||t||n.theme}var K6=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),c9=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,h9=/(^-|-$)/g;function fw(e){return e.replace(c9,"-").replace(h9,"")}var f9=/(a)(d)/gi,Ap=52,dw=function(e){return String.fromCharCode(e+(e>25?39:97))};function k2(e){var t,n="";for(t=Math.abs(e);t>Ap;t=t/Ap|0)n=dw(t%Ap)+n;return(dw(t%Ap)+n).replace(f9,"$1-$2")}var e0,X6=5381,Nc=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Z6=function(e){return Nc(X6,e)};function J6(e){return k2(Z6(e)>>>0)}function d9(e){return e.displayName||e.name||"Component"}function n0(e){return typeof e=="string"&&!0}var tE=typeof Symbol=="function"&&Symbol.for,eE=tE?Symbol.for("react.memo"):60115,p9=tE?Symbol.for("react.forward_ref"):60112,m9={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},g9={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},v9=((e0={})[p9]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},e0[eE]=nE,e0);function pw(e){return("type"in(t=e)&&t.type.$$typeof)===eE?nE:"$$typeof"in e?v9[e.$$typeof]:m9;var t}var y9=Object.defineProperty,b9=Object.getOwnPropertyNames,mw=Object.getOwnPropertySymbols,_9=Object.getOwnPropertyDescriptor,w9=Object.getPrototypeOf,gw=Object.prototype;function rE(e,t,n){if(typeof t!="string"){if(gw){var r=w9(t);r&&r!==gw&&rE(e,r,n)}var i=b9(t);mw&&(i=i.concat(mw(t)));for(var a=pw(e),s=pw(t),o=0;o<i.length;++o){var l=i[o];if(!(l in g9||n&&n[l]||s&&l in s||a&&l in a)){var h=_9(t,l);try{y9(e,l,h)}catch{}}}}return e}function ah(e){return typeof e=="function"}function Gv(e){return typeof e=="object"&&"styledComponentId"in e}function Kl(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function M2(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function ad(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function j2(e,t,n){if(n===void 0&&(n=!1),!n&&!ad(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=j2(e[r],t[r]);else if(ad(t))for(var r in t)e[r]=j2(e[r],t[r]);return e}function Wv(e,t){Object.defineProperty(e,"toString",{value:t})}function Rd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var A9=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,a=i;t>=a;)if((a<<=1)<0)throw Rd(16,"".concat(t));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var s=i;s<a;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(t+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(o,n[s])&&(this.groupSizes[t]++,o++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var a=r;a<i;a++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),a=i+r,s=i;s<a;s++)n+="".concat(this.tag.getRule(s)).concat($v);return n},e}(),Xp=new Map,Gm=new Map,Zp=1,Sp=function(e){if(Xp.has(e))return Xp.get(e);for(;Gm.has(Zp);)Zp++;var t=Zp++;return Xp.set(e,t),Gm.set(t,e),t},S9=function(e,t){Zp=t+1,Xp.set(e,t),Gm.set(t,e)},E9="style[".concat(rh,"][").concat(Q6,'="').concat(Fg,'"]'),T9=new RegExp("^".concat(rh,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),x9=function(e,t,n){for(var r,i=n.split(","),a=0,s=i.length;a<s;a++)(r=i[a])&&e.registerName(t,r)},N9=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split($v),i=[],a=0,s=r.length;a<s;a++){var o=r[a].trim();if(o){var l=o.match(T9);if(l){var h=0|parseInt(l[1],10),p=l[2];h!==0&&(S9(p,h),x9(e,p,l[3]),e.getTag().insertRules(h,i)),i.length=0}else i.push(o)}}},vw=function(e){for(var t=document.querySelectorAll(E9),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(rh)!==Y6&&(N9(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function C9(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var iE=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(o){var l=Array.from(o.querySelectorAll("style[".concat(rh,"]")));return l[l.length-1]}(n),a=i!==void 0?i.nextSibling:null;r.setAttribute(rh,Y6),r.setAttribute(Q6,Fg);var s=C9();return s&&r.setAttribute("nonce",s),n.insertBefore(r,a),r},R9=function(){function e(t){this.element=iE(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,a=r.length;i<a;i++){var s=r[i];if(s.ownerNode===n)return s}throw Rd(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),L9=function(){function e(t){this.element=iE(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),D9=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),yw=$m,P9={isServer:!$m,useCSSOMInjection:!l9},aE=function(){function e(t,n,r){t===void 0&&(t=ih),n===void 0&&(n={});var i=this;this.options=li(li({},P9),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&$m&&yw&&(yw=!1,vw(this)),Wv(this,function(){return function(a){for(var s=a.getTag(),o=s.length,l="",h=function(m){var g=function(y){return Gm.get(y)}(m);if(g===void 0)return"continue";var d=a.names.get(g),T=s.getGroup(m);if(d===void 0||!d.size||T.length===0)return"continue";var C="".concat(rh,".g").concat(m,'[id="').concat(g,'"]'),P="";d!==void 0&&d.forEach(function(y){y.length>0&&(P+="".concat(y,","))}),l+="".concat(T).concat(C,'{content:"').concat(P,'"}').concat($v)},p=0;p<o;p++)h(p);return l}(i)})}return e.registerId=function(t){return Sp(t)},e.prototype.rehydrate=function(){!this.server&&$m&&vw(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(li(li({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new D9(i):r?new R9(i):new L9(i)}(this.options),new A9(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Sp(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(Sp(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Sp(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),I9=/&/g,O9=/^\s*\/\/.*$/gm;function sE(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=sE(n.children,t)),n})}function k9(e){var t,n,r,i=ih,a=i.options,s=a===void 0?ih:a,o=i.plugins,l=o===void 0?Vg:o,h=function(g,d,T){return T.startsWith(n)&&T.endsWith(n)&&T.replaceAll(n,"").length>0?".".concat(t):g},p=l.slice();p.push(function(g){g.type===Og&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(I9,n).replace(r,h))}),s.prefix&&p.push(s9),p.push(r9);var m=function(g,d,T,C){d===void 0&&(d=""),T===void 0&&(T=""),C===void 0&&(C="&"),t=C,n=d,r=new RegExp("\\".concat(n,"\\b"),"g");var P=g.replace(O9,""),y=e9(T||d?"".concat(T," ").concat(d," { ").concat(P," }"):P);s.namespace&&(y=sE(y,s.namespace));var b=[];return Hm(y,i9(p.concat(a9(function(w){return b.push(w)})))),b};return m.hash=l.length?l.reduce(function(g,d){return d.name||Rd(15),Nc(g,d.name)},X6).toString():"",m}var M9=new aE,F2=k9(),oE=Fc.createContext({shouldForwardProp:void 0,styleSheet:M9,stylis:F2});oE.Consumer;Fc.createContext(void 0);function bw(){return ct.useContext(oE)}var lE=function(){function e(t,n){var r=this;this.inject=function(i,a){a===void 0&&(a=F2);var s=r.name+a.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,a(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Wv(this,function(){throw Rd(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=F2),this.name+t.hash},e}(),j9=function(e){return e>="A"&&e<="Z"};function _w(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;j9(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var uE=function(e){return e==null||e===!1||e===""},cE=function(e){var t,n,r=[];for(var i in e){var a=e[i];e.hasOwnProperty(i)&&!uE(a)&&(Array.isArray(a)&&a.isCss||ah(a)?r.push("".concat(_w(i),":"),a,";"):ad(a)?r.push.apply(r,id(id(["".concat(i," {")],cE(a),!1),["}"],!1)):r.push("".concat(_w(i),": ").concat((t=i,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in o9||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function su(e,t,n,r){if(uE(e))return[];if(Gv(e))return[".".concat(e.styledComponentId)];if(ah(e)){if(!ah(a=e)||a.prototype&&a.prototype.isReactComponent||!t)return[e];var i=e(t);return su(i,t,n,r)}var a;return e instanceof lE?n?(e.inject(n,r),[e.getName(r)]):[e]:ad(e)?cE(e):Array.isArray(e)?Array.prototype.concat.apply(Vg,e.map(function(s){return su(s,t,n,r)})):[e.toString()]}function F9(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ah(n)&&!Gv(n))return!1}return!0}var V9=Z6(Fg),B9=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&F9(t),this.componentId=n,this.baseHash=Nc(V9,n),this.baseStyle=r,aE.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Kl(i,this.staticRulesId);else{var a=M2(su(this.rules,t,n,r)),s=k2(Nc(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,s)){var o=r(a,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,o)}i=Kl(i,s),this.staticRulesId=s}else{for(var l=Nc(this.baseHash,r.hash),h="",p=0;p<this.rules.length;p++){var m=this.rules[p];if(typeof m=="string")h+=m;else if(m){var g=M2(su(m,t,n,r));l=Nc(l,g+p),h+=g}}if(h){var d=k2(l>>>0);n.hasNameForId(this.componentId,d)||n.insertRules(this.componentId,d,r(h,".".concat(d),void 0,this.componentId)),i=Kl(i,d)}}return i},e}(),hE=Fc.createContext(void 0);hE.Consumer;var r0={};function U9(e,t,n){var r=Gv(e),i=e,a=!n0(e),s=t.attrs,o=s===void 0?Vg:s,l=t.componentId,h=l===void 0?function(k,j){var z=typeof k!="string"?"sc":fw(k);r0[z]=(r0[z]||0)+1;var N="".concat(z,"-").concat(J6(Fg+z+r0[z]));return j?"".concat(j,"-").concat(N):N}(t.displayName,t.parentComponentId):l,p=t.displayName,m=p===void 0?function(k){return n0(k)?"styled.".concat(k):"Styled(".concat(d9(k),")")}(e):p,g=t.displayName&&t.componentId?"".concat(fw(t.displayName),"-").concat(t.componentId):t.componentId||h,d=r&&i.attrs?i.attrs.concat(o).filter(Boolean):o,T=t.shouldForwardProp;if(r&&i.shouldForwardProp){var C=i.shouldForwardProp;if(t.shouldForwardProp){var P=t.shouldForwardProp;T=function(k,j){return C(k,j)&&P(k,j)}}else T=C}var y=new B9(n,g,r?i.componentStyle:void 0);function b(k,j){return function(z,N,E){var R=z.attrs,O=z.componentStyle,x=z.defaultProps,A=z.foldedComponentIds,L=z.styledComponentId,Y=z.target,st=Fc.useContext(hE),q=bw(),Q=z.shouldForwardProp||q.shouldForwardProp,X=u9(N,st,x)||ih,J=function(et,rt,pt){for(var gt,vt=li(li({},rt),{className:void 0,theme:pt}),kt=0;kt<et.length;kt+=1){var Lt=ah(gt=et[kt])?gt(vt):gt;for(var Vt in Lt)vt[Vt]=Vt==="className"?Kl(vt[Vt],Lt[Vt]):Vt==="style"?li(li({},vt[Vt]),Lt[Vt]):Lt[Vt]}return rt.className&&(vt.className=Kl(vt.className,rt.className)),vt}(R,N,X),at=J.as||Y,yt={};for(var M in J)J[M]===void 0||M[0]==="$"||M==="as"||M==="theme"&&J.theme===X||(M==="forwardedAs"?yt.as=J.forwardedAs:Q&&!Q(M,at)||(yt[M]=J[M]));var $=function(et,rt){var pt=bw(),gt=et.generateAndInjectStyles(rt,pt.styleSheet,pt.stylis);return gt}(O,J),Z=Kl(A,L);return $&&(Z+=" "+$),J.className&&(Z+=" "+J.className),yt[n0(at)&&!K6.has(at)?"class":"className"]=Z,E&&(yt.ref=E),ct.createElement(at,yt)}(w,k,j)}b.displayName=m;var w=Fc.forwardRef(b);return w.attrs=d,w.componentStyle=y,w.displayName=m,w.shouldForwardProp=T,w.foldedComponentIds=r?Kl(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=g,w.target=r?i.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(k){this._foldedDefaultProps=r?function(j){for(var z=[],N=1;N<arguments.length;N++)z[N-1]=arguments[N];for(var E=0,R=z;E<R.length;E++)j2(j,R[E],!0);return j}({},i.defaultProps,k):k}}),Wv(w,function(){return".".concat(w.styledComponentId)}),a&&rE(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function ww(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Aw=function(e){return Object.assign(e,{isCss:!0})};function fE(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ah(e)||ad(e))return Aw(su(ww(Vg,id([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?su(r):Aw(su(ww(r,t)))}function V2(e,t,n){if(n===void 0&&(n=ih),!t)throw Rd(1,t);var r=function(i){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];return e(t,n,fE.apply(void 0,id([i],a,!1)))};return r.attrs=function(i){return V2(e,t,li(li({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return V2(e,t,li(li({},n),i))},r}var dE=function(e){return V2(U9,e)},Cu=dE;K6.forEach(function(e){Cu[e]=dE(e)});function Yv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=M2(fE.apply(void 0,id([e],t,!1))),i=J6(r);return new lE(i,r)}const Sw="#4fa94d",z9={"aria-busy":!0,role:"progressbar"},q9=Cu.div`
  display: ${e=>e.$visible?"flex":"none"};
`,ga=242.776657104492,H9=1.6,$9=Yv`
12.5% {
  stroke-dasharray: ${ga*.14}px, ${ga}px;
  stroke-dashoffset: -${ga*.11}px;
}
43.75% {
  stroke-dasharray: ${ga*.35}px, ${ga}px;
  stroke-dashoffset: -${ga*.35}px;
}
100% {
  stroke-dasharray: ${ga*.01}px, ${ga}px;
  stroke-dashoffset: -${ga*.99}px;
}
`;Cu.path`
  stroke-dasharray: ${ga*.01}px, ${ga};
  stroke-dashoffset: 0;
  animation: ${$9} ${H9}s linear infinite;
`;const i0=20,G9=e=>["M"+e+" 0c0-9.94-8.06",e,e,e].join("-"),W9=(e,t,n)=>{const r=Math.max(e,t),i=-20-r/2+1,a=n*2+r;return[i,i,a,a].join(" ")},pE=({height:e=80,width:t=80,color:n=Sw,secondaryColor:r=Sw,ariaLabel:i="oval-loading",wrapperStyle:a,wrapperClass:s,visible:o=!0,strokeWidth:l=2,strokeWidthSecondary:h})=>W.jsx(q9,{style:a,$visible:o,className:s,"data-testid":"oval-loading","aria-label":i,...z9,children:W.jsx("svg",{width:t,height:e,viewBox:W9(Number(l),Number(h||l),i0),xmlns:"http://www.w3.org/2000/svg",stroke:n,"data-testid":"oval-svg",children:W.jsx("g",{fill:"none",fillRule:"evenodd",children:W.jsxs("g",{transform:"translate(1 1)",strokeWidth:Number(h||l),"data-testid":"oval-secondary-group",children:[W.jsx("circle",{strokeOpacity:".5",cx:"0",cy:"0",r:i0,stroke:r,strokeWidth:l}),W.jsx("path",{d:G9(i0),children:W.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 0 0",to:"360 0 0",dur:"1s",repeatCount:"indefinite"})})]})})})}),Y9=Yv`
to {
   transform: rotate(360deg);
 }
`;Cu.svg`
  animation: ${Y9} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Cu.polyline`
  stroke-width: ${e=>e.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const Q9=Yv`
to {
   stroke-dashoffset: 136;
 }
`;Cu.polygon`
  stroke-dasharray: 17;
  animation: ${Q9} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Cu.svg`
  transform-origin: 50% 65%;
`;const Bg=()=>W.jsx("div",{className:"loading-container",children:W.jsx(pE,{height:80,width:80,color:"rgb(19, 103, 181)",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"rgb(19, 103, 181)",strokeWidth:2,strokeWidthSecondary:2})}),K9=()=>W.jsxs("div",{className:"loading-container",children:[W.jsx(pE,{height:80,width:80,color:"rgb(19, 103, 181)",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"rgb(19, 103, 181)",strokeWidth:2,strokeWidthSecondary:2}),W.jsx("p",{children:"Finalizando venda..."})]}),mE=({shoppingList:e,setShoppingList:t})=>{const[n,r]=ct.useState(""),[i,a]=ct.useState([]),s=ct.useRef(null),[o,l]=ct.useState(0),[h,p]=ct.useState(0),[m,g]=ct.useState(0),[d,T]=ct.useState(!1),[C,P]=ct.useState(""),[y,b]=ct.useState(""),[w,k]=ct.useState([]),[j,z]=ct.useState(0),[N,E]=ct.useState(0),[R,O]=ct.useState(0),[x,A]=ct.useState(!1),[L,Y]=ct.useState(0),[st,q]=ct.useState(!1),[Q,X]=ct.useState(!1),[J,at]=ct.useState(""),yt=localStorage.getItem("empresaId"),[M,$]=ct.useState("");X5();const Z=async At=>{var ee;let Tt=At.target.value.trim().toLowerCase();if(r(Tt),Tt===""){a([]);return}const Ut=Tt.match(/^(\d+(\.\d+)?)\*\s*(.+)$/);let Zt=1;Ut&&(Zt=parseFloat(Ut[1]),Tt=Ut[3].toLowerCase());try{const Wt=xi(yn,`Empresas/${yt}/Produtos`),ne=nc(Wt,Ro("codigo","==",Tt)),xe=await Yi(ne);if(!xe.empty){const Ve={...xe.docs[0].data(),quantity:Zt};pt(Ve,Ve.quantity||1),r(""),a([]),(ee=s.current)==null||ee.focus();return}const ie=nc(Wt,Ro("nome",">=",Tt),Ro("nome","<=",Tt+"")),be=nc(Wt,Ro("keywords","array-contains",Tt)),Ht=await Yi(ie),rn=await Yi(be),de=[];Ht.forEach(Ae=>de.push(Ae.data())),rn.forEach(Ae=>de.push(Ae.data()));const Dn=de.map(Ae=>({...Ae,quantity:Zt}));a(Dn)}catch(Wt){console.error("Erro ao buscar produtos:",Wt)}},et=At=>{if(At.key==="Enter"&&i.length>0){const Tt=i[0];pt(Tt,Tt.quantity||1)}},rt=At=>{var Zt;const Tt=n.match(/^([\d.]+)\*/),Ut=Tt?parseFloat(Tt[1]):1;Ut>0?pt(At,Ut):console.error("Quantidade inválida!"),a([]),r(""),(Zt=s.current)==null||Zt.focus()},pt=(At,Tt=1)=>{var Ut;t(Zt=>Zt.map(ee=>ee.nome===At.nome?{...ee,quantity:ee.quantity+Tt}:ee).concat(Zt.some(ee=>ee.nome===At.nome)?[]:[{nome:At.nome,preco:parseFloat(At.preco),quantity:Tt}])),a([]),r(""),(Ut=s.current)==null||Ut.focus()},gt=At=>{t(Tt=>Tt.filter((Ut,Zt)=>Zt!==At))},vt=()=>{t([]),p(0),g(0),l(0),r(""),a([])},kt=At=>{const Tt=parseFloat(At.target.value)/100;l(Tt)},Lt=()=>{const Ut=e.reduce((ee,Wt)=>ee+parseFloat(Wt.preco)*Wt.quantity,0)+h-m;return(Ut-Ut*o).toFixed(2)},Vt=()=>{T(!0)},zt=()=>{T(!1)},re=()=>{const At=localStorage.getItem("empresaId");at(At)};ct.useEffect(()=>{re()});const Et=async At=>{At.preventDefault(),X(!0);try{const Tt=localStorage.getItem("empresaId");if(!Tt){console.error("Nenhuma empresa logada."),X(!1);return}const Ut=xi(yn,`Empresas/${Tt}/Clientes`),Zt=nc(Ut,Ro("nome","==",C)),ee=await Yi(Zt);let Wt=null,ne=0;ee.empty?(Wt=C,await iu(Qr(Ut,Wt),{nome:C,nomeMinusculo:C.toLowerCase(),telefone:y,criadoEm:new Date,divida:0,dataUltimoPagamento:""})):ee.forEach(de=>{Wt=de.id,ne=de.data().divida||0});const xe=ne+parseFloat(N);await iu(Qr(Ut,Wt),{divida:xe},{merge:!0});const ie=Lt(),Ht=j,rn=e.reduce((de,Dn)=>de+Dn.quantity,0);await V6(xi(yn,`Empresas/${Tt}/Vendas`),{Lista:e,TotalVenda:parseFloat(ie),TotalItens:rn,Cliente:{id:Wt,nome:C,nomeMinusculo:C.toLowerCase(),telefone:y},Operador:J,Data:new Date,Pago:Ht,Fiado:parseFloat(N)});for(const de of e){const Dn=xi(yn,`Empresas/${Tt}/Produtos`),Ae=nc(Dn,Ro("nome","==",de.nome)),Ve=await Yi(Ae);if(!Ve.empty){const Br=Ve.docs[0],Ce=Br.data().estoque||0;await iu(Qr(Dn,Br.id),{estoque:Math.max(0,Ce-de.quantity)},{merge:!0})}}console.log("Venda salva com sucesso e estoque atualizado!"),P(""),b(""),t([]),k([]),T(!1),l(0),g(0),p(0),z(0),E(0),Y(0),O(0)}catch(Tt){console.error("Erro ao salvar a venda ou criar cliente:",Tt)}finally{X(!1)}},it=async At=>{if(P(At),At.trim()===""){k([]);return}const Tt=At.toLowerCase(),Ut=xi(yn,`Empresas/${yt}/Clientes`),Zt=nc(Ut,Ro("nomeMinusculo",">=",Tt),Ro("nomeMinusculo","<=",Tt+"")),ee=await Yi(Zt),Wt=[];ee.forEach(ne=>{Wt.push({id:ne.id,...ne.data()})}),k(Wt)},fe=At=>{P(At.nome),b(At.telefone),k([])},te=At=>{let Tt=At.target.value;if(Tt===""){z(""),E(Lt());return}if(/^(\d+(\.\d{0,2})?|\.\d{0,2})$/.test(Tt)){/^0[0-9]/.test(Tt)&&(Tt=Tt.replace(/^0+/,""));const Ut=parseFloat(Tt)||0;z(Tt),E(Lt()-Ut)}};ct.useEffect(()=>{R>j&&q(!0),N>0?A(!0):A(!1)},[]);const Ft=At=>{O(At.target.value)},Bt=()=>{R.length>0&&Y(R-j)};return ct.useEffect(()=>{Bt()}),ct.useEffect(()=>{const At=Tt=>{e.length>0&&(Tt.preventDefault(),Tt.returnValue="")};return window.addEventListener("beforeunload",At),()=>{window.removeEventListener("beforeunload",At)}},[e]),ct.useEffect(()=>{(async()=>{if(yt)try{const Tt=Qr(yn,"Empresas",yt),Ut=await Pg(Tt);Ut.exists()?$(Ut.data().nome):console.log("Empresa não encontrada")}catch(Tt){console.error("Erro ao buscar nome da empresa:",Tt)}})()},[yt]),Q?W.jsx(K9,{}):W.jsxs("div",{id:"frenteCaixaContainer",children:[W.jsx("span",{id:"companyTag",children:M}),W.jsxs("main",{id:"frenteCaixa",children:[W.jsx("section",{id:"shoppingList",children:e.map((At,Tt)=>W.jsxs("p",{className:"product",children:[At.nome," - ",At.quantity," ",At.nome==="farinha"||At.nome==="calabresa sadia kg"?"kg":"un",W.jsxs("span",{children:["R$",(At.preco*At.quantity).toFixed(2),W.jsx("button",{className:"remove-btn",onClick:()=>gt(Tt),children:W.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})]},Tt))}),W.jsxs("div",{id:"secondContainer",children:[W.jsxs("section",{id:"searchBar",children:[W.jsx("input",{type:"text",name:"searchProduct",id:"searchProduct",className:"form-control",placeholder:"Buscar produto por nome ou código",value:n,onChange:Z,onKeyDown:et,ref:s}),W.jsx("div",{id:"searchResult",children:i.map((At,Tt)=>W.jsxs("p",{className:"search-item",onClick:()=>rt(At),style:{cursor:"pointer"},children:[W.jsx("span",{children:At.nome}),W.jsxs("span",{children:["Cód: ",At.codigo]}),W.jsxs("span",{children:["R$",At.preco.toFixed(2)]})]},Tt))})]}),W.jsxs("section",{id:"checkout",children:[W.jsx("p",{id:"totalValue",children:W.jsxs("strong",{children:[W.jsx("p",{children:"VALOR TOTAL"}),W.jsxs("span",{children:["R$",Lt()]})]})}),W.jsxs("div",{id:"extraValues",children:[W.jsx("input",{className:"form-control",type:"number",name:"extraAmount",id:"extraAmount",placeholder:"Adicione valor extra",onChange:At=>p(parseFloat(At.target.value)||0)}),W.jsx("input",{className:"form-control",type:"number",name:"discountAmount",id:"discountAmount",placeholder:"Adicionar desconto",onChange:At=>g(parseFloat(At.target.value)||0)}),W.jsx("input",{className:"form-control",type:"number",name:"discount",id:"discount",placeholder:"Adicionar desconto (%)",onChange:kt})]}),W.jsxs("div",{id:"checkoutButtons",children:[W.jsx("button",{className:"btn btn-success",onClick:Vt,disabled:e.length===0,children:"Pagamento"}),W.jsx("button",{className:"btn btn-danger",onClick:vt,children:"Cancelar"})]})]})]}),d&&W.jsx("div",{id:"background",children:W.jsxs("div",{id:"saveShoppingContainer",children:[W.jsx("button",{id:"closeShop",onClick:zt,className:"material-symbols-outlined",children:"close"}),W.jsxs("div",{children:[W.jsx("h2",{children:"Venda a finalizar"}),W.jsx("div",{id:"listCheck",children:e.map((At,Tt)=>W.jsxs("li",{children:[At.quantity,"x ",At.nome]},Tt))})]}),W.jsxs("div",{children:[W.jsx("h2",{children:"Dados do Cliente"}),W.jsxs("form",{onSubmit:Et,id:"clientData",children:[W.jsxs("div",{children:[W.jsx("label",{htmlFor:"clientName",children:"Nome do Cliente"}),W.jsx("input",{className:"form-control",type:"text",name:"clientName",id:"clientName",value:C,onChange:At=>it(At.target.value),required:!0}),w.length>0&&W.jsx("ul",{className:"client-suggestions",children:w.map(At=>W.jsxs("li",{onClick:()=>fe(At),children:[At.nome," - ",At.telefone]},At.id))})]}),w.length===0&&W.jsxs("div",{children:[W.jsx("label",{htmlFor:"clientPhone",children:"Telefone do Cliente"}),W.jsx("input",{className:"form-control",type:"text",name:"clientPhone",id:"clientPhone",value:y,onChange:At=>b(At.target.value),required:!0})]}),W.jsx("label",{htmlFor:"paid",children:"Quanto o cliente vai pagar?"}),W.jsx("input",{className:"form-control",type:"text",name:"paid",id:"paid",value:j||0,onChange:te}),W.jsx("label",{htmlFor:"insertedValue",children:"Qual o valor inserido?"}),W.jsx("input",{type:"number",name:"insertedValue",id:"insertedValue",className:"form-control",value:R,onChange:Ft}),W.jsxs("p",{className:"changeValue",onChange:Bt,children:[" ",W.jsx("strong",{children:W.jsxs("i",{children:["O troco é de R$",L]})})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"noPaid",children:"O fiado será:"}),W.jsx("input",{type:"text",name:"noPaid",value:N||0,readOnly:!0,className:"form-control"})]}),W.jsx("br",{}),W.jsxs("p",{id:"calculateTotal",children:["Total: R$",Lt()]})," ",W.jsx("br",{}),W.jsx("button",{className:"btn btn-dark",type:"submit",children:"Finalizar Venda"})]})]})]})})]})]})},X9=()=>{const[e,t]=ct.useState(""),[n,r]=ct.useState(""),[i,a]=ct.useState(""),[s,o]=ct.useState(""),[l,h]=ct.useState(""),[p,m]=ct.useState(null),[g,d]=ct.useState(""),T=localStorage.getItem("empresaId"),C=b=>b.toLowerCase().match(/\w+('\w+)?/g)||[],P=async b=>(await Pg(Qr(yn,`Empresas/${T}/Produtos`,b))).exists(),y=async b=>{if(b.preventDefault(),!e||!n||!i||!s||!l){d("Por favor, preencha todos os campos.");return}const w=C(n);if(await P(l)){d("Erro: O código do produto já existe. Tente um código diferente.");return}try{await iu(Qr(yn,`Empresas/${T}/Produtos`,l),{categoria:e,nome:n,nomeMinusculo:n.toLowerCase(),preco:parseFloat(i),estoque:parseInt(s,10),codigo:l,keywords:w,keywordsMinusculo:w.map(j=>j.toLowerCase()),imagem:p}),d("Produto criado com sucesso!"),t(""),r(""),a(""),o(""),h(""),m(null)}catch(j){console.error("Erro ao criar produto:",j),j.code==="permission-denied"?d("Permissão insuficiente. Verifique as regras do Firestore."):d("Erro ao criar produto. Tente novamente.")}};return W.jsx("div",{children:W.jsxs("section",{children:[W.jsxs("form",{id:"createProduct",onSubmit:y,children:[W.jsx("label",{htmlFor:"productCategory",children:"Categoria do Produto"}),W.jsxs("select",{name:"productCategory",id:"productCategory",className:"form-control",value:e,onChange:b=>t(b.target.value),children:[W.jsx("option",{value:"",children:"Selecione uma categoria"}),W.jsx("option",{value:"alimentos",children:"Alimentos"}),W.jsx("option",{value:"bebidas",children:"Bebidas"}),W.jsx("option",{value:"higiene",children:"Higiene"}),W.jsx("option",{value:"limpeza",children:"Limpeza"}),W.jsx("option",{value:"botijão",children:"Botijão"}),W.jsx("option",{value:"pagamento",children:"Pagamento"}),W.jsx("option",{value:"utilidades",children:"Utilidades"})]}),W.jsx("label",{htmlFor:"productName",children:"Nome do Produto"}),W.jsx("input",{type:"text",name:"productName",id:"productName",placeholder:"Nome do produto",className:"form-control",value:n,onChange:b=>r(b.target.value)}),W.jsx("label",{htmlFor:"productPrice",children:"Preço Unitário"}),W.jsx("input",{type:"number",name:"productPrice",id:"productPrice",placeholder:"Preço do produto",className:"form-control",value:i,onChange:b=>a(b.target.value)}),W.jsx("label",{htmlFor:"stockQuantity",children:"Quantidade em Estoque"}),W.jsx("input",{type:"number",name:"stockQuantity",id:"stockQuantity",placeholder:"Quantidade em estoque",className:"form-control",value:s,onChange:b=>o(b.target.value)}),W.jsx("label",{htmlFor:"productCode",children:"Código do Produto"}),W.jsx("input",{type:"number",name:"productCode",id:"productCode",placeholder:"Código do produto",className:"form-control",value:l,onChange:b=>h(b.target.value)}),W.jsx("button",{className:"btn btn-dark form-control",type:"submit",children:"+ CRIAR NOVO PRODUTO"})]}),g&&W.jsx("p",{children:g})]})})},Z9=()=>{const[e,t]=ct.useState([]),[n,r]=ct.useState([]),[i,a]=ct.useState(null),[s,o]=ct.useState(!0),[l,h]=ct.useState(!1),[p,m]=ct.useState("Todos"),[g,d]=ct.useState(!1),T=localStorage.getItem("empresaId"),C=async()=>{d(!0);try{const j=xi(yn,`Empresas/${T}/Produtos`),N=(await Yi(j)).docs.map(E=>({id:E.id,...E.data()}));N.sort((E,R)=>E.nome.localeCompare(R.nome)),t(N),r(N)}catch(j){console.error("Erro ao buscar produtos:",j)}finally{d(!1)}};ct.useEffect(()=>{C()},[]);const P=j=>{m(j),r(j==="Todos"?e:e.filter(z=>z.categoria===j))},y=j=>{a(j),o(!1),h(!0)},b=()=>{o(!0),h(!1)},w=j=>j.toLowerCase().match(/\w+('\w+)?/g)||[],k=async j=>{if(j.preventDefault(),!i.categoria){alert("Por favor, selecione uma categoria válida.");return}const z=new FormData(j.target),N=w(z.get("productName")),E={categoria:z.get("productCategory"),nome:z.get("productName"),nomeMinusculo:z.get("productName").toLowerCase(),preco:parseFloat(z.get("productPrice")),estoque:parseInt(z.get("stockQuantity")),codigo:z.get("productCode"),keywords:N,keywordsMinusculo:N.map(R=>R.toLowerCase())};try{const R=Qr(yn,`Empresas/${T}/Produtos`,i.id);await iu(R,E,{merge:!0}),h(!1),o(!0),C()}catch(R){console.error("Erro ao atualizar produto:",R)}};return g?W.jsx(Bg,{}):W.jsxs("div",{id:"productsContainer",children:[W.jsx("menu",{id:"chooseCategory",children:["alimentos","bebidas","higiene","limpeza","utilidades","botijão","Todos"].map(j=>W.jsx("button",{onClick:()=>P(j),style:{backgroundColor:p===j?"black":"white",color:p===j?"white":"black",border:"1px solid black",padding:"8px 8px",cursor:"pointer"},children:j},j))}),W.jsxs("section",{id:"productsEditing",children:[s&&W.jsxs("table",{id:"productsList",children:[W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{children:"Nome"}),W.jsx("th",{children:"Código"}),W.jsx("th",{className:"priceTable",children:"Preço Unitário"}),W.jsx("th",{children:"Estoque"})]})}),W.jsx("tbody",{children:n.map(j=>W.jsxs("tr",{className:"productItem",children:[W.jsx("td",{style:{color:j.estoque<10?"red":"black"},children:j.nome}),W.jsx("td",{style:{color:j.estoque<10?"red":"black"},className:"editProduct",children:j.codigo}),W.jsx("td",{style:{color:j.estoque<10?"red":"black"},children:j.preco}),W.jsxs("td",{style:{color:j.estoque<10?"red":"black"},className:"editProduct",children:[j.estoque," ",W.jsx("span",{onClick:()=>y(j),className:"material-symbols-outlined",children:"edit"})]})]},j.id))})]}),l&&i&&W.jsxs("form",{id:"editingTool",onSubmit:k,children:[W.jsx("span",{onClick:b,className:"material-symbols-outlined",children:"close"}),W.jsx("label",{htmlFor:"productCategory",children:"Categoria do Produto"}),W.jsxs("select",{name:"productCategory",id:"productCategory",className:"form-control",value:(i==null?void 0:i.categoria)||"",onChange:j=>a({...i,categoria:j.target.value}),children:[W.jsx("option",{value:"",children:"Selecione uma categoria"}),W.jsx("option",{value:"alimentos",children:"Alimentos"}),W.jsx("option",{value:"bebidas",children:"Bebidas"}),W.jsx("option",{value:"higiene",children:"Higiene"}),W.jsx("option",{value:"limpeza",children:"Limpeza"}),W.jsx("option",{value:"utilidades",children:"Utilidades"})]}),W.jsx("label",{htmlFor:"productName",children:"Nome do Produto"}),W.jsx("input",{type:"text",name:"productName",id:"productName",defaultValue:i.nome,className:"form-control"}),W.jsx("label",{htmlFor:"productPrice",children:"Preço Unitário"}),W.jsx("input",{type:"number",name:"productPrice",id:"productPrice",defaultValue:i.preco||"",className:"form-control",step:"0.01",min:"0",required:!0}),W.jsx("label",{htmlFor:"stockQuantity",children:"Quantidade em Estoque"}),W.jsx("input",{type:"number",name:"stockQuantity",id:"stockQuantity",defaultValue:i.estoque,className:"form-control"}),W.jsx("label",{htmlFor:"productCode",children:"Código do Produto"}),W.jsx("input",{type:"text",name:"productCode",id:"productCode",defaultValue:i.codigo,className:"form-control"}),W.jsx("button",{className:"btn btn-dark form-control",type:"submit",children:"ATUALIZAR PRODUTO"})]})]})]})},J9="modulepreload",tI=function(e){return"/"+e},Ew={},B2=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=tI(l),l in Ew)return;Ew[l]=!0;const h=l.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":J9,h||(m.as="script"),m.crossOrigin="",m.href=l,o&&m.setAttribute("nonce",o),document.head.appendChild(m),h)return new Promise((g,d)=>{m.addEventListener("load",g),m.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};function Qe(e){"@babel/helpers - typeof";return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(e)}var Mr=Uint8Array,Ci=Uint16Array,Qv=Int32Array,Ug=new Mr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),zg=new Mr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),U2=new Mr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gE=function(e,t){for(var n=new Ci(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Qv(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},vE=gE(Ug,2),yE=vE.b,z2=vE.r;yE[28]=258,z2[258]=28;var bE=gE(zg,0),eI=bE.b,Tw=bE.r,q2=new Ci(32768);for(var mn=0;mn<32768;++mn){var Lo=(mn&43690)>>1|(mn&21845)<<1;Lo=(Lo&52428)>>2|(Lo&13107)<<2,Lo=(Lo&61680)>>4|(Lo&3855)<<4,q2[mn]=((Lo&65280)>>8|(Lo&255)<<8)>>1}var Xa=function(e,t,n){for(var r=e.length,i=0,a=new Ci(t);i<r;++i)e[i]&&++a[e[i]-1];var s=new Ci(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new Ci(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var h=i<<4|e[i],p=t-e[i],m=s[e[i]-1]++<<p,g=m|(1<<p)-1;m<=g;++m)o[q2[m]>>l]=h}else for(o=new Ci(r),i=0;i<r;++i)e[i]&&(o[i]=q2[s[e[i]-1]++]>>15-e[i]);return o},ml=new Mr(288);for(var mn=0;mn<144;++mn)ml[mn]=8;for(var mn=144;mn<256;++mn)ml[mn]=9;for(var mn=256;mn<280;++mn)ml[mn]=7;for(var mn=280;mn<288;++mn)ml[mn]=8;var sd=new Mr(32);for(var mn=0;mn<32;++mn)sd[mn]=5;var nI=Xa(ml,9,0),rI=Xa(ml,9,1),iI=Xa(sd,5,0),aI=Xa(sd,5,1),a0=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},pa=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},s0=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Kv=function(e){return(e+7)/8|0},_E=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Mr(e.subarray(t,n))},sI=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],va=function(e,t,n){var r=new Error(t||sI[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,va),!n)throw r;return r},oI=function(e,t,n,r){var i=e.length,a=0;if(!i||t.f&&!t.l)return n||new Mr(0);var s=!n,o=s||t.i!=2,l=t.i;s&&(n=new Mr(i*3));var h=function(Lt){var Vt=n.length;if(Lt>Vt){var zt=new Mr(Math.max(Vt*2,Lt));zt.set(n),n=zt}},p=t.f||0,m=t.p||0,g=t.b||0,d=t.l,T=t.d,C=t.m,P=t.n,y=i*8;do{if(!d){p=pa(e,m,1);var b=pa(e,m+1,3);if(m+=3,b)if(b==1)d=rI,T=aI,C=9,P=5;else if(b==2){var z=pa(e,m,31)+257,N=pa(e,m+10,15)+4,E=z+pa(e,m+5,31)+1;m+=14;for(var R=new Mr(E),O=new Mr(19),x=0;x<N;++x)O[U2[x]]=pa(e,m+x*3,7);m+=N*3;for(var A=a0(O),L=(1<<A)-1,Y=Xa(O,A,1),x=0;x<E;){var st=Y[pa(e,m,L)];m+=st&15;var w=st>>4;if(w<16)R[x++]=w;else{var q=0,Q=0;for(w==16?(Q=3+pa(e,m,3),m+=2,q=R[x-1]):w==17?(Q=3+pa(e,m,7),m+=3):w==18&&(Q=11+pa(e,m,127),m+=7);Q--;)R[x++]=q}}var X=R.subarray(0,z),J=R.subarray(z);C=a0(X),P=a0(J),d=Xa(X,C,1),T=Xa(J,P,1)}else va(1);else{var w=Kv(m)+4,k=e[w-4]|e[w-3]<<8,j=w+k;if(j>i){l&&va(0);break}o&&h(g+k),n.set(e.subarray(w,j),g),t.b=g+=k,t.p=m=j*8,t.f=p;continue}if(m>y){l&&va(0);break}}o&&h(g+131072);for(var at=(1<<C)-1,yt=(1<<P)-1,M=m;;M=m){var q=d[s0(e,m)&at],$=q>>4;if(m+=q&15,m>y){l&&va(0);break}if(q||va(2),$<256)n[g++]=$;else if($==256){M=m,d=null;break}else{var Z=$-254;if($>264){var x=$-257,et=Ug[x];Z=pa(e,m,(1<<et)-1)+yE[x],m+=et}var rt=T[s0(e,m)&yt],pt=rt>>4;rt||va(3),m+=rt&15;var J=eI[pt];if(pt>3){var et=zg[pt];J+=s0(e,m)&(1<<et)-1,m+=et}if(m>y){l&&va(0);break}o&&h(g+131072);var gt=g+Z;if(g<J){var vt=a-J,kt=Math.min(J,gt);for(vt+g<0&&va(3);g<kt;++g)n[g]=r[vt+g]}for(;g<gt;++g)n[g]=n[g-J]}}t.l=d,t.p=M,t.b=g,t.f=p,d&&(p=1,t.m=C,t.d=T,t.n=P)}while(!p);return g!=n.length&&s?_E(n,0,g):n.subarray(0,g)},Cs=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Yh=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},o0=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:AE,l:0};if(i==1){var s=new Mr(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(j,z){return j.f-z.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],h=0,p=1,m=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};p!=i-1;)o=n[n[h].f<n[m].f?h++:m++],l=n[h!=p&&n[h].f<n[m].f?h++:m++],n[p++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=a[0].s,r=1;r<i;++r)a[r].s>g&&(g=a[r].s);var d=new Ci(g+1),T=H2(n[p-1],d,0);if(T>t){var r=0,C=0,P=T-t,y=1<<P;for(a.sort(function(z,N){return d[N.s]-d[z.s]||z.f-N.f});r<i;++r){var b=a[r].s;if(d[b]>t)C+=y-(1<<T-d[b]),d[b]=t;else break}for(C>>=P;C>0;){var w=a[r].s;d[w]<t?C-=1<<t-d[w]++-1:++r}for(;r>=0&&C;--r){var k=a[r].s;d[k]==t&&(--d[k],++C)}T=t}return{t:new Mr(d),l:T}},H2=function(e,t,n){return e.s==-1?Math.max(H2(e.l,t,n+1),H2(e.r,t,n+1)):t[e.s]=n},xw=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ci(++t),r=0,i=e[0],a=1,s=function(l){n[r++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:n.subarray(0,r),n:t}},Qh=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},wE=function(e,t,n){var r=n.length,i=Kv(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},Nw=function(e,t,n,r,i,a,s,o,l,h,p){Cs(t,p++,n),++i[256];for(var m=o0(i,15),g=m.t,d=m.l,T=o0(a,15),C=T.t,P=T.l,y=xw(g),b=y.c,w=y.n,k=xw(C),j=k.c,z=k.n,N=new Ci(19),E=0;E<b.length;++E)++N[b[E]&31];for(var E=0;E<j.length;++E)++N[j[E]&31];for(var R=o0(N,7),O=R.t,x=R.l,A=19;A>4&&!O[U2[A-1]];--A);var L=h+5<<3,Y=Qh(i,ml)+Qh(a,sd)+s,st=Qh(i,g)+Qh(a,C)+s+14+3*A+Qh(N,O)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&L<=Y&&L<=st)return wE(t,p,e.subarray(l,l+h));var q,Q,X,J;if(Cs(t,p,1+(st<Y)),p+=2,st<Y){q=Xa(g,d,0),Q=g,X=Xa(C,P,0),J=C;var at=Xa(O,x,0);Cs(t,p,w-257),Cs(t,p+5,z-1),Cs(t,p+10,A-4),p+=14;for(var E=0;E<A;++E)Cs(t,p+3*E,O[U2[E]]);p+=3*A;for(var yt=[b,j],M=0;M<2;++M)for(var $=yt[M],E=0;E<$.length;++E){var Z=$[E]&31;Cs(t,p,at[Z]),p+=O[Z],Z>15&&(Cs(t,p,$[E]>>5&127),p+=$[E]>>12)}}else q=nI,Q=ml,X=iI,J=sd;for(var E=0;E<o;++E){var et=r[E];if(et>255){var Z=et>>18&31;Yh(t,p,q[Z+257]),p+=Q[Z+257],Z>7&&(Cs(t,p,et>>23&31),p+=Ug[Z]);var rt=et&31;Yh(t,p,X[rt]),p+=J[rt],rt>3&&(Yh(t,p,et>>5&8191),p+=zg[rt])}else Yh(t,p,q[et]),p+=Q[et]}return Yh(t,p,q[256]),p+Q[256]},lI=new Qv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),AE=new Mr(0),uI=function(e,t,n,r,i,a){var s=a.z||e.length,o=new Mr(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),h=a.l,p=(a.r||0)&7;if(t){p&&(l[0]=a.r>>3);for(var m=lI[t-1],g=m>>13,d=m&8191,T=(1<<n)-1,C=a.p||new Ci(32768),P=a.h||new Ci(T+1),y=Math.ceil(n/3),b=2*y,w=function(re){return(e[re]^e[re+1]<<y^e[re+2]<<b)&T},k=new Qv(25e3),j=new Ci(288),z=new Ci(32),N=0,E=0,R=a.i||0,O=0,x=a.w||0,A=0;R+2<s;++R){var L=w(R),Y=R&32767,st=P[L];if(C[Y]=st,P[L]=Y,x<=R){var q=s-R;if((N>7e3||O>24576)&&(q>423||!h)){p=Nw(e,l,0,k,j,z,E,O,A,R-A,p),O=N=E=0,A=R;for(var Q=0;Q<286;++Q)j[Q]=0;for(var Q=0;Q<30;++Q)z[Q]=0}var X=2,J=0,at=d,yt=Y-st&32767;if(q>2&&L==w(R-yt))for(var M=Math.min(g,q)-1,$=Math.min(32767,R),Z=Math.min(258,q);yt<=$&&--at&&Y!=st;){if(e[R+X]==e[R+X-yt]){for(var et=0;et<Z&&e[R+et]==e[R+et-yt];++et);if(et>X){if(X=et,J=yt,et>M)break;for(var rt=Math.min(yt,et-2),pt=0,Q=0;Q<rt;++Q){var gt=R-yt+Q&32767,vt=C[gt],kt=gt-vt&32767;kt>pt&&(pt=kt,st=gt)}}}Y=st,st=C[Y],yt+=Y-st&32767}if(J){k[O++]=268435456|z2[X]<<18|Tw[J];var Lt=z2[X]&31,Vt=Tw[J]&31;E+=Ug[Lt]+zg[Vt],++j[257+Lt],++z[Vt],x=R+X,++N}else k[O++]=e[R],++j[e[R]]}}for(R=Math.max(R,x);R<s;++R)k[O++]=e[R],++j[e[R]];p=Nw(e,l,h,k,j,z,E,O,A,R-A,p),h||(a.r=p&7|l[p/8|0]<<3,p-=7,a.h=P,a.p=C,a.i=R,a.w=x)}else{for(var R=a.w||0;R<s+h;R+=65535){var zt=R+65535;zt>=s&&(l[p/8|0]=h,zt=s),p=wE(l,p+1,e.subarray(R,zt))}a.i=s}return _E(o,0,r+Kv(p)+i)},SE=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},cI=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new Mr(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return uI(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},EE=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},hI=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=SE();i.p(t.dictionary),EE(e,2,i.d())}},fI=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&va(6,"invalid zlib data"),(e[1]>>5&1)==1&&va(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function $2(e,t){t||(t={});var n=SE();n.p(e);var r=cI(e,t,t.dictionary?6:2,4);return hI(r,t),EE(r,r.length-4,n.d()),r}function dI(e,t){return oI(e.subarray(fI(e),-4),{i:2},t,t)}var pI=typeof TextDecoder<"u"&&new TextDecoder,mI=0;try{pI.decode(AE,{stream:!0}),mI=1}catch{}var ue=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function l0(){ue.console&&typeof ue.console.log=="function"&&ue.console.log.apply(ue.console,arguments)}var en={log:l0,warn:function(e){ue.console&&(typeof ue.console.warn=="function"?ue.console.warn.apply(ue.console,arguments):l0.call(null,arguments))},error:function(e){ue.console&&(typeof ue.console.error=="function"?ue.console.error.apply(ue.console,arguments):l0(e))}};function u0(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){$l(r.response,t,n)},r.onerror=function(){en.error("could not download file")},r.send()}function Cw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ep(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Rf,G2,$l=ue.saveAs||((typeof window>"u"?"undefined":Qe(window))!=="object"||window!==ue?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ue.URL||ue.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Cw(i.href)?u0(e,t,n):Ep(i,i.target="_blank"):Ep(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ep(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Cw(e))u0(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Ep(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Qe(a)!=="object"&&(en.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return u0(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(ue.HTMLElement)||ue.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Qe(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var p=o.result;p=s?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},o.readAsDataURL(e)}else{var l=ue.URL||ue.webkitURL,h=l.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout(function(){l.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function TE(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),h=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),h.length==1&&(h="0"+h),"#"+o+l+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function c0(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=Lr(n,r,i,a,t[0],7,-680876936),a=Lr(a,n,r,i,t[1],12,-389564586),i=Lr(i,a,n,r,t[2],17,606105819),r=Lr(r,i,a,n,t[3],22,-1044525330),n=Lr(n,r,i,a,t[4],7,-176418897),a=Lr(a,n,r,i,t[5],12,1200080426),i=Lr(i,a,n,r,t[6],17,-1473231341),r=Lr(r,i,a,n,t[7],22,-45705983),n=Lr(n,r,i,a,t[8],7,1770035416),a=Lr(a,n,r,i,t[9],12,-1958414417),i=Lr(i,a,n,r,t[10],17,-42063),r=Lr(r,i,a,n,t[11],22,-1990404162),n=Lr(n,r,i,a,t[12],7,1804603682),a=Lr(a,n,r,i,t[13],12,-40341101),i=Lr(i,a,n,r,t[14],17,-1502002290),n=Dr(n,r=Lr(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Dr(a,n,r,i,t[6],9,-1069501632),i=Dr(i,a,n,r,t[11],14,643717713),r=Dr(r,i,a,n,t[0],20,-373897302),n=Dr(n,r,i,a,t[5],5,-701558691),a=Dr(a,n,r,i,t[10],9,38016083),i=Dr(i,a,n,r,t[15],14,-660478335),r=Dr(r,i,a,n,t[4],20,-405537848),n=Dr(n,r,i,a,t[9],5,568446438),a=Dr(a,n,r,i,t[14],9,-1019803690),i=Dr(i,a,n,r,t[3],14,-187363961),r=Dr(r,i,a,n,t[8],20,1163531501),n=Dr(n,r,i,a,t[13],5,-1444681467),a=Dr(a,n,r,i,t[2],9,-51403784),i=Dr(i,a,n,r,t[7],14,1735328473),n=Pr(n,r=Dr(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Pr(a,n,r,i,t[8],11,-2022574463),i=Pr(i,a,n,r,t[11],16,1839030562),r=Pr(r,i,a,n,t[14],23,-35309556),n=Pr(n,r,i,a,t[1],4,-1530992060),a=Pr(a,n,r,i,t[4],11,1272893353),i=Pr(i,a,n,r,t[7],16,-155497632),r=Pr(r,i,a,n,t[10],23,-1094730640),n=Pr(n,r,i,a,t[13],4,681279174),a=Pr(a,n,r,i,t[0],11,-358537222),i=Pr(i,a,n,r,t[3],16,-722521979),r=Pr(r,i,a,n,t[6],23,76029189),n=Pr(n,r,i,a,t[9],4,-640364487),a=Pr(a,n,r,i,t[12],11,-421815835),i=Pr(i,a,n,r,t[15],16,530742520),n=Ir(n,r=Pr(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Ir(a,n,r,i,t[7],10,1126891415),i=Ir(i,a,n,r,t[14],15,-1416354905),r=Ir(r,i,a,n,t[5],21,-57434055),n=Ir(n,r,i,a,t[12],6,1700485571),a=Ir(a,n,r,i,t[3],10,-1894986606),i=Ir(i,a,n,r,t[10],15,-1051523),r=Ir(r,i,a,n,t[1],21,-2054922799),n=Ir(n,r,i,a,t[8],6,1873313359),a=Ir(a,n,r,i,t[15],10,-30611744),i=Ir(i,a,n,r,t[6],15,-1560198380),r=Ir(r,i,a,n,t[13],21,1309151649),n=Ir(n,r,i,a,t[4],6,-145523070),a=Ir(a,n,r,i,t[11],10,-1120210379),i=Ir(i,a,n,r,t[2],15,718787259),r=Ir(r,i,a,n,t[9],21,-343485551),e[0]=Ho(n,e[0]),e[1]=Ho(r,e[1]),e[2]=Ho(i,e[2]),e[3]=Ho(a,e[3])}function qg(e,t,n,r,i,a){return t=Ho(Ho(t,e),Ho(r,a)),Ho(t<<i|t>>>32-i,n)}function Lr(e,t,n,r,i,a,s){return qg(t&n|~t&r,e,t,i,a,s)}function Dr(e,t,n,r,i,a,s){return qg(t&r|n&~r,e,t,i,a,s)}function Pr(e,t,n,r,i,a,s){return qg(t^n^r,e,t,i,a,s)}function Ir(e,t,n,r,i,a,s){return qg(n^(t|~r),e,t,i,a,s)}function xE(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)c0(r,gI(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(c0(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,c0(r,i),r}function gI(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Rf=ue.atob.bind(ue),G2=ue.btoa.bind(ue);var Rw="0123456789abcdef".split("");function vI(e){for(var t="",n=0;n<4;n++)t+=Rw[e>>8*n+4&15]+Rw[e>>8*n&15];return t}function yI(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function W2(e){return xE(e).map(yI).join("")}var bI=function(e){for(var t=0;t<e.length;t++)e[t]=vI(e[t]);return e.join("")}(xE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ho(e,t){if(bI){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Y2(e,t){var n,r,i,a;if(e!==n){for(var s=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var h=0;for(l=0;l<256;l++){var p=o[l];h=(h+p+s.charCodeAt(l))%256,o[l]=o[h],o[h]=p}n=e,r=o}else o=r;var m=t.length,g=0,d=0,T="";for(l=0;l<m;l++)d=(d+(p=o[g=(g+1)%256]))%256,o[g]=o[d],o[d]=p,s=o[(o[g]+o[d])%256],T+=String.fromCharCode(t.charCodeAt(l)^s);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Lw={print:4,modify:8,copy:16,"annot-forms":32};function pc(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(Lw.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Lw[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=W2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Y2(this.encryptionKey,this.padding)}function mc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function Dw(e){if(Qe(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var s=t[n][a];try{s[0].apply(e,r)}catch(o){ue.console&&en.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function od(e){if(!(this instanceof od))return new od(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function NE(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Bo(e,t,n,r,i){if(!(this instanceof Bo))return new Bo(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,NE.call(this,r,i)}function Xl(e,t,n,r,i){if(!(this instanceof Xl))return new Xl(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,NE.call(this,r,i)}function le(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,h="S",p=null;Qe(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),h=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,g={},d={internal:{},__private__:{}};d.__private__.PubSub=Dw;var T="1.3",C=d.__private__.getPdfVersion=function(){return T};d.__private__.setPdfVersion=function(v){T=v};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return P};var y=d.__private__.getPageFormat=function(v){return P[v]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},w=b.COMPAT;function k(){this.saveGraphicsState(),it(new Kt(Ht,0,0,-Ht,0,Cr()*Ht).toString()+" cm"),this.setFontSize(this.getFontSize()/Ht),h="n",w=b.ADVANCED}function j(){this.restoreGraphicsState(),h="S",w=b.COMPAT}var z=d.__private__.combineFontStyleAndFontWeight=function(v,F){if(v=="bold"&&F=="normal"||v=="bold"&&F==400||v=="normal"&&F=="italic"||v=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(v=F==400||F==="normal"?v==="italic"?"italic":"normal":F!=700&&F!=="bold"||v!=="normal"?(F==700?"bold":F)+""+v:"bold"),v};d.advancedAPI=function(v){var F=w===b.COMPAT;return F&&k.call(this),typeof v!="function"||(v(this),F&&j.call(this)),this},d.compatAPI=function(v){var F=w===b.ADVANCED;return F&&j.call(this),typeof v!="function"||(v(this),F&&k.call(this)),this},d.isAdvancedAPI=function(){return w===b.ADVANCED};var N,E=function(v){if(w!==b.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=d.roundToPrecision=d.__private__.roundToPrecision=function(v,F){var nt=t||F;if(isNaN(v)||isNaN(nt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(nt).replace(/0+$/,"")};N=d.hpf=d.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return R(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return R(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return R(v,16)};var O=d.f2=d.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return R(v,2)},x=d.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return R(v,3)},A=d.scale=d.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return w===b.COMPAT?v*Ht:w===b.ADVANCED?v:void 0},L=function(v){return w===b.COMPAT?Cr()-v:w===b.ADVANCED?v:void 0},Y=function(v){return A(L(v))};d.__private__.setPrecision=d.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var st,q="00000000000000000000000000000000",Q=d.__private__.getFileId=function(){return q},X=d.__private__.setFileId=function(v){return q=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(fn=new pc(p.userPermissions,p.userPassword,p.ownerPassword,q)),q};d.setFileId=function(v){return X(v),this},d.getFileId=function(){return Q()};var J=d.__private__.convertDateToPDFDate=function(v){var F=v.getTimezoneOffset(),nt=F<0?"+":"-",ot=Math.floor(Math.abs(F/60)),dt=Math.abs(F%60),xt=[nt,Z(ot),"'",Z(dt),"'"].join("");return["D:",v.getFullYear(),Z(v.getMonth()+1),Z(v.getDate()),Z(v.getHours()),Z(v.getMinutes()),Z(v.getSeconds()),xt].join("")},at=d.__private__.convertPDFDateToDate=function(v){var F=parseInt(v.substr(2,4),10),nt=parseInt(v.substr(6,2),10)-1,ot=parseInt(v.substr(8,2),10),dt=parseInt(v.substr(10,2),10),xt=parseInt(v.substr(12,2),10),Mt=parseInt(v.substr(14,2),10);return new Date(F,nt,ot,dt,xt,Mt,0)},yt=d.__private__.setCreationDate=function(v){var F;if(v===void 0&&(v=new Date),v instanceof Date)F=J(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=v}return st=F},M=d.__private__.getCreationDate=function(v){var F=st;return v==="jsDate"&&(F=at(st)),F};d.setCreationDate=function(v){return yt(v),this},d.getCreationDate=function(v){return M(v)};var $,Z=d.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},et=d.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},rt=0,pt=[],gt=[],vt=0,kt=[],Lt=[],Vt=!1,zt=gt,re=function(){rt=0,vt=0,gt=[],pt=[],kt=[],ra=Tn(),Nr=Tn()};d.__private__.setCustomOutputDestination=function(v){Vt=!0,zt=v};var Et=function(v){Vt||(zt=v)};d.__private__.resetCustomOutputDestination=function(){Vt=!1,zt=gt};var it=d.__private__.out=function(v){return v=v.toString(),vt+=v.length+1,zt.push(v),zt},fe=d.__private__.write=function(v){return it(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},te=d.__private__.getArrayBuffer=function(v){for(var F=v.length,nt=new ArrayBuffer(F),ot=new Uint8Array(nt);F--;)ot[F]=v.charCodeAt(F);return nt},Ft=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Ft};var Bt=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(v){return Bt=w===b.ADVANCED?v/Ht:v,this};var At,Tt=d.__private__.getFontSize=d.getFontSize=function(){return w===b.COMPAT?Bt:Bt*Ht},Ut=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(v){return Ut=v,this},d.__private__.getR2L=d.getR2L=function(){return Ut};var Zt,ee=d.__private__.setZoomMode=function(v){var F=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))At=v;else if(isNaN(v)){if(F.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');At=v}else At=parseInt(v,10)};d.__private__.getZoomMode=function(){return At};var Wt,ne=d.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Zt=v};d.__private__.getPageMode=function(){return Zt};var xe=d.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Wt=v};d.__private__.getLayoutMode=function(){return Wt},d.__private__.setDisplayMode=d.setDisplayMode=function(v,F,nt){return ee(v),xe(F),ne(nt),this};var ie={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(v){if(Object.keys(ie).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ie[v]},d.__private__.getDocumentProperties=function(){return ie},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(v){for(var F in ie)ie.hasOwnProperty(F)&&v[F]&&(ie[F]=v[F]);return this},d.__private__.setDocumentProperty=function(v,F){if(Object.keys(ie).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ie[v]=F};var be,Ht,rn,de,Dn,Ae={},Ve={},Br=[],Ce={},xa={},cn={},pr={},di=null,an=0,se=[],je=new Dw(d),Ii=e.hotfixes||[],Un={},Tr={},pi=[],Kt=function v(F,nt,ot,dt,xt,Mt){if(!(this instanceof v))return new v(F,nt,ot,dt,xt,Mt);isNaN(F)&&(F=1),isNaN(nt)&&(nt=0),isNaN(ot)&&(ot=0),isNaN(dt)&&(dt=1),isNaN(xt)&&(xt=0),isNaN(Mt)&&(Mt=0),this._matrix=[F,nt,ot,dt,xt,Mt]};Object.defineProperty(Kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Kt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(v)},Kt.prototype.multiply=function(v){var F=v.sx*this.sx+v.shy*this.shx,nt=v.sx*this.shy+v.shy*this.sy,ot=v.shx*this.sx+v.sy*this.shx,dt=v.shx*this.shy+v.sy*this.sy,xt=v.tx*this.sx+v.ty*this.shx+this.tx,Mt=v.tx*this.shy+v.ty*this.sy+this.ty;return new Kt(F,nt,ot,dt,xt,Mt)},Kt.prototype.decompose=function(){var v=this.sx,F=this.shy,nt=this.shx,ot=this.sy,dt=this.tx,xt=this.ty,Mt=Math.sqrt(v*v+F*F),$t=(v/=Mt)*nt+(F/=Mt)*ot;nt-=v*$t,ot-=F*$t;var c=Math.sqrt(nt*nt+ot*ot);return $t/=c,v*(ot/=c)<F*(nt/=c)&&(v=-v,F=-F,$t=-$t,Mt=-Mt),{scale:new Kt(Mt,0,0,c,0,0),translate:new Kt(1,0,0,1,dt,xt),rotate:new Kt(v,F,-F,v,0,0),skew:new Kt(1,0,$t,1,0,0)}},Kt.prototype.toString=function(v){return this.join(" ")},Kt.prototype.inversed=function(){var v=this.sx,F=this.shy,nt=this.shx,ot=this.sy,dt=this.tx,xt=this.ty,Mt=1/(v*ot-F*nt),$t=ot*Mt,c=-F*Mt,S=-nt*Mt,I=v*Mt;return new Kt($t,c,S,I,-$t*dt-S*xt,-c*dt-I*xt)},Kt.prototype.applyToPoint=function(v){var F=v.x*this.sx+v.y*this.shx+this.tx,nt=v.x*this.shy+v.y*this.sy+this.ty;return new ms(F,nt)},Kt.prototype.applyToRectangle=function(v){var F=this.applyToPoint(v),nt=this.applyToPoint(new ms(v.x+v.w,v.y+v.h));return new ho(F.x,F.y,nt.x-F.x,nt.y-F.y)},Kt.prototype.clone=function(){var v=this.sx,F=this.shy,nt=this.shx,ot=this.sy,dt=this.tx,xt=this.ty;return new Kt(v,F,nt,ot,dt,xt)},d.Matrix=Kt;var Zr=d.matrixMult=function(v,F){return F.multiply(v)},xr=new Kt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=xr;var zn=function(v,F){if(!xa[v]){var nt=(F instanceof Bo?"Sh":"P")+(Object.keys(Ce).length+1).toString(10);F.id=nt,xa[v]=nt,Ce[nt]=F,je.publish("addPattern",F)}};d.ShadingPattern=Bo,d.TilingPattern=Xl,d.addShadingPattern=function(v,F){return E("addShadingPattern()"),zn(v,F),this},d.beginTilingPattern=function(v){E("beginTilingPattern()"),fo(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},d.endTilingPattern=function(v,F){E("endTilingPattern()"),F.stream=Lt[$].join(`
`),zn(v,F),je.publish("endTilingPattern",F),pi.pop().restore()};var Pn=d.__private__.newObject=function(){var v=Tn();return qn(v,!0),v},Tn=d.__private__.newObjectDeferred=function(){return rt++,pt[rt]=function(){return vt},rt},qn=function(v,F){return F=typeof F=="boolean"&&F,pt[v]=vt,F&&it(v+" 0 obj"),v},Xs=d.__private__.newAdditionalObject=function(){var v={objId:Tn(),content:""};return kt.push(v),v},ra=Tn(),Nr=Tn(),Jr=d.__private__.decodeColorString=function(v){var F=v.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length===5&&(F[4]==="k"||F[4]==="K")&&(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var nt=parseFloat(F[0]);F=[nt,nt,nt,"r"]}for(var ot="#",dt=0;dt<3;dt++)ot+=("0"+Math.floor(255*parseFloat(F[dt])).toString(16)).slice(-2);return ot},Ur=d.__private__.encodeColorString=function(v){var F;typeof v=="string"&&(v={ch1:v});var nt=v.ch1,ot=v.ch2,dt=v.ch3,xt=v.ch4,Mt=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof nt=="string"&&nt.charAt(0)!=="#"){var $t=new TE(nt);if($t.ok)nt=$t.toHex();else if(!/^\d*\.?\d*$/.test(nt))throw new Error('Invalid color "'+nt+'" passed to jsPDF.encodeColorString.')}if(typeof nt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(nt)&&(nt="#"+nt[1]+nt[1]+nt[2]+nt[2]+nt[3]+nt[3]),typeof nt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(nt)){var c=parseInt(nt.substr(1),16);nt=c>>16&255,ot=c>>8&255,dt=255&c}if(ot===void 0||xt===void 0&&nt===ot&&ot===dt)if(typeof nt=="string")F=nt+" "+Mt[0];else switch(v.precision){case 2:F=O(nt/255)+" "+Mt[0];break;case 3:default:F=x(nt/255)+" "+Mt[0]}else if(xt===void 0||Qe(xt)==="object"){if(xt&&!isNaN(xt.a)&&xt.a===0)return F=["1.","1.","1.",Mt[1]].join(" ");if(typeof nt=="string")F=[nt,ot,dt,Mt[1]].join(" ");else switch(v.precision){case 2:F=[O(nt/255),O(ot/255),O(dt/255),Mt[1]].join(" ");break;default:case 3:F=[x(nt/255),x(ot/255),x(dt/255),Mt[1]].join(" ")}}else if(typeof nt=="string")F=[nt,ot,dt,xt,Mt[2]].join(" ");else switch(v.precision){case 2:F=[O(nt),O(ot),O(dt),O(xt),Mt[2]].join(" ");break;case 3:default:F=[x(nt),x(ot),x(dt),x(xt),Mt[2]].join(" ")}return F},zr=d.__private__.getFilters=function(){return s},In=d.__private__.putStream=function(v){var F=(v=v||{}).data||"",nt=v.filters||zr(),ot=v.alreadyAppliedFilters||[],dt=v.addLength1||!1,xt=F.length,Mt=v.objectId,$t=function(me){return me};if(p!==null&&Mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&($t=fn.encryptor(Mt,0));var c={};nt===!0&&(nt=["FlateEncode"]);var S=v.additionalKeyValues||[],I=(c=le.API.processDataByFilters!==void 0?le.API.processDataByFilters(F,nt):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(ot)?ot.join(" "):ot.toString());if(c.data.length!==0&&(S.push({key:"Length",value:c.data.length}),dt===!0&&S.push({key:"Length1",value:xt})),I.length!=0)if(I.split("/").length-1==1)S.push({key:"Filter",value:I});else{S.push({key:"Filter",value:"["+I+"]"});for(var H=0;H<S.length;H+=1)if(S[H].key==="DecodeParms"){for(var ft=[],wt=0;wt<c.reverseChain.split("/").length-1;wt+=1)ft.push("null");ft.push(S[H].value),S[H].value="["+ft.join(" ")+"]"}}it("<<");for(var jt=0;jt<S.length;jt++)it("/"+S[jt].key+" "+S[jt].value);it(">>"),c.data.length!==0&&(it("stream"),it($t(c.data)),it("endstream"))},mi=d.__private__.putPage=function(v){var F=v.number,nt=v.data,ot=v.objId,dt=v.contentsObjId;qn(ot,!0),it("<</Type /Page"),it("/Parent "+v.rootDictionaryObjId+" 0 R"),it("/Resources "+v.resourceDictionaryObjId+" 0 R"),it("/MediaBox ["+parseFloat(N(v.mediaBox.bottomLeftX))+" "+parseFloat(N(v.mediaBox.bottomLeftY))+" "+N(v.mediaBox.topRightX)+" "+N(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&it("/CropBox ["+N(v.cropBox.bottomLeftX)+" "+N(v.cropBox.bottomLeftY)+" "+N(v.cropBox.topRightX)+" "+N(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&it("/BleedBox ["+N(v.bleedBox.bottomLeftX)+" "+N(v.bleedBox.bottomLeftY)+" "+N(v.bleedBox.topRightX)+" "+N(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&it("/TrimBox ["+N(v.trimBox.bottomLeftX)+" "+N(v.trimBox.bottomLeftY)+" "+N(v.trimBox.topRightX)+" "+N(v.trimBox.topRightY)+"]"),v.artBox!==null&&it("/ArtBox ["+N(v.artBox.bottomLeftX)+" "+N(v.artBox.bottomLeftY)+" "+N(v.artBox.topRightX)+" "+N(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&it("/UserUnit "+v.userUnit),je.publish("putPage",{objId:ot,pageContext:se[F],pageNumber:F,page:nt}),it("/Contents "+dt+" 0 R"),it(">>"),it("endobj");var xt=nt.join(`
`);return w===b.ADVANCED&&(xt+=`
Q`),qn(dt,!0),In({data:xt,filters:zr(),objectId:dt}),it("endobj"),ot},Na=d.__private__.putPages=function(){var v,F,nt=[];for(v=1;v<=an;v++)se[v].objId=Tn(),se[v].contentsObjId=Tn();for(v=1;v<=an;v++)nt.push(mi({number:v,data:Lt[v],objId:se[v].objId,contentsObjId:se[v].contentsObjId,mediaBox:se[v].mediaBox,cropBox:se[v].cropBox,bleedBox:se[v].bleedBox,trimBox:se[v].trimBox,artBox:se[v].artBox,userUnit:se[v].userUnit,rootDictionaryObjId:ra,resourceDictionaryObjId:Nr}));qn(ra,!0),it("<</Type /Pages");var ot="/Kids [";for(F=0;F<an;F++)ot+=nt[F]+" 0 R ";it(ot+"]"),it("/Count "+an),it(">>"),it("endobj"),je.publish("postPutPages")},Ca=function(v){je.publish("putFont",{font:v,out:it,newObject:Pn,putStream:In}),v.isAlreadyPutted!==!0&&(v.objectNumber=Pn(),it("<<"),it("/Type /Font"),it("/BaseFont /"+mc(v.postScriptName)),it("/Subtype /Type1"),typeof v.encoding=="string"&&it("/Encoding /"+v.encoding),it("/FirstChar 32"),it("/LastChar 255"),it(">>"),it("endobj"))},Ra=function(){for(var v in Ae)Ae.hasOwnProperty(v)&&(m===!1||m===!0&&g.hasOwnProperty(v))&&Ca(Ae[v])},ss=function(v){v.objectNumber=Pn();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[N(v.x),N(v.y),N(v.x+v.width),N(v.y+v.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var nt=v.pages[1].join(`
`);In({data:nt,additionalKeyValues:F,objectId:v.objectNumber}),it("endobj")},os=function(){for(var v in Un)Un.hasOwnProperty(v)&&ss(Un[v])},Lu=function(v,F){var nt,ot=[],dt=1/(F-1);for(nt=0;nt<1;nt+=dt)ot.push(nt);if(ot.push(1),v[0].offset!=0){var xt={offset:0,color:v[0].color};v.unshift(xt)}if(v[v.length-1].offset!=1){var Mt={offset:1,color:v[v.length-1].color};v.push(Mt)}for(var $t="",c=0,S=0;S<ot.length;S++){for(nt=ot[S];nt>v[c+1].offset;)c++;var I=v[c].offset,H=(nt-I)/(v[c+1].offset-I),ft=v[c].color,wt=v[c+1].color;$t+=et(Math.round((1-H)*ft[0]+H*wt[0]).toString(16))+et(Math.round((1-H)*ft[1]+H*wt[1]).toString(16))+et(Math.round((1-H)*ft[2]+H*wt[2]).toString(16))}return $t.trim()},Zs=function(v,F){F||(F=21);var nt=Pn(),ot=Lu(v.colors,F),dt=[];dt.push({key:"FunctionType",value:"0"}),dt.push({key:"Domain",value:"[0.0 1.0]"}),dt.push({key:"Size",value:"["+F+"]"}),dt.push({key:"BitsPerSample",value:"8"}),dt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),dt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),In({data:ot,additionalKeyValues:dt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:nt}),it("endobj"),v.objectNumber=Pn(),it("<< /ShadingType "+v.type),it("/ColorSpace /DeviceRGB");var xt="/Coords ["+N(parseFloat(v.coords[0]))+" "+N(parseFloat(v.coords[1]))+" ";v.type===2?xt+=N(parseFloat(v.coords[2]))+" "+N(parseFloat(v.coords[3])):xt+=N(parseFloat(v.coords[2]))+" "+N(parseFloat(v.coords[3]))+" "+N(parseFloat(v.coords[4]))+" "+N(parseFloat(v.coords[5])),it(xt+="]"),v.matrix&&it("/Matrix ["+v.matrix.toString()+"]"),it("/Function "+nt+" 0 R"),it("/Extend [true true]"),it(">>"),it("endobj")},Du=function(v,F){var nt=Tn(),ot=Pn();F.push({resourcesOid:nt,objectOid:ot}),v.objectNumber=ot;var dt=[];dt.push({key:"Type",value:"/Pattern"}),dt.push({key:"PatternType",value:"1"}),dt.push({key:"PaintType",value:"1"}),dt.push({key:"TilingType",value:"1"}),dt.push({key:"BBox",value:"["+v.boundingBox.map(N).join(" ")+"]"}),dt.push({key:"XStep",value:N(v.xStep)}),dt.push({key:"YStep",value:N(v.yStep)}),dt.push({key:"Resources",value:nt+" 0 R"}),v.matrix&&dt.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),In({data:v.stream,additionalKeyValues:dt,objectId:v.objectNumber}),it("endobj")},La=function(v){var F;for(F in Ce)Ce.hasOwnProperty(F)&&(Ce[F]instanceof Bo?Zs(Ce[F]):Ce[F]instanceof Xl&&Du(Ce[F],v))},Da=function(v){for(var F in v.objectNumber=Pn(),it("<<"),v)switch(F){case"opacity":it("/ca "+O(v[F]));break;case"stroke-opacity":it("/CA "+O(v[F]))}it(">>"),it("endobj")},ia=function(){var v;for(v in cn)cn.hasOwnProperty(v)&&Da(cn[v])},ls=function(){for(var v in it("/XObject <<"),Un)Un.hasOwnProperty(v)&&Un[v].objectNumber>=0&&it("/"+v+" "+Un[v].objectNumber+" 0 R");je.publish("putXobjectDict"),it(">>")},wh=function(){fn.oid=Pn(),it("<<"),it("/Filter /Standard"),it("/V "+fn.v),it("/R "+fn.r),it("/U <"+fn.toHexString(fn.U)+">"),it("/O <"+fn.toHexString(fn.O)+">"),it("/P "+fn.P),it(">>"),it("endobj")},wl=function(){for(var v in it("/Font <<"),Ae)Ae.hasOwnProperty(v)&&(m===!1||m===!0&&g.hasOwnProperty(v))&&it("/"+v+" "+Ae[v].objectNumber+" 0 R");it(">>")},Pu=function(){if(Object.keys(Ce).length>0){for(var v in it("/Shading <<"),Ce)Ce.hasOwnProperty(v)&&Ce[v]instanceof Bo&&Ce[v].objectNumber>=0&&it("/"+v+" "+Ce[v].objectNumber+" 0 R");je.publish("putShadingPatternDict"),it(">>")}},us=function(v){if(Object.keys(Ce).length>0){for(var F in it("/Pattern <<"),Ce)Ce.hasOwnProperty(F)&&Ce[F]instanceof d.TilingPattern&&Ce[F].objectNumber>=0&&Ce[F].objectNumber<v&&it("/"+F+" "+Ce[F].objectNumber+" 0 R");je.publish("putTilingPatternDict"),it(">>")}},Al=function(){if(Object.keys(cn).length>0){var v;for(v in it("/ExtGState <<"),cn)cn.hasOwnProperty(v)&&cn[v].objectNumber>=0&&it("/"+v+" "+cn[v].objectNumber+" 0 R");je.publish("putGStateDict"),it(">>")}},hn=function(v){qn(v.resourcesOid,!0),it("<<"),it("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),wl(),Pu(),us(v.objectOid),Al(),ls(),it(">>"),it("endobj")},Sl=function(){var v=[];Ra(),ia(),os(),La(v),je.publish("putResources"),v.forEach(hn),hn({resourcesOid:Nr,objectOid:Number.MAX_SAFE_INTEGER}),je.publish("postPutResources")},El=function(){je.publish("putAdditionalObjects");for(var v=0;v<kt.length;v++){var F=kt[v];qn(F.objId,!0),it(F.content),it("endobj")}je.publish("postPutAdditionalObjects")},Iu=function(v){Ve[v.fontName]=Ve[v.fontName]||{},Ve[v.fontName][v.fontStyle]=v.id},Tl=function(v,F,nt,ot,dt){var xt={id:"F"+(Object.keys(Ae).length+1).toString(10),postScriptName:v,fontName:F,fontStyle:nt,encoding:ot,isStandardFont:dt||!1,metadata:{}};return je.publish("addFont",{font:xt,instance:this}),Ae[xt.id]=xt,Iu(xt),xt.id},Ou=function(v){for(var F=0,nt=Ft.length;F<nt;F++){var ot=Tl.call(this,v[F][0],v[F][1],v[F][2],Ft[F][3],!0);m===!1&&(g[ot]=!0);var dt=v[F][0].split("-");Iu({id:ot,fontName:dt[0],fontStyle:dt[1]||""})}je.publish("addFonts",{fonts:Ae,dictionary:Ve})},ti=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(ot){var F=ot.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var nt="Error in function "+F.split(`
`)[0].split("<")[0]+": "+ot.message;if(!ue.console)throw new Error(nt);ue.console.error(nt,ot),ue.alert&&alert(nt)}},v.foo.bar=v,v.foo},Js=function(v,F){var nt,ot,dt,xt,Mt,$t,c,S,I;if(dt=(F=F||{}).sourceEncoding||"Unicode",Mt=F.outputEncoding,(F.autoencode||Mt)&&Ae[be].metadata&&Ae[be].metadata[dt]&&Ae[be].metadata[dt].encoding&&(xt=Ae[be].metadata[dt].encoding,!Mt&&Ae[be].encoding&&(Mt=Ae[be].encoding),!Mt&&xt.codePages&&(Mt=xt.codePages[0]),typeof Mt=="string"&&(Mt=xt[Mt]),Mt)){for(c=!1,$t=[],nt=0,ot=v.length;nt<ot;nt++)(S=Mt[v.charCodeAt(nt)])?$t.push(String.fromCharCode(S)):$t.push(v[nt]),$t[nt].charCodeAt(0)>>8&&(c=!0);v=$t.join("")}for(nt=v.length;c===void 0&&nt!==0;)v.charCodeAt(nt-1)>>8&&(c=!0),nt--;if(!c)return v;for($t=F.noBOM?[]:[254,255],nt=0,ot=v.length;nt<ot;nt++){if((I=(S=v.charCodeAt(nt))>>8)>>8)throw new Error("Character at position "+nt+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$t.push(I),$t.push(S-(I<<8))}return String.fromCharCode.apply(void 0,$t)},xn=d.__private__.pdfEscape=d.pdfEscape=function(v,F){return Js(v,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qr=d.__private__.beginPage=function(v){Lt[++an]=[],se[an]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},xl(an),Et(Lt[$])},cs=function(v,F){var nt,ot,dt;switch(n=F||n,typeof v=="string"&&(nt=y(v.toLowerCase()),Array.isArray(nt)&&(ot=nt[0],dt=nt[1])),Array.isArray(v)&&(ot=v[0]*Ht,dt=v[1]*Ht),isNaN(ot)&&(ot=i[0],dt=i[1]),(ot>14400||dt>14400)&&(en.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ot=Math.min(14400,ot),dt=Math.min(14400,dt)),i=[ot,dt],n.substr(0,1)){case"l":dt>ot&&(i=[dt,ot]);break;case"p":ot>dt&&(i=[dt,ot])}qr(i),Dl(Ll),it(mr),Ol!==0&&it(Ol+" J"),co!==0&&it(co+" j"),je.publish("addPage",{pageNumber:an})},to=function(v){v>0&&v<=an&&(Lt.splice(v,1),se.splice(v,1),an--,$>an&&($=an),this.setPage($))},xl=function(v){v>0&&v<=an&&($=v)},Ge=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Lt.length-1},hs=function(v,F,nt){var ot,dt=void 0;return nt=nt||{},v=v!==void 0?v:Ae[be].fontName,F=F!==void 0?F:Ae[be].fontStyle,ot=v.toLowerCase(),Ve[ot]!==void 0&&Ve[ot][F]!==void 0?dt=Ve[ot][F]:Ve[v]!==void 0&&Ve[v][F]!==void 0?dt=Ve[v][F]:nt.disableWarning===!1&&en.warn("Unable to look up font label for font '"+v+"', '"+F+"'. Refer to getFontList() for available fonts."),dt||nt.noFallback||(dt=Ve.times[F])==null&&(dt=Ve.times.normal),dt},fs=d.__private__.putInfo=function(){var v=Pn(),F=function(ot){return ot};for(var nt in p!==null&&(F=fn.encryptor(v,0)),it("<<"),it("/Producer ("+xn(F("jsPDF "+le.version))+")"),ie)ie.hasOwnProperty(nt)&&ie[nt]&&it("/"+nt.substr(0,1).toUpperCase()+nt.substr(1)+" ("+xn(F(ie[nt]))+")");it("/CreationDate ("+xn(F(st))+")"),it(">>"),it("endobj")},aa=d.__private__.putCatalog=function(v){var F=(v=v||{}).rootDictionaryObjId||ra;switch(Pn(),it("<<"),it("/Type /Catalog"),it("/Pages "+F+" 0 R"),At||(At="fullwidth"),At){case"fullwidth":it("/OpenAction [3 0 R /FitH null]");break;case"fullheight":it("/OpenAction [3 0 R /FitV null]");break;case"fullpage":it("/OpenAction [3 0 R /Fit]");break;case"original":it("/OpenAction [3 0 R /XYZ null null 1]");break;default:var nt=""+At;nt.substr(nt.length-1)==="%"&&(At=parseInt(At)/100),typeof At=="number"&&it("/OpenAction [3 0 R /XYZ null null "+O(At)+"]")}switch(Wt||(Wt="continuous"),Wt){case"continuous":it("/PageLayout /OneColumn");break;case"single":it("/PageLayout /SinglePage");break;case"two":case"twoleft":it("/PageLayout /TwoColumnLeft");break;case"tworight":it("/PageLayout /TwoColumnRight")}Zt&&it("/PageMode /"+Zt),je.publish("putCatalog"),it(">>"),it("endobj")},Ah=d.__private__.putTrailer=function(){it("trailer"),it("<<"),it("/Size "+(rt+1)),it("/Root "+rt+" 0 R"),it("/Info "+(rt-1)+" 0 R"),p!==null&&it("/Encrypt "+fn.oid+" 0 R"),it("/ID [ <"+q+"> <"+q+"> ]"),it(">>")},ku=d.__private__.putHeader=function(){it("%PDF-"+T),it("%ºß¬à")},Sh=d.__private__.putXRef=function(){var v="0000000000";it("xref"),it("0 "+(rt+1)),it("0000000000 65535 f ");for(var F=1;F<=rt;F++)typeof pt[F]=="function"?it((v+pt[F]()).slice(-10)+" 00000 n "):pt[F]!==void 0?it((v+pt[F]).slice(-10)+" 00000 n "):it("0000000000 00000 n ")},sa=d.__private__.buildDocument=function(){re(),Et(gt),je.publish("buildDocument"),ku(),Na(),El(),Sl(),p!==null&&wh(),fs(),aa();var v=vt;return Sh(),Ah(),it("startxref"),it(""+v),it("%%EOF"),Et(Lt[$]),gt.join(`
`)},eo=d.__private__.getBlob=function(v){return new Blob([te(v)],{type:"application/pdf"})},no=d.output=d.__private__.output=ti(function(v,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",v){case void 0:return sa();case"save":d.save(F.filename);break;case"arraybuffer":return te(sa());case"blob":return eo(sa());case"bloburi":case"bloburl":if(ue.URL!==void 0&&typeof ue.URL.createObjectURL=="function")return ue.URL&&ue.URL.createObjectURL(eo(sa()))||void 0;en.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var nt="",ot=sa();try{nt=G2(ot)}catch{nt=G2(unescape(encodeURIComponent(ot)))}return"data:application/pdf;filename="+F.filename+";base64,"+nt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ue)==="[object Window]"){var dt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(dt=F.pdfObjectUrl,xt="");var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+dt+'"'+xt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",$t=ue.open();return $t!==null&&$t.document.write(Mt),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ue)==="[object Window]"){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',S=ue.open();if(S!==null){S.document.write(c);var I=this;S.document.documentElement.querySelector("#pdfViewer").onload=function(){S.document.title=F.filename,S.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(I.output("bloburl"))}}return S}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ue)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var H='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',ft=ue.open();if(ft!==null&&(ft.document.write(H),ft.document.title=F.filename),ft||typeof safari>"u")return ft;break;case"datauri":case"dataurl":return ue.document.location.href=this.output("datauristring",F);default:return null}}),Pa=function(v){return Array.isArray(Ii)===!0&&Ii.indexOf(v)>-1};switch(r){case"pt":Ht=1;break;case"mm":Ht=72/25.4;break;case"cm":Ht=72/2.54;break;case"in":Ht=72;break;case"px":Ht=Pa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ht=12;break;case"ex":Ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ht=r}var fn=null;yt(),X();var Mu=function(v){return p!==null?fn.encryptor(v,0):function(F){return F}},Nl=d.__private__.getPageInfo=d.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:se[v].objId,pageNumber:v,pageContext:se[v]}},ce=d.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in se)if(se[F].objId===v)break;return Nl(F)},Ia=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:se[$].objId,pageNumber:$,pageContext:se[$]}};d.addPage=function(){return cs.apply(this,arguments),this},d.setPage=function(){return xl.apply(this,arguments),Et.call(this,Lt[$]),this},d.insertPage=function(v){return this.addPage(),this.movePage($,v),this},d.movePage=function(v,F){var nt,ot;if(v>F){nt=Lt[v],ot=se[v];for(var dt=v;dt>F;dt--)Lt[dt]=Lt[dt-1],se[dt]=se[dt-1];Lt[F]=nt,se[F]=ot,this.setPage(F)}else if(v<F){nt=Lt[v],ot=se[v];for(var xt=v;xt<F;xt++)Lt[xt]=Lt[xt+1],se[xt]=se[xt+1];Lt[F]=nt,se[F]=ot,this.setPage(F)}return this},d.deletePage=function(){return to.apply(this,arguments),this},d.__private__.text=d.text=function(v,F,nt,ot,dt){var xt,Mt,$t,c,S,I,H,ft,wt,jt=(ot=ot||{}).scope||this;if(typeof v=="number"&&typeof F=="number"&&(typeof nt=="string"||Array.isArray(nt))){var me=nt;nt=F,F=v,v=me}if(arguments[3]instanceof Kt?(E("The transform parameter of text() with a Matrix value"),wt=dt):($t=arguments[4],c=arguments[5],Qe(H=arguments[3])==="object"&&H!==null||(typeof $t=="string"&&(c=$t,$t=null),typeof H=="string"&&(c=H,H=null),typeof H=="number"&&($t=H,H=null),ot={flags:H,angle:$t,align:c})),isNaN(F)||isNaN(nt)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return jt;var Re="",ge=!1,qe=typeof ot.lineHeightFactor=="number"?ot.lineHeightFactor:ze,Je=jt.internal.scaleFactor;function ha(sn){return sn=sn.split("	").join(Array(ot.TabLen||9).join(" ")),xn(sn,H)}function gr(sn){for(var on,kn=sn.concat(),Jn=[],_s=kn.length;_s--;)typeof(on=kn.shift())=="string"?Jn.push(on):Array.isArray(sn)&&(on.length===1||on[1]===void 0&&on[2]===void 0)?Jn.push(on[0]):Jn.push([on[0],on[1],on[2]]);return Jn}function ja(sn,on){var kn;if(typeof sn=="string")kn=on(sn)[0];else if(Array.isArray(sn)){for(var Jn,_s,Ph=sn.concat(),Qu=[],Od=Ph.length;Od--;)typeof(Jn=Ph.shift())=="string"?Qu.push(on(Jn)[0]):Array.isArray(Jn)&&typeof Jn[0]=="string"&&(_s=on(Jn[0],Jn[1],Jn[2]),Qu.push([_s[0],_s[1],_s[2]]));kn=Qu}return kn}var Fa=!1,Th=!0;if(typeof v=="string")Fa=!0;else if(Array.isArray(v)){var xh=v.concat();Mt=[];for(var Uu,vr=xh.length;vr--;)(typeof(Uu=xh.shift())!="string"||Array.isArray(Uu)&&typeof Uu[0]!="string")&&(Th=!1);Fa=Th}if(Fa===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var zu=Bt/jt.internal.scaleFactor,qu=zu*(qe-1);switch(ot.baseline){case"bottom":nt-=qu;break;case"top":nt+=zu-qu;break;case"hanging":nt+=zu-2*qu;break;case"middle":nt+=zu/2-qu}if((I=ot.maxWidth||0)>0&&(typeof v=="string"?v=jt.splitTextToSize(v,I):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(sn,on){return sn.concat(jt.splitTextToSize(on,I))},[]))),xt={text:v,x:F,y:nt,options:ot,mutex:{pdfEscape:xn,activeFontKey:be,fonts:Ae,activeFontSize:Bt}},je.publish("preProcessText",xt),v=xt.text,$t=(ot=xt.options).angle,!(wt instanceof Kt)&&$t&&typeof $t=="number"){$t*=Math.PI/180,ot.rotationDirection===0&&($t=-$t),w===b.ADVANCED&&($t=-$t);var Hu=Math.cos($t),Nh=Math.sin($t);wt=new Kt(Hu,Nh,-Nh,Hu,0,0)}else $t&&$t instanceof Kt&&(wt=$t);w!==b.ADVANCED||wt||(wt=xr),(S=ot.charSpace||ps)!==void 0&&(Re+=N(A(S))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ft=ot.horizontalScale)!==void 0&&(Re+=N(100*ft)+` Tz
`),ot.lang;var ei=-1,Hg=ot.renderingMode!==void 0?ot.renderingMode:ot.stroke,Ch=jt.internal.getCurrentPageInfo().pageContext;switch(Hg){case 0:case!1:case"fill":ei=0;break;case 1:case!0:case"stroke":ei=1;break;case 2:case"fillThenStroke":ei=2;break;case 3:case"invisible":ei=3;break;case 4:case"fillAndAddForClipping":ei=4;break;case 5:case"strokeAndAddPathForClipping":ei=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ei=6;break;case 7:case"addToPathForClipping":ei=7}var Ld=Ch.usedRenderingMode!==void 0?Ch.usedRenderingMode:-1;ei!==-1?Re+=ei+` Tr
`:Ld!==-1&&(Re+=`0 Tr
`),ei!==-1&&(Ch.usedRenderingMode=ei),c=ot.align||"left";var ki,$u=Bt*qe,Dd=jt.internal.pageSize.getWidth(),Pd=Ae[be];S=ot.charSpace||ps,I=ot.maxWidth||0,H=Object.assign({autoencode:!0,noBOM:!0},ot.flags);var go=[],kl=function(sn){return jt.getStringUnitWidth(sn,{font:Pd,charSpace:S,fontSize:Bt,doKerning:!1})*Bt/Je};if(Object.prototype.toString.call(v)==="[object Array]"){var ni;Mt=gr(v),c!=="left"&&(ki=Mt.map(kl));var Hr,vo=0;if(c==="right"){F-=ki[0],v=[],vr=Mt.length;for(var vs=0;vs<vr;vs++)vs===0?(Hr=yi(F),ni=Zn(nt)):(Hr=A(vo-ki[vs]),ni=-$u),v.push([Mt[vs],Hr,ni]),vo=ki[vs]}else if(c==="center"){F-=ki[0]/2,v=[],vr=Mt.length;for(var ys=0;ys<vr;ys++)ys===0?(Hr=yi(F),ni=Zn(nt)):(Hr=A((vo-ki[ys])/2),ni=-$u),v.push([Mt[ys],Hr,ni]),vo=ki[ys]}else if(c==="left"){v=[],vr=Mt.length;for(var Gu=0;Gu<vr;Gu++)v.push(Mt[Gu])}else if(c==="justify"&&Pd.encoding==="Identity-H"){v=[],vr=Mt.length,I=I!==0?I:Dd;for(var bs=0,On=0;On<vr;On++)if(ni=On===0?Zn(nt):-$u,Hr=On===0?yi(F):bs,On<vr-1){var Rh=A((I-ki[On])/(Mt[On].split(" ").length-1)),$r=Mt[On].split(" ");v.push([$r[0]+" ",Hr,ni]),bs=0;for(var Mi=1;Mi<$r.length;Mi++){var Wu=(kl($r[Mi-1]+" "+$r[Mi])-kl($r[Mi]))*Je+Rh;Mi==$r.length-1?v.push([$r[Mi],Wu,0]):v.push([$r[Mi]+" ",Wu,0]),bs-=Wu}}else v.push([Mt[On],Hr,ni]);v.push(["",bs,0])}else{if(c!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],vr=Mt.length,I=I!==0?I:Dd,On=0;On<vr;On++)ni=On===0?Zn(nt):-$u,Hr=On===0?yi(F):0,On<vr-1?go.push(N(A((I-ki[On])/(Mt[On].split(" ").length-1)))):go.push(0),v.push([Mt[On],Hr,ni])}}var Id=typeof ot.R2L=="boolean"?ot.R2L:Ut;Id===!0&&(v=ja(v,function(sn,on,kn){return[sn.split("").reverse().join(""),on,kn]})),xt={text:v,x:F,y:nt,options:ot,mutex:{pdfEscape:xn,activeFontKey:be,fonts:Ae,activeFontSize:Bt}},je.publish("postProcessText",xt),v=xt.text,ge=xt.mutex.isHex||!1;var Lh=Ae[be].encoding;Lh!=="WinAnsiEncoding"&&Lh!=="StandardEncoding"||(v=ja(v,function(sn,on,kn){return[ha(sn),on,kn]})),Mt=gr(v),v=[];for(var Ml,jl,yo,Fl=0,Yu=1,Vl=Array.isArray(Mt[0])?Yu:Fl,bo="",Dh=function(sn,on,kn){var Jn="";return kn instanceof Kt?(kn=typeof ot.angle=="number"?Zr(kn,new Kt(1,0,0,1,sn,on)):Zr(new Kt(1,0,0,1,sn,on),kn),w===b.ADVANCED&&(kn=Zr(new Kt(1,0,0,-1,0,0),kn)),Jn=kn.join(" ")+` Tm
`):Jn=N(sn)+" "+N(on)+` Td
`,Jn},ji=0;ji<Mt.length;ji++){switch(bo="",Vl){case Yu:yo=(ge?"<":"(")+Mt[ji][0]+(ge?">":")"),Ml=parseFloat(Mt[ji][1]),jl=parseFloat(Mt[ji][2]);break;case Fl:yo=(ge?"<":"(")+Mt[ji]+(ge?">":")"),Ml=yi(F),jl=Zn(nt)}go!==void 0&&go[ji]!==void 0&&(bo=go[ji]+` Tw
`),ji===0?v.push(bo+Dh(Ml,jl,wt)+yo):Vl===Fl?v.push(bo+yo):Vl===Yu&&v.push(bo+Dh(Ml,jl,wt)+yo)}v=Vl===Fl?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Fi=`BT
/`;return Fi+=be+" "+Bt+` Tf
`,Fi+=N(Bt*qe)+` TL
`,Fi+=ua+`
`,Fi+=Re,Fi+=v,it(Fi+="ET"),g[be]=!0,jt};var Eh=d.__private__.clip=d.clip=function(v){return it(v==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Eh("evenodd")},d.__private__.discardPath=d.discardPath=function(){return it("n"),this};var Oi=d.__private__.isValidStyle=function(v){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(F=!0),F};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(v){return Oi(v)&&(h=v),this};var ju=d.__private__.getStyle=d.getStyle=function(v){var F=h;switch(v){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=v}return F},gi=d.close=function(){return it("h"),this};d.stroke=function(){return it("S"),this},d.fill=function(v){return ro("f",v),this},d.fillEvenOdd=function(v){return ro("f*",v),this},d.fillStroke=function(v){return ro("B",v),this},d.fillStrokeEvenOdd=function(v){return ro("B*",v),this};var ro=function(v,F){Qe(F)==="object"?ao(F,v):it(v)},Cl=function(v){v===null||w===b.ADVANCED&&v===void 0||(v=ju(v),it(v))};function io(v,F,nt,ot,dt){var xt=new Xl(F||this.boundingBox,nt||this.xStep,ot||this.yStep,this.gState,dt||this.matrix);xt.stream=this.stream;var Mt=v+"$$"+this.cloneIndex+++"$$";return zn(Mt,xt),xt}var ao=function(v,F){var nt=xa[v.key],ot=Ce[nt];if(ot instanceof Bo)it("q"),it(Fu(F)),ot.gState&&d.setGState(ot.gState),it(v.matrix.toString()+" cm"),it("/"+nt+" sh"),it("Q");else if(ot instanceof Xl){var dt=new Kt(1,0,0,-1,0,Cr());v.matrix&&(dt=dt.multiply(v.matrix||xr),nt=io.call(ot,v.key,v.boundingBox,v.xStep,v.yStep,dt).id),it("q"),it("/Pattern cs"),it("/"+nt+" scn"),ot.gState&&d.setGState(ot.gState),it(F),it("Q")}},Fu=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},oa=d.moveTo=function(v,F){return it(N(A(v))+" "+N(Y(F))+" m"),this},vi=d.lineTo=function(v,F){return it(N(A(v))+" "+N(Y(F))+" l"),this},la=d.curveTo=function(v,F,nt,ot,dt,xt){return it([N(A(v)),N(Y(F)),N(A(nt)),N(Y(ot)),N(A(dt)),N(Y(xt)),"c"].join(" ")),this};d.__private__.line=d.line=function(v,F,nt,ot,dt){if(isNaN(v)||isNaN(F)||isNaN(nt)||isNaN(ot)||!Oi(dt))throw new Error("Invalid arguments passed to jsPDF.line");return w===b.COMPAT?this.lines([[nt-v,ot-F]],v,F,[1,1],dt||"S"):this.lines([[nt-v,ot-F]],v,F,[1,1]).stroke()},d.__private__.lines=d.lines=function(v,F,nt,ot,dt,xt){var Mt,$t,c,S,I,H,ft,wt,jt,me,Re,ge;if(typeof v=="number"&&(ge=nt,nt=F,F=v,v=ge),ot=ot||[1,1],xt=xt||!1,isNaN(F)||isNaN(nt)||!Array.isArray(v)||!Array.isArray(ot)||!Oi(dt)||typeof xt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oa(F,nt),Mt=ot[0],$t=ot[1],S=v.length,me=F,Re=nt,c=0;c<S;c++)(I=v[c]).length===2?(me=I[0]*Mt+me,Re=I[1]*$t+Re,vi(me,Re)):(H=I[0]*Mt+me,ft=I[1]*$t+Re,wt=I[2]*Mt+me,jt=I[3]*$t+Re,me=I[4]*Mt+me,Re=I[5]*$t+Re,la(H,ft,wt,jt,me,Re));return xt&&gi(),Cl(dt),this},d.path=function(v){for(var F=0;F<v.length;F++){var nt=v[F],ot=nt.c;switch(nt.op){case"m":oa(ot[0],ot[1]);break;case"l":vi(ot[0],ot[1]);break;case"c":la.apply(this,ot);break;case"h":gi()}}return this},d.__private__.rect=d.rect=function(v,F,nt,ot,dt){if(isNaN(v)||isNaN(F)||isNaN(nt)||isNaN(ot)||!Oi(dt))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b.COMPAT&&(ot=-ot),it([N(A(v)),N(Y(F)),N(A(nt)),N(A(ot)),"re"].join(" ")),Cl(dt),this},d.__private__.triangle=d.triangle=function(v,F,nt,ot,dt,xt,Mt){if(isNaN(v)||isNaN(F)||isNaN(nt)||isNaN(ot)||isNaN(dt)||isNaN(xt)||!Oi(Mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[nt-v,ot-F],[dt-nt,xt-ot],[v-dt,F-xt]],v,F,[1,1],Mt,!0),this},d.__private__.roundedRect=d.roundedRect=function(v,F,nt,ot,dt,xt,Mt){if(isNaN(v)||isNaN(F)||isNaN(nt)||isNaN(ot)||isNaN(dt)||isNaN(xt)||!Oi(Mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return dt=Math.min(dt,.5*nt),xt=Math.min(xt,.5*ot),this.lines([[nt-2*dt,0],[dt*$t,0,dt,xt-xt*$t,dt,xt],[0,ot-2*xt],[0,xt*$t,-dt*$t,xt,-dt,xt],[2*dt-nt,0],[-dt*$t,0,-dt,-xt*$t,-dt,-xt],[0,2*xt-ot],[0,-xt*$t,dt*$t,-xt,dt,-xt]],v+dt,F,[1,1],Mt,!0),this},d.__private__.ellipse=d.ellipse=function(v,F,nt,ot,dt){if(isNaN(v)||isNaN(F)||isNaN(nt)||isNaN(ot)||!Oi(dt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xt=4/3*(Math.SQRT2-1)*nt,Mt=4/3*(Math.SQRT2-1)*ot;return oa(v+nt,F),la(v+nt,F-Mt,v+xt,F-ot,v,F-ot),la(v-xt,F-ot,v-nt,F-Mt,v-nt,F),la(v-nt,F+Mt,v-xt,F+ot,v,F+ot),la(v+xt,F+ot,v+nt,F+Mt,v+nt,F),Cl(dt),this},d.__private__.circle=d.circle=function(v,F,nt,ot){if(isNaN(v)||isNaN(F)||isNaN(nt)||!Oi(ot))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,F,nt,nt,ot)},d.setFont=function(v,F,nt){return nt&&(F=z(F,nt)),be=hs(v,F,{disableWarning:!1}),this};var Rl=d.__private__.getFont=d.getFont=function(){return Ae[hs.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var v,F,nt={};for(v in Ve)if(Ve.hasOwnProperty(v))for(F in nt[v]=[],Ve[v])Ve[v].hasOwnProperty(F)&&nt[v].push(F);return nt},d.addFont=function(v,F,nt,ot,dt){var xt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xt.indexOf(arguments[3])!==-1?dt=arguments[3]:arguments[3]&&xt.indexOf(arguments[3])==-1&&(nt=z(nt,ot)),dt=dt||"Identity-H",Tl.call(this,v,F,nt,dt)};var ze,Ll=e.lineWidth||.200025,so=d.__private__.getLineWidth=d.getLineWidth=function(){return Ll},Dl=d.__private__.setLineWidth=d.setLineWidth=function(v){return Ll=v,it(N(A(v))+" w"),this};d.__private__.setLineDash=le.API.setLineDash=le.API.setLineDashPattern=function(v,F){if(v=v||[],F=F||0,isNaN(F)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(nt){return N(A(nt))}).join(" "),F=N(A(F)),it("["+v+"] "+F+" d"),this};var Pl=d.__private__.getLineHeight=d.getLineHeight=function(){return Bt*ze};d.__private__.getLineHeight=d.getLineHeight=function(){return Bt*ze};var Il=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(ze=v),this},ds=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return ze};Il(e.lineHeight);var yi=d.__private__.getHorizontalCoordinate=function(v){return A(v)},Zn=d.__private__.getVerticalCoordinate=function(v){return w===b.ADVANCED?v:se[$].mediaBox.topRightY-se[$].mediaBox.bottomLeftY-A(v)},Vu=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(v){return N(yi(v))},Oa=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(v){return N(Zn(v))},mr=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Jr(mr)},d.__private__.setStrokeColor=d.setDrawColor=function(v,F,nt,ot){return mr=Ur({ch1:v,ch2:F,ch3:nt,ch4:ot,pdfColorType:"draw",precision:2}),it(mr),this};var oo=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Jr(oo)},d.__private__.setFillColor=d.setFillColor=function(v,F,nt,ot){return oo=Ur({ch1:v,ch2:F,ch3:nt,ch4:ot,pdfColorType:"fill",precision:2}),it(oo),this};var ua=e.textColor||"0 g",lo=d.__private__.getTextColor=d.getTextColor=function(){return Jr(ua)};d.__private__.setTextColor=d.setTextColor=function(v,F,nt,ot){return ua=Ur({ch1:v,ch2:F,ch3:nt,ch4:ot,pdfColorType:"text",precision:3}),this};var ps=e.charSpace,uo=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(ps||0)};d.__private__.setCharSpace=d.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ps=v,this};var Ol=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(v){var F=d.CapJoinStyles[v];if(F===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ol=F,it(F+" J"),this};var co=0;d.__private__.setLineJoin=d.setLineJoin=function(v){var F=d.CapJoinStyles[v];if(F===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return co=F,it(F+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return it(N(A(v))+" M"),this},d.GState=od,d.setGState=function(v){(v=typeof v=="string"?cn[pr[v]]:ka(null,v)).equals(di)||(it("/"+v.id+" gs"),di=v)};var ka=function(v,F){if(!v||!pr[v]){var nt=!1;for(var ot in cn)if(cn.hasOwnProperty(ot)&&cn[ot].equals(F)){nt=!0;break}if(nt)F=cn[ot];else{var dt="GS"+(Object.keys(cn).length+1).toString(10);cn[dt]=F,F.id=dt}return v&&(pr[v]=F.id),je.publish("addGState",F),F}};d.addGState=function(v,F){return ka(v,F),this},d.saveGraphicsState=function(){return it("q"),Br.push({key:be,size:Bt,color:ua}),this},d.restoreGraphicsState=function(){it("Q");var v=Br.pop();return be=v.key,Bt=v.size,ua=v.color,di=null,this},d.setCurrentTransformationMatrix=function(v){return it(v.toString()+" cm"),this},d.comment=function(v){return it("#"+v),this};var ms=function(v,F){var nt=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return nt},set:function(xt){isNaN(xt)||(nt=parseFloat(xt))}});var ot=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ot},set:function(xt){isNaN(xt)||(ot=parseFloat(xt))}});var dt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return dt},set:function(xt){dt=xt.toString()}}),this},ho=function(v,F,nt,ot){ms.call(this,v,F),this.type="rect";var dt=nt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return dt},set:function(Mt){isNaN(Mt)||(dt=parseFloat(Mt))}});var xt=ot||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xt},set:function(Mt){isNaN(Mt)||(xt=parseFloat(Mt))}}),this},gs=function(){this.page=an,this.currentPage=$,this.pages=Lt.slice(0),this.pagesContext=se.slice(0),this.x=rn,this.y=de,this.matrix=Dn,this.width=Ma($),this.height=Cr($),this.outputDestination=zt,this.id="",this.objectNumber=-1};gs.prototype.restore=function(){an=this.page,$=this.currentPage,se=this.pagesContext,Lt=this.pages,rn=this.x,de=this.y,Dn=this.matrix,po($,this.width),mo($,this.height),zt=this.outputDestination};var fo=function(v,F,nt,ot,dt){pi.push(new gs),an=$=0,Lt=[],rn=v,de=F,Dn=dt,qr([nt,ot])},Bu=function(v){if(Tr[v])pi.pop().restore();else{var F=new gs,nt="Xo"+(Object.keys(Un).length+1).toString(10);F.id=nt,Tr[v]=nt,Un[nt]=F,je.publish("addFormObject",F),pi.pop().restore()}};for(var ca in d.beginFormObject=function(v,F,nt,ot,dt){return fo(v,F,nt,ot,dt),this},d.endFormObject=function(v){return Bu(v),this},d.doFormObject=function(v,F){var nt=Un[Tr[v]];return it("q"),it(F.toString()+" cm"),it("/"+nt.id+" Do"),it("Q"),this},d.getFormObject=function(v){var F=Un[Tr[v]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},d.save=function(v,F){return v=v||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?($l(eo(sa()),v),typeof $l.unload=="function"&&ue.setTimeout&&setTimeout($l.unload,911),this):new Promise(function(nt,ot){try{var dt=$l(eo(sa()),v);typeof $l.unload=="function"&&ue.setTimeout&&setTimeout($l.unload,911),nt(dt)}catch(xt){ot(xt.message)}})},le.API)le.API.hasOwnProperty(ca)&&(ca==="events"&&le.API.events.length?function(v,F){var nt,ot,dt;for(dt=F.length-1;dt!==-1;dt--)nt=F[dt][0],ot=F[dt][1],v.subscribe.apply(v,[nt].concat(typeof ot=="function"?[ot]:ot))}(je,le.API.events):d[ca]=le.API[ca]);var Ma=d.getPageWidth=function(v){return(se[v=v||$].mediaBox.topRightX-se[v].mediaBox.bottomLeftX)/Ht},po=d.setPageWidth=function(v,F){se[v].mediaBox.topRightX=F*Ht+se[v].mediaBox.bottomLeftX},Cr=d.getPageHeight=function(v){return(se[v=v||$].mediaBox.topRightY-se[v].mediaBox.bottomLeftY)/Ht},mo=d.setPageHeight=function(v,F){se[v].mediaBox.topRightY=F*Ht+se[v].mediaBox.bottomLeftY};return d.internal={pdfEscape:xn,getStyle:ju,getFont:Rl,getFontSize:Tt,getCharSpace:uo,getTextColor:lo,getLineHeight:Pl,getLineHeightFactor:ds,getLineWidth:so,write:fe,getHorizontalCoordinate:yi,getVerticalCoordinate:Zn,getCoordinateString:Vu,getVerticalCoordinateString:Oa,collections:{},newObject:Pn,newAdditionalObject:Xs,newObjectDeferred:Tn,newObjectDeferredBegin:qn,getFilters:zr,putStream:In,events:je,scaleFactor:Ht,pageSize:{getWidth:function(){return Ma($)},setWidth:function(v){po($,v)},getHeight:function(){return Cr($)},setHeight:function(v){mo($,v)}},encryptionOptions:p,encryption:fn,getEncryptor:Mu,output:no,getNumberOfPages:Ge,pages:Lt,out:it,f2:O,f3:x,getPageInfo:Nl,getPageInfoByObjId:ce,getCurrentPageInfo:Ia,getPDFVersion:C,Point:ms,Rectangle:ho,Matrix:Kt,hasHotfix:Pa},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Ma($)},set:function(v){po($,v)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Cr($)},set:function(v){mo($,v)},enumerable:!0,configurable:!0}),Ou.call(d,Ft),be="F1",cs(i,n),je.publish("initialized"),d}pc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},pc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},pc.prototype.processOwnerPassword=function(e,t){return Y2(W2(t).substr(0,5),e)},pc.prototype.encryptor=function(e,t){var n=W2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Y2(n,r)}},od.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Qe(e)!==Qe(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},le.API={events:[]},le.version="2.5.2";var Cn=le.API,Xv=1,Ru=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ic=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ve=function(e){return e.toFixed(2)},Do=function(e){return e.toFixed(5)};Cn.__acroform__={};var fi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Pw=function(e){return e*Xv},Ba=function(e){var t=new RE,n=Jt.internal.getHeight(e)||0,r=Jt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ve(r)),Number(ve(n))],t},_I=Cn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},wI=Cn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},AI=Cn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Fn=Cn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return AI(e,t-1)},Vn=Cn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _I(e,t-1)},Bn=Cn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wI(e,t-1)},SI=Cn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(a)||0,[Number(ve(l.lowerLeft_X)),Number(ve(l.lowerLeft_Y)),Number(ve(l.upperRight_X)),Number(ve(l.upperRight_Y))]},EI=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Q2(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+ve(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Ba(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},Q2=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(x){return x.split(`
`)}):i.map(function(x){return[x]});var a=n,s=Jt.internal.getHeight(e)||0;s=s<0?-s:s;var o=Jt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(x,A,L){if(x+1<i.length){var Y=A+" "+i[x+1][0];return Tp(Y,e,L).width<=o-4}return!1};a++;t:for(;a>0;){t="",a--;var h,p,m=Tp("3",e,a).height,g=e.multiline?s-a:(s-m)/2,d=g+=2,T=0,C=0,P=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Tp(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var y="",b=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var k=!1;if(i[w].length!==1&&P!==i[w].length-1){if((m+2)*(b+2)+2>s)continue t;y+=i[w][P],k=!0,C=w,w--}else{y=(y+=i[w][P]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var j=parseInt(w),z=l(j,y,a),N=w>=i.length-1;if(z&&!N){y+=" ",P=0;continue}if(z||N){if(N)C=j;else if(e.multiline&&(m+2)*(b+2)+2>s)continue t}else{if(!e.multiline||(m+2)*(b+2)+2>s)continue t;C=j}}for(var E="",R=T;R<=C;R++){var O=i[R];if(e.multiline){if(R===C){E+=O[P]+" ",P=(P+1)%O.length;continue}if(R===T){E+=O[O.length-1]+" ";continue}}E+=O[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,p=Tp(E,e,a).width,e.textAlign){case"right":h=o-p-2;break;case"center":h=(o-p)/2;break;case"left":default:h=2}t+=ve(h)+" "+ve(d)+` Td
`,t+="("+Ru(E)+`) Tj
`,t+=-ve(h)+` 0 Td
`,d=-(a+2),p=0,T=k?C:C+1,b++,y=""}break}return r.text=t,r.fontSize=a,r},Tp=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},TI={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},xI=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},NI=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Qe(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},CI=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ea.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(TI)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Xv=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new LE,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&xI(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],l=[],h=o.Rect;if(o.Rect&&(o.Rect=SI(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Jt.createDefaultAppearanceStream(o),Qe(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=h,o.hasAppearanceStream&&!o.appearanceStreamContent){var p=EI(o);l.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(o.appearanceStreamContent){var m="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var d=o.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var T=d[s];typeof T=="function"&&(T=T.call(i,o)),m+="/"+s+" "+T+" ",i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T)}}else typeof(T=d)=="function"&&(T=T.call(i,o)),m+="/"+s+" "+T,i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&NI(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},CE=Cn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Qe(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Ru(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},h0=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ru(r(e))+")"},$a=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$a.prototype.toString=function(){return this.objId+" 0 R"},$a.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},$a.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:CE(i,this.objId,this.scope)}):i instanceof $a?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var RE=function(){$a.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};fi(RE,$a);var LE=function(){$a.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ru(n(e))+")"}},set:function(n){e=n}})};fi(LE,$a);var Ea=function e(){$a.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fn(t,3)},set:function(y){y?this.F=Vn(t,3):this.F=Bn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Wm)return;a="FieldObject"+e.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Ru(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Xv:h},set:function(y){h=y}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(y){p=y}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Wm||this instanceof rl))return h0(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=y}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof tr?g:h0(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof tr?y:y.substr(0,1)==="("?ic(y.substr(1,y.length-2)):ic(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof tr?ic(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof tr?"/"+y:y}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof tr?d:h0(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=this instanceof tr?y:y.substr(0,1)==="("?ic(y.substr(1,y.length-2)):ic(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof tr?ic(d.substr(1,d.length-1)):d},set:function(y){y=y.toString(),d=this instanceof tr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(y){y=!!y,C=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(y){T=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,1)},set:function(y){y?this.Ff=Vn(this.Ff,1):this.Ff=Bn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,2)},set:function(y){y?this.Ff=Vn(this.Ff,2):this.Ff=Bn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,3)},set:function(y){y?this.Ff=Vn(this.Ff,3):this.Ff=Bn(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');P=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(P){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};fi(Ea,$a);var ou=function(){Ea.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CE(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,h=[];l=s.exec(a);)h.push(l[o]);return h}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,18)},set:function(n){n?this.Ff=Vn(this.Ff,18):this.Ff=Bn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Vn(this.Ff,19):this.Ff=Bn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,20)},set:function(n){n?(this.Ff=Vn(this.Ff,20),t.sort()):this.Ff=Bn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,22)},set:function(n){n?this.Ff=Vn(this.Ff,22):this.Ff=Bn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(n){n?this.Ff=Vn(this.Ff,23):this.Ff=Bn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,27)},set:function(n){n?this.Ff=Vn(this.Ff,27):this.Ff=Bn(this.Ff,27)}}),this.hasAppearanceStream=!1};fi(ou,Ea);var lu=function(){ou.call(this),this.fontName="helvetica",this.combo=!1};fi(lu,ou);var uu=function(){lu.call(this),this.combo=!0};fi(uu,lu);var Lf=function(){uu.call(this),this.edit=!0};fi(Lf,uu);var tr=function(){Ea.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,15)},set:function(n){n?this.Ff=Vn(this.Ff,15):this.Ff=Bn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,16)},set:function(n){n?this.Ff=Vn(this.Ff,16):this.Ff=Bn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,17)},set:function(n){n?this.Ff=Vn(this.Ff,17):this.Ff=Bn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(n){n?this.Ff=Vn(this.Ff,26):this.Ff=Bn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Ru(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Qe(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};fi(tr,Ea);var Df=function(){tr.call(this),this.pushButton=!0};fi(Df,tr);var cu=function(){tr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};fi(cu,tr);var Wm=function(){var e,t;Ea.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Ru(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Qe(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fi(Wm,Ea),cu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},cu.prototype.createOption=function(e){var t=new Wm;return t.Parent=this,t.optionName=e,this.Kids.push(t),RI.call(this.scope,t),t};var Pf=function(){tr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jt.CheckBox.createAppearanceStream()};fi(Pf,tr);var rl=function(){Ea.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,13)},set:function(t){t?this.Ff=Vn(this.Ff,13):this.Ff=Bn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,21)},set:function(t){t?this.Ff=Vn(this.Ff,21):this.Ff=Bn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(t){t?this.Ff=Vn(this.Ff,23):this.Ff=Bn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,24)},set:function(t){t?this.Ff=Vn(this.Ff,24):this.Ff=Bn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,25)},set:function(t){t?this.Ff=Vn(this.Ff,25):this.Ff=Bn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(t){t?this.Ff=Vn(this.Ff,26):this.Ff=Bn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fi(rl,Ea);var If=function(){rl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,14)},set:function(e){e?this.Ff=Vn(this.Ff,14):this.Ff=Bn(this.Ff,14)}}),this.password=!0};fi(If,rl);var Jt={CheckBox:{createAppearanceStream:function(){return{N:{On:Jt.CheckBox.YesNormal},D:{On:Jt.CheckBox.YesPushDown,Off:Jt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ba(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=Q2(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+ve(Jt.internal.getWidth(e))+" "+ve(Jt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ve(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Ba(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Jt.internal.getHeight(e),s=Jt.internal.getWidth(e),o=Q2(e,e.caption);return i.push("1 g"),i.push("0 0 "+ve(s)+" "+ve(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ve(s-1)+" "+ve(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ve(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Ba(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ve(Jt.internal.getWidth(e))+" "+ve(Jt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Jt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Jt.RadioButton.Circle.YesNormal,t.D[e]=Jt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ba(e);t.scope=e.scope;var n=[],r=Jt.internal.getWidth(e)<=Jt.internal.getHeight(e)?Jt.internal.getWidth(e)/4:Jt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Jt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Do(Jt.internal.getWidth(e)/2)+" "+Do(Jt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ba(e);t.scope=e.scope;var n=[],r=Jt.internal.getWidth(e)<=Jt.internal.getHeight(e)?Jt.internal.getWidth(e)/4:Jt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Jt.internal.Bezier_C).toFixed(5)),s=Number((r*Jt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Do(Jt.internal.getWidth(e)/2)+" "+Do(Jt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Do(Jt.internal.getWidth(e)/2)+" "+Do(Jt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ba(e);t.scope=e.scope;var n=[],r=Jt.internal.getWidth(e)<=Jt.internal.getHeight(e)?Jt.internal.getWidth(e)/4:Jt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Jt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Do(Jt.internal.getWidth(e)/2)+" "+Do(Jt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Jt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Jt.RadioButton.Cross.YesNormal,t.D[e]=Jt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ba(e);t.scope=e.scope;var n=[],r=Jt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+ve(Jt.internal.getWidth(e)-2)+" "+ve(Jt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ve(r.x1.x)+" "+ve(r.x1.y)+" m"),n.push(ve(r.x2.x)+" "+ve(r.x2.y)+" l"),n.push(ve(r.x4.x)+" "+ve(r.x4.y)+" m"),n.push(ve(r.x3.x)+" "+ve(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ba(e);t.scope=e.scope;var n=Jt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+ve(Jt.internal.getWidth(e))+" "+ve(Jt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ve(Jt.internal.getWidth(e)-2)+" "+ve(Jt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ve(n.x1.x)+" "+ve(n.x1.y)+" m"),r.push(ve(n.x2.x)+" "+ve(n.x2.y)+" l"),r.push(ve(n.x4.x)+" "+ve(n.x4.y)+" m"),r.push(ve(n.x3.x)+" "+ve(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ba(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ve(Jt.internal.getWidth(e))+" "+ve(Jt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Jt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Jt.internal.getWidth(e),n=Jt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Jt.internal.getWidth=function(e){var t=0;return Qe(e)==="object"&&(t=Pw(e.Rect[2])),t},Jt.internal.getHeight=function(e){var t=0;return Qe(e)==="object"&&(t=Pw(e.Rect[3])),t};var RI=Cn.addField=function(e){if(CI(this,e),!(e instanceof Ea))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Cn.AcroFormChoiceField=ou,Cn.AcroFormListBox=lu,Cn.AcroFormComboBox=uu,Cn.AcroFormEditBox=Lf,Cn.AcroFormButton=tr,Cn.AcroFormPushButton=Df,Cn.AcroFormRadioButton=cu,Cn.AcroFormCheckBox=Pf,Cn.AcroFormTextField=rl,Cn.AcroFormPasswordField=If,Cn.AcroFormAppearance=Jt,Cn.AcroForm={ChoiceField:ou,ListBox:lu,ComboBox:uu,EditBox:Lf,Button:tr,PushButton:Df,RadioButton:cu,CheckBox:Pf,TextField:rl,PasswordField:If,Appearance:Jt},le.AcroForm={ChoiceField:ou,ListBox:lu,ComboBox:uu,EditBox:Lf,Button:tr,PushButton:Df,RadioButton:cu,CheckBox:Pf,TextField:rl,PasswordField:If,Appearance:Jt};var LI=le.AcroForm;function DE(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(x,A){var L,Y,st,q,Q,X=t;if((A=A||t)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(z(x))for(Q in n)for(st=n[Q],L=0;L<st.length;L+=1){for(q=!0,Y=0;Y<st[L].length;Y+=1)if(st[L][Y]!==void 0&&st[L][Y]!==x[Y]){q=!1;break}if(q===!0){X=Q;break}}else for(Q in n)for(st=n[Q],L=0;L<st.length;L+=1){for(q=!0,Y=0;Y<st[L].length;Y+=1)if(st[L][Y]!==void 0&&st[L][Y]!==x.charCodeAt(Y)){q=!1;break}if(q===!0){X=Q;break}}return X===t&&A!==t&&(X=A),X},i=function x(A){for(var L=this.internal.write,Y=this.internal.putStream,st=(0,this.internal.getFilters)();st.indexOf("FlateEncode")!==-1;)st.splice(st.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:A.width}),q.push({key:"Height",value:A.height}),A.colorSpace===P.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===P.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)){for(var Q="",X=0,J=A.transparency.length;X<J;X++)Q+=A.transparency[X]+" "+A.transparency[X]+" ";q.push({key:"Mask",value:"["+Q+"]"})}A.sMask!==void 0&&q.push({key:"SMask",value:A.objectId+1+" 0 R"});var at=A.filter!==void 0?["/"+A.filter]:void 0;if(Y({data:A.data,additionalKeyValues:q,alreadyAppliedFilters:at,objectId:A.objectId}),L("endobj"),"sMask"in A&&A.sMask!==void 0){var yt="/Predictor "+A.predictor+" /Colors 1 /BitsPerComponent "+A.bitsPerComponent+" /Columns "+A.width,M={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:A.bitsPerComponent,decodeParameters:yt,data:A.sMask};"filter"in A&&(M.filter=A.filter),x.call(this,M)}if(A.colorSpace===P.INDEXED){var $=this.internal.newObject();Y({data:E(new Uint8Array(A.palette)),objectId:$}),L("endobj")}},a=function(){var x=this.internal.collections.addImage_images;for(var A in x)i.call(this,x[A])},s=function(){var x,A=this.internal.collections.addImage_images,L=this.internal.write;for(var Y in A)L("/I"+(x=A[Y]).index,x.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var x=this.internal.collections.addImage_images;return o.call(this),x},h=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(x){return typeof e["process"+x.toUpperCase()]=="function"},m=function(x){return Qe(x)==="object"&&x.nodeType===1},g=function(x,A){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var L=""+x.getAttribute("src");if(L.indexOf("data:image/")===0)return Rf(unescape(L).split("base64,").pop());var Y=e.loadFile(L,!0);if(Y!==void 0)return Y}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var st;switch(A){case"PNG":st="image/png";break;case"WEBP":st="image/webp";break;case"JPEG":case"JPG":default:st="image/jpeg"}return Rf(x.toDataURL(st,1).split("base64,").pop())}},d=function(x){var A=this.internal.collections.addImage_images;if(A){for(var L in A)if(x===A[L].alias)return A[L]}},T=function(x,A,L){return x||A||(x=-96,A=-96),x<0&&(x=-1*L.width*72/x/this.internal.scaleFactor),A<0&&(A=-1*L.height*72/A/this.internal.scaleFactor),x===0&&(x=A*L.width/L.height),A===0&&(A=x*L.height/L.width),[x,A]},C=function(x,A,L,Y,st,q){var Q=T.call(this,L,Y,st),X=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,at=l.call(this);if(L=Q[0],Y=Q[1],at[st.index]=st,q){q*=Math.PI/180;var yt=Math.cos(q),M=Math.sin(q),$=function(et){return et.toFixed(4)},Z=[$(yt),$(M),$(-1*M),$(yt),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,X(x),J(A+Y),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([X(L),"0","0",X(Y),"0","0","cm"].join(" "))):this.internal.write([X(L),"0","0",X(Y),X(x),J(A+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+st.index+" Do"),this.internal.write("Q")},P=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(x){var A,L,Y=0;if(typeof x=="string")for(L=x.length,A=0;A<L;A++)Y=(Y<<5)-Y+x.charCodeAt(A),Y|=0;else if(z(x))for(L=x.byteLength/2,A=0;A<L;A++)Y=(Y<<5)-Y+x[A],Y|=0;return Y},w=e.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var A=!0;return x.length===0&&(A=!1),x.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(A=!1),A},k=e.__addimage__.extractImageFromDataUrl=function(x){var A=(x=x||"").split("base64,"),L=null;if(A.length===2){var Y=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(A[0]);Array.isArray(Y)&&(L={mimeType:Y[1],charset:Y[2],data:A[1]})}return L},j=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(x){return j()&&x instanceof ArrayBuffer};var z=e.__addimage__.isArrayBufferView=function(x){return j()&&typeof Uint32Array<"u"&&(x instanceof Int8Array||x instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)},N=e.__addimage__.binaryStringToUint8Array=function(x){for(var A=x.length,L=new Uint8Array(A),Y=0;Y<A;Y++)L[Y]=x.charCodeAt(Y);return L},E=e.__addimage__.arrayBufferToBinaryString=function(x){for(var A="",L=z(x)?x:new Uint8Array(x),Y=0;Y<L.length;Y+=8192)A+=String.fromCharCode.apply(null,L.subarray(Y,Y+8192));return A};e.addImage=function(){var x,A,L,Y,st,q,Q,X,J;if(typeof arguments[1]=="number"?(A=t,L=arguments[1],Y=arguments[2],st=arguments[3],q=arguments[4],Q=arguments[5],X=arguments[6],J=arguments[7]):(A=arguments[1],L=arguments[2],Y=arguments[3],st=arguments[4],q=arguments[5],Q=arguments[6],X=arguments[7],J=arguments[8]),Qe(x=arguments[0])==="object"&&!m(x)&&"imageData"in x){var at=x;x=at.imageData,A=at.format||A||t,L=at.x||L||0,Y=at.y||Y||0,st=at.w||at.width||st,q=at.h||at.height||q,Q=at.alias||Q,X=at.compression||X,J=at.rotation||at.angle||J}var yt=this.internal.getFilters();if(X===void 0&&yt.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(L)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var M=R.call(this,x,A,Q,X);return C.call(this,L,Y,st,q,M,J),this};var R=function(x,A,L,Y){var st,q,Q;if(typeof x=="string"&&r(x)===t){x=unescape(x);var X=O(x,!1);(X!==""||(X=e.loadFile(x,!0))!==void 0)&&(x=X)}if(m(x)&&(x=g(x,A)),A=r(x,A),!p(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((Q=L)==null||Q.length===0)&&(L=function(J){return typeof J=="string"||z(J)?b(J):z(J.data)?b(J.data):null}(x)),(st=d.call(this,L))||(j()&&(x instanceof Uint8Array||A==="RGBA"||(q=x,x=N(x))),st=this["process"+A.toUpperCase()](x,h.call(this),L,function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in e.image_compression?J:y.NONE}(Y),q)),!st)throw new Error("An unknown error occurred whilst processing the image.");return st},O=e.__addimage__.convertBase64ToBinaryString=function(x,A){var L;A=typeof A!="boolean"||A;var Y,st="";if(typeof x=="string"){Y=(L=k(x))!==null?L.data:x;try{st=Rf(Y)}catch(q){if(A)throw w(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return st};e.getImageProperties=function(x){var A,L,Y="";if(m(x)&&(x=g(x)),typeof x=="string"&&r(x)===t&&((Y=O(x,!1))===""&&(Y=e.loadFile(x)||""),x=Y),L=r(x),!p(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!j()||x instanceof Uint8Array||(x=N(x)),!(A=this["process"+L.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=L,A}})(le.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};le.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,p=!1,m=0;m<h.length&&!p;m++)switch((r=h[m]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var g=0;g<h.length;g++){r=h[g];var d=this.internal.pdfEscape,T=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(C.objId),b=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+d(y(r.contents))+")",a+=" /Popup "+P.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+d(y(b))+") >>",C.content=a;var w=C.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+w,r.open&&(a+=" /Open true"),a+=" >>",P.content=a,this.internal.write(C.objId,"0 R",P.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(T(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var j=this.annotations._nameMap[r.options.name];r.options.pageNumber=j.page,r.options.top=j.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var z=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+z+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:h(r),w:l(n+i),h:h(r+a)},options:s,type:"link"})},e.textWithLink=function(n,r,i,a){var s,o,l=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var p=this.splitTextToSize(n,o).length;s=Math.ceil(h*p)}else o=l,s=h;return this.text(n,r,i,a),i+=.2*h,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-h,o,s,a),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(le.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(C){return t[C.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},o=e.__arabicParser__.isArabicEndLetter=function(C){return s(C)&&a(C)&&t[C.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(C){return s(C)&&i.indexOf(C.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return s(C)&&a(C)&&t[C.charCodeAt(0)].length>=1};var h=e.__arabicParser__.arabicLetterHasFinalForm=function(C){return s(C)&&a(C)&&t[C.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(C){return s(C)&&a(C)&&t[C.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(C){return s(C)&&a(C)&&t[C.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(C){var P=0,y=n,b="",w=0;for(P=0;P<C.length;P+=1)y[C.charCodeAt(P)]!==void 0?(w++,typeof(y=y[C.charCodeAt(P)])=="number"&&(b+=String.fromCharCode(y),y=n,w=0),P===C.length-1&&(y=n,b+=C.charAt(P-(w-1)),P-=w-1,w=0)):(y=n,b+=C.charAt(P-w),P-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&r[C.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(C,P,y){return s(C)?a(C)===!1?-1:!h(C)||!s(P)&&!s(y)||!s(y)&&o(P)||o(C)&&!s(P)||o(C)&&l(P)||o(C)&&o(P)?0:p(C)&&s(P)&&!o(P)&&s(y)&&h(y)?3:o(C)||!s(y)?1:2:-1},d=function(C){var P=0,y=0,b=0,w="",k="",j="",z=(C=C||"").split("\\s+"),N=[];for(P=0;P<z.length;P+=1){for(N.push(""),y=0;y<z[P].length;y+=1)w=z[P][y],k=z[P][y-1],j=z[P][y+1],s(w)?(b=g(w,k,j),N[P]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):N[P]+=w;N[P]=m(N[P])}return N.join(" ")},T=e.__arabicParser__.processArabic=e.processArabic=function(){var C,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(P)){var b=0;for(y=[],b=0;b<P.length;b+=1)Array.isArray(P[b])?y.push([d(P[b][0]),P[b][1],P[b][2]]):y.push([d(P[b])]);C=y}else C=d(P);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};e.events.push(["preProcessText",T])}(le.API),le.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(le.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(C){l=C}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(C){h=C}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(C){p=C}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(C){m=C}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(C){d=C}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(C){T=C}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,h){r.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),m=h.font||this.getFont(),g=h.scaleFactor||this.internal.scaleFactor,d=0,T=0,C=0,P=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=h.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,k){return w.concat(P.splitTextToSize(k,y))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)d<(C=this.getStringUnitWidth(l[b],{font:m})*p)&&(d=C);return d!==0&&(T=l.length),{w:d/=g,h:Math.max((T*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===l.lineNumber?(l.x=(h.x||0)+(h.width||0),l.y=h.y||0):h.y+h.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,d&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=h.y+h.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-p,l.y+p,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+p,{align:"center",baseline:"top",maxWidth:l.width-p-p}):this.text(l.text,l.x+p,l.y+p,{align:"left",baseline:"top",maxWidth:l.width-p-p})),this.internal.__cell__.lastCell=l,this};e.table=function(l,h,p,m,g){if(r.call(this),!p)throw new Error("No data for PDF table.");var d,T,C,P,y=[],b=[],w=[],k={},j={},z=[],N=[],E=(g=g||{}).autoSize||!1,R=g.printHeaders!==!1,O=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,x=g.margins||Object.assign({width:this.getPageWidth()},t),A=typeof g.padding=="number"?g.padding:3,L=g.headerBackgroundColor||"#c8c8c8",Y=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=Y,this.setFontSize(O),m==null)b=y=Object.keys(p[0]),w=y.map(function(){return"left"});else if(Array.isArray(m)&&Qe(m[0])==="object")for(y=m.map(function(at){return at.name}),b=m.map(function(at){return at.prompt||at.name||""}),w=m.map(function(at){return at.align||"left"}),d=0;d<m.length;d+=1)j[m[d].name]=m[d].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(b=y=m,w=y.map(function(){return"left"}));if(E||Array.isArray(m)&&typeof m[0]=="string")for(d=0;d<y.length;d+=1){for(k[P=y[d]]=p.map(function(at){return at[P]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(b[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=k[P],this.setFont(void 0,"normal"),C=0;C<T.length;C+=1)z.push(this.getTextDimensions(T[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[P]=Math.max.apply(null,z)+A+A,z=[]}if(R){var st={};for(d=0;d<y.length;d+=1)st[y[d]]={},st[y[d]].text=b[d],st[y[d]].align=w[d];var q=o.call(this,st,j);N=y.map(function(at){return new a(l,h,j[at],q,st[at].text,void 0,st[at].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var Q=m.reduce(function(at,yt){return at[yt.name]=yt.align,at},{});for(d=0;d<p.length;d+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:d,data:p[d]},this);var X=o.call(this,p[d],j);for(C=0;C<y.length;C+=1){var J=p[d][y[C]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:d,col:C,data:J},this),s.call(this,new a(l,h,j[y[C]],X,J,d+2,Q[y[C]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=h,this};var o=function(l,h){var p=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(d){var T=l[d];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,h[d]-p-p)},this).map(function(d){return this.getLineHeightFactor()*d.length*m/g+p+p},this).reduce(function(d,T){return Math.max(d,T)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){p=this.internal.__cell__.tableHeaderRow[d].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,g.push(p)),p.lineNumber=l;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,p),this.setTextColor(T)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(le.API);var PE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},IE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],K2=DE(IE),OE=[100,200,300,400,500,600,700,800,900],DI=DE(OE);function X2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return PE[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof K2[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Iw(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var PI={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ow={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kw(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function II(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},PI,n.genericFontFamilies||{}),a=null,s=null,o=0;o<t.length;++o)if(i[(a=X2(t[o])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+kw(a)+"' and default family '"+r+"'.");if(s=function(l,h){if(h[l])return h[l];var p=K2[l],m=p<=K2.normal?-1:1,g=Iw(h,IE,p,m);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(a.stretch,s),s=function(l,h){if(h[l])return h[l];for(var p=PE[l],m=0;m<p.length;++m)if(h[p[m]])return h[p[m]];throw new Error("Could not find a matching font-style for "+l)}(a.style,s),!(s=function(l,h){if(h[l])return h[l];if(l===400&&h[500])return h[500];if(l===500&&h[400])return h[400];var p=DI[l],m=Iw(h,OE,p,l<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+l);return m}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+kw(a)+"'.");return s}function Mw(e){return e.trimLeft()}function OI(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function kI(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var xp,jw,Fw,f0=["times"];(function(e){var t,n,r,i,a,s,o,l,h,p=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,h=new p}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=M;Object.defineProperty(this,"pdf",{get:function(){return $}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Et){Z=!!Et}});var et=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return et},set:function(Et){et=!!Et}});var rt=0;Object.defineProperty(this,"posX",{get:function(){return rt},set:function(Et){isNaN(Et)||(rt=Et)}});var pt=0;Object.defineProperty(this,"posY",{get:function(){return pt},set:function(Et){isNaN(Et)||(pt=Et)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Et){var it;typeof Et=="number"?it=[Et,Et,Et,Et]:((it=new Array(4))[0]=Et[0],it[1]=Et.length>=2?Et[1]:it[0],it[2]=Et.length>=3?Et[2]:it[0],it[3]=Et.length>=4?Et[3]:it[1]),h.margin=it}});var gt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return gt},set:function(Et){gt=Et}});var vt=0;Object.defineProperty(this,"lastBreak",{get:function(){return vt},set:function(Et){vt=Et}});var kt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return kt},set:function(Et){kt=Et}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Et){Et instanceof p&&(h=Et)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Et){h.path=Et}});var Lt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Lt},set:function(Et){Lt=Et}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Et){var it;it=g(Et),this.ctx.fillStyle=it.style,this.ctx.isFillTransparent=it.a===0,this.ctx.fillOpacity=it.a,this.pdf.setFillColor(it.r,it.g,it.b,{a:it.a}),this.pdf.setTextColor(it.r,it.g,it.b,{a:it.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Et){var it=g(Et);this.ctx.strokeStyle=it.style,this.ctx.isStrokeTransparent=it.a===0,this.ctx.strokeOpacity=it.a,it.a===0?this.pdf.setDrawColor(255,255,255):(it.a,this.pdf.setDrawColor(it.r,it.g,it.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Et){["butt","round","square"].indexOf(Et)!==-1&&(this.ctx.lineCap=Et,this.pdf.setLineCap(Et))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Et){isNaN(Et)||(this.ctx.lineWidth=Et,this.pdf.setLineWidth(Et))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Et){["bevel","round","miter"].indexOf(Et)!==-1&&(this.ctx.lineJoin=Et,this.pdf.setLineJoin(Et))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Et){isNaN(Et)||(this.ctx.miterLimit=Et,this.pdf.setMiterLimit(Et))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Et){this.ctx.textBaseline=Et}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Et){["right","end","center","left","start"].indexOf(Et)!==-1&&(this.ctx.textAlign=Et)}});var Vt=null;function zt(Et,it){if(Vt===null){var fe=function(te){var Ft=[];return Object.keys(te).forEach(function(Bt){te[Bt].forEach(function(At){var Tt=null;switch(At){case"bold":Tt={family:Bt,weight:"bold"};break;case"italic":Tt={family:Bt,style:"italic"};break;case"bolditalic":Tt={family:Bt,weight:"bold",style:"italic"};break;case"":case"normal":Tt={family:Bt}}Tt!==null&&(Tt.ref={name:Bt,style:At},Ft.push(Tt))})}),Ft}(Et.getFontList());Vt=function(te){for(var Ft={},Bt=0;Bt<te.length;++Bt){var At=X2(te[Bt]),Tt=At.family,Ut=At.stretch,Zt=At.style,ee=At.weight;Ft[Tt]=Ft[Tt]||{},Ft[Tt][Ut]=Ft[Tt][Ut]||{},Ft[Tt][Ut][Zt]=Ft[Tt][Ut][Zt]||{},Ft[Tt][Ut][Zt][ee]=At}return Ft}(fe.concat(it))}return Vt}var re=null;Object.defineProperty(this,"fontFaces",{get:function(){return re},set:function(Et){Vt=null,re=Et}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Et){var it;if(this.ctx.font=Et,(it=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Et))!==null){var fe=it[1],te=(it[2],it[3]),Ft=it[4],Bt=(it[5],it[6]),At=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ft)[2];Ft=Math.floor(At==="px"?parseFloat(Ft)*this.pdf.internal.scaleFactor:At==="em"?parseFloat(Ft)*this.pdf.getFontSize():parseFloat(Ft)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ft);var Tt=function(ie){var be,Ht,rn=[],de=ie.trim();if(de==="")return f0;if(de in Ow)return[Ow[de]];for(;de!=="";){switch(Ht=null,be=(de=Mw(de)).charAt(0)){case'"':case"'":Ht=OI(de.substring(1),be);break;default:Ht=kI(de)}if(Ht===null||(rn.push(Ht[0]),(de=Mw(Ht[1]))!==""&&de.charAt(0)!==","))return f0;de=de.replace(/^,/,"")}return rn}(Bt);if(this.fontFaces){var Ut=II(zt(this.pdf,this.fontFaces),Tt.map(function(ie){return{family:ie,stretch:"normal",weight:te,style:fe}}));this.pdf.setFont(Ut.ref.name,Ut.ref.style)}else{var Zt="";(te==="bold"||parseInt(te,10)>=700||fe==="bold")&&(Zt="bold"),fe==="italic"&&(Zt+="italic"),Zt.length===0&&(Zt="normal");for(var ee="",Wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ne=0;ne<Tt.length;ne++){if(this.pdf.internal.getFont(Tt[ne],Zt,{noFallback:!0,disableWarning:!0})!==void 0){ee=Tt[ne];break}if(Zt==="bolditalic"&&this.pdf.internal.getFont(Tt[ne],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ee=Tt[ne],Zt="bold";else if(this.pdf.internal.getFont(Tt[ne],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ee=Tt[ne],Zt="normal";break}}if(ee===""){for(var xe=0;xe<Tt.length;xe++)if(Wt[Tt[xe]]){ee=Wt[Tt[xe]];break}}ee=ee===""?"Times":ee,this.pdf.setFont(ee,Zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Et){this.ctx.globalCompositeOperation=Et}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Et){this.ctx.globalAlpha=Et}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Et){this.ctx.lineDashOffset=Et,yt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Et){this.ctx.lineDash=Et,yt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Et){this.ctx.ignoreClearRect=!!Et}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){k.call(this,"fill",!1)},m.prototype.stroke=function(){k.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,$){if(isNaN(M)||isNaN($))throw en.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new s(M,$));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(M,$)},m.prototype.closePath=function(){var M=new s(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Qe(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){M=new s(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},m.prototype.lineTo=function(M,$){if(isNaN(M)||isNaN($))throw en.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new s(M,$));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,$,Z,et){if(isNaN(Z)||isNaN(et)||isNaN(M)||isNaN($))throw en.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var rt=this.ctx.transform.applyToPoint(new s(Z,et)),pt=this.ctx.transform.applyToPoint(new s(M,$));this.path.push({type:"qct",x1:pt.x,y1:pt.y,x:rt.x,y:rt.y}),this.ctx.lastPoint=new s(rt.x,rt.y)},m.prototype.bezierCurveTo=function(M,$,Z,et,rt,pt){if(isNaN(rt)||isNaN(pt)||isNaN(M)||isNaN($)||isNaN(Z)||isNaN(et))throw en.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var gt=this.ctx.transform.applyToPoint(new s(rt,pt)),vt=this.ctx.transform.applyToPoint(new s(M,$)),kt=this.ctx.transform.applyToPoint(new s(Z,et));this.path.push({type:"bct",x1:vt.x,y1:vt.y,x2:kt.x,y2:kt.y,x:gt.x,y:gt.y}),this.ctx.lastPoint=new s(gt.x,gt.y)},m.prototype.arc=function(M,$,Z,et,rt,pt){if(isNaN(M)||isNaN($)||isNaN(Z)||isNaN(et)||isNaN(rt))throw en.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pt=!!pt,!this.ctx.transform.isIdentity){var gt=this.ctx.transform.applyToPoint(new s(M,$));M=gt.x,$=gt.y;var vt=this.ctx.transform.applyToPoint(new s(0,Z)),kt=this.ctx.transform.applyToPoint(new s(0,0));Z=Math.sqrt(Math.pow(vt.x-kt.x,2)+Math.pow(vt.y-kt.y,2))}Math.abs(rt-et)>=2*Math.PI&&(et=0,rt=2*Math.PI),this.path.push({type:"arc",x:M,y:$,radius:Z,startAngle:et,endAngle:rt,counterclockwise:pt})},m.prototype.arcTo=function(M,$,Z,et,rt){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,$,Z,et){if(isNaN(M)||isNaN($)||isNaN(Z)||isNaN(et))throw en.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,$),this.lineTo(M+Z,$),this.lineTo(M+Z,$+et),this.lineTo(M,$+et),this.lineTo(M,$),this.lineTo(M+Z,$),this.lineTo(M,$)},m.prototype.fillRect=function(M,$,Z,et){if(isNaN(M)||isNaN($)||isNaN(Z)||isNaN(et))throw en.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var rt={};this.lineCap!=="butt"&&(rt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(rt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,$,Z,et),this.fill(),rt.hasOwnProperty("lineCap")&&(this.lineCap=rt.lineCap),rt.hasOwnProperty("lineJoin")&&(this.lineJoin=rt.lineJoin)}},m.prototype.strokeRect=function(M,$,Z,et){if(isNaN(M)||isNaN($)||isNaN(Z)||isNaN(et))throw en.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(M,$,Z,et),this.stroke())},m.prototype.clearRect=function(M,$,Z,et){if(isNaN(M)||isNaN($)||isNaN(Z)||isNaN(et))throw en.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,$,Z,et))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage($),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var et=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=et}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage($),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(M){var $,Z,et,rt;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))$=0,Z=0,et=0,rt=0;else{var pt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(pt!==null)$=parseInt(pt[1]),Z=parseInt(pt[2]),et=parseInt(pt[3]),rt=1;else if((pt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)$=parseInt(pt[1]),Z=parseInt(pt[2]),et=parseInt(pt[3]),rt=parseFloat(pt[4]);else{if(rt=1,typeof M=="string"&&M.charAt(0)!=="#"){var gt=new TE(M);M=gt.ok?gt.toHex():"#000000"}M.length===4?($=M.substring(1,2),$+=$,Z=M.substring(2,3),Z+=Z,et=M.substring(3,4),et+=et):($=M.substring(1,3),Z=M.substring(3,5),et=M.substring(5,7)),$=parseInt($,16),Z=parseInt(Z,16),et=parseInt(et,16)}}return{r:$,g:Z,b:et,a:rt,style:M}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,$,Z,et){if(isNaN($)||isNaN(Z)||typeof M!="string")throw en.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(et=isNaN(et)?void 0:et,!d.call(this)){var rt=X(this.ctx.transform.rotation),pt=this.ctx.transform.scaleX;A.call(this,{text:M,x:$,y:Z,scale:pt,angle:rt,align:this.textAlign,maxWidth:et})}},m.prototype.strokeText=function(M,$,Z,et){if(isNaN($)||isNaN(Z)||typeof M!="string")throw en.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){et=isNaN(et)?void 0:et;var rt=X(this.ctx.transform.rotation),pt=this.ctx.transform.scaleX;A.call(this,{text:M,x:$,y:Z,scale:pt,renderingMode:"stroke",angle:rt,align:this.textAlign,maxWidth:et})}},m.prototype.measureText=function(M){if(typeof M!="string")throw en.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,Z=this.pdf.internal.scaleFactor,et=$.internal.getFontSize(),rt=$.getStringUnitWidth(M)*et/$.internal.scaleFactor,pt=function(gt){var vt=(gt=gt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return vt}}),this};return new pt({width:rt*=Math.round(96*Z/72*1e4)/1e4})},m.prototype.scale=function(M,$){if(isNaN(M)||isNaN($))throw en.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new l(M,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},m.prototype.rotate=function(M){if(isNaN(M))throw en.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply($)},m.prototype.translate=function(M,$){if(isNaN(M)||isNaN($))throw en.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new l(1,0,0,1,M,$);this.ctx.transform=this.ctx.transform.multiply(Z)},m.prototype.transform=function(M,$,Z,et,rt,pt){if(isNaN(M)||isNaN($)||isNaN(Z)||isNaN(et)||isNaN(rt)||isNaN(pt))throw en.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var gt=new l(M,$,Z,et,rt,pt);this.ctx.transform=this.ctx.transform.multiply(gt)},m.prototype.setTransform=function(M,$,Z,et,rt,pt){M=isNaN(M)?1:M,$=isNaN($)?0:$,Z=isNaN(Z)?0:Z,et=isNaN(et)?1:et,rt=isNaN(rt)?0:rt,pt=isNaN(pt)?0:pt,this.ctx.transform=new l(M,$,Z,et,rt,pt)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,$,Z,et,rt,pt,gt,vt,kt){var Lt=this.pdf.getImageProperties(M),Vt=1,zt=1,re=1,Et=1;et!==void 0&&vt!==void 0&&(re=vt/et,Et=kt/rt,Vt=Lt.width/et*vt/et,zt=Lt.height/rt*kt/rt),pt===void 0&&(pt=$,gt=Z,$=0,Z=0),et!==void 0&&vt===void 0&&(vt=et,kt=rt),et===void 0&&vt===void 0&&(vt=Lt.width,kt=Lt.height);for(var it,fe=this.ctx.transform.decompose(),te=X(fe.rotate.shx),Ft=new l,Bt=(Ft=(Ft=(Ft=Ft.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale)).applyToRectangle(new o(pt-$*re,gt-Z*Et,et*Vt,rt*zt)),At=P.call(this,Bt),Tt=[],Ut=0;Ut<At.length;Ut+=1)Tt.indexOf(At[Ut])===-1&&Tt.push(At[Ut]);if(w(Tt),this.autoPaging)for(var Zt=Tt[0],ee=Tt[Tt.length-1],Wt=Zt;Wt<ee+1;Wt++){this.pdf.setPage(Wt);var ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xe=Wt===1?this.posY+this.margin[0]:this.margin[0],ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=Wt===1?0:ie+(Wt-2)*be;if(this.ctx.clip_path.length!==0){var rn=this.path;it=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(it,this.posX+this.margin[3],-Ht+xe+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=rn}var de=JSON.parse(JSON.stringify(Bt));de=b([de],this.posX+this.margin[3],-Ht+xe+this.ctx.prevPageLastElemOffset)[0];var Dn=(Wt>Zt||Wt<ee)&&C.call(this);Dn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ne,be,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",de.x,de.y,de.w,de.h,null,null,te),Dn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,te)};var P=function(M,$,Z){var et=[];$=$||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var rt=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":et.push(Math.floor((M.y+rt)/Z)+1);break;case"arc":et.push(Math.floor((M.y+rt-M.radius)/Z)+1),et.push(Math.floor((M.y+rt+M.radius)/Z)+1);break;case"qct":var pt=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);et.push(Math.floor((pt.y+rt)/Z)+1),et.push(Math.floor((pt.y+pt.h+rt)/Z)+1);break;case"bct":var gt=at(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);et.push(Math.floor((gt.y+rt)/Z)+1),et.push(Math.floor((gt.y+gt.h+rt)/Z)+1);break;case"rect":et.push(Math.floor((M.y+rt)/Z)+1),et.push(Math.floor((M.y+M.h+rt)/Z)+1)}for(var vt=0;vt<et.length;vt+=1)for(;this.pdf.internal.getNumberOfPages()<et[vt];)y.call(this);return et},y=function(){var M=this.fillStyle,$=this.strokeStyle,Z=this.font,et=this.lineCap,rt=this.lineWidth,pt=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=$,this.font=Z,this.lineCap=et,this.lineWidth=rt,this.lineJoin=pt},b=function(M,$,Z){for(var et=0;et<M.length;et++)switch(M[et].type){case"bct":M[et].x2+=$,M[et].y2+=Z;case"qct":M[et].x1+=$,M[et].y1+=Z;case"mt":case"lt":case"arc":default:M[et].x+=$,M[et].y+=Z}return M},w=function(M){return M.sort(function($,Z){return $-Z})},k=function(M,$){for(var Z,et,rt=this.fillStyle,pt=this.strokeStyle,gt=this.lineCap,vt=this.lineWidth,kt=Math.abs(vt*this.ctx.transform.scaleX),Lt=this.lineJoin,Vt=JSON.parse(JSON.stringify(this.path)),zt=JSON.parse(JSON.stringify(this.path)),re=[],Et=0;Et<zt.length;Et++)if(zt[Et].x!==void 0)for(var it=P.call(this,zt[Et]),fe=0;fe<it.length;fe+=1)re.indexOf(it[fe])===-1&&re.push(it[fe]);for(var te=0;te<re.length;te++)for(;this.pdf.internal.getNumberOfPages()<re[te];)y.call(this);if(w(re),this.autoPaging)for(var Ft=re[0],Bt=re[re.length-1],At=Ft;At<Bt+1;At++){this.pdf.setPage(At),this.fillStyle=rt,this.strokeStyle=pt,this.lineCap=gt,this.lineWidth=kt,this.lineJoin=Lt;var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=At===1?this.posY+this.margin[0]:this.margin[0],Zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ee=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=At===1?0:Zt+(At-2)*ee;if(this.ctx.clip_path.length!==0){var ne=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Z,this.posX+this.margin[3],-Wt+Ut+this.ctx.prevPageLastElemOffset),j.call(this,M,!0),this.path=ne}if(et=JSON.parse(JSON.stringify(Vt)),this.path=b(et,this.posX+this.margin[3],-Wt+Ut+this.ctx.prevPageLastElemOffset),$===!1||At===0){var xe=(At>Ft||At<Bt)&&C.call(this);xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,ee,null).clip().discardPath()),j.call(this,M,$),xe&&this.pdf.restoreGraphicsState()}this.lineWidth=vt}else this.lineWidth=kt,j.call(this,M,$),this.lineWidth=vt;this.path=Vt},j=function(M,$){if((M!=="stroke"||$||!T.call(this))&&(M==="stroke"||$||!d.call(this))){for(var Z,et,rt=[],pt=this.path,gt=0;gt<pt.length;gt++){var vt=pt[gt];switch(vt.type){case"begin":rt.push({begin:!0});break;case"close":rt.push({close:!0});break;case"mt":rt.push({start:vt,deltas:[],abs:[]});break;case"lt":var kt=rt.length;if(pt[gt-1]&&!isNaN(pt[gt-1].x)&&(Z=[vt.x-pt[gt-1].x,vt.y-pt[gt-1].y],kt>0)){for(;kt>=0;kt--)if(rt[kt-1].close!==!0&&rt[kt-1].begin!==!0){rt[kt-1].deltas.push(Z),rt[kt-1].abs.push(vt);break}}break;case"bct":Z=[vt.x1-pt[gt-1].x,vt.y1-pt[gt-1].y,vt.x2-pt[gt-1].x,vt.y2-pt[gt-1].y,vt.x-pt[gt-1].x,vt.y-pt[gt-1].y],rt[rt.length-1].deltas.push(Z);break;case"qct":var Lt=pt[gt-1].x+2/3*(vt.x1-pt[gt-1].x),Vt=pt[gt-1].y+2/3*(vt.y1-pt[gt-1].y),zt=vt.x+2/3*(vt.x1-vt.x),re=vt.y+2/3*(vt.y1-vt.y),Et=vt.x,it=vt.y;Z=[Lt-pt[gt-1].x,Vt-pt[gt-1].y,zt-pt[gt-1].x,re-pt[gt-1].y,Et-pt[gt-1].x,it-pt[gt-1].y],rt[rt.length-1].deltas.push(Z);break;case"arc":rt.push({deltas:[],abs:[],arc:!0}),Array.isArray(rt[rt.length-1].abs)&&rt[rt.length-1].abs.push(vt)}}et=$?null:M==="stroke"?"stroke":"fill";for(var fe=!1,te=0;te<rt.length;te++)if(rt[te].arc)for(var Ft=rt[te].abs,Bt=0;Bt<Ft.length;Bt++){var At=Ft[Bt];At.type==="arc"?E.call(this,At.x,At.y,At.radius,At.startAngle,At.endAngle,At.counterclockwise,void 0,$,!fe):L.call(this,At.x,At.y),fe=!0}else if(rt[te].close===!0)this.pdf.internal.out("h"),fe=!1;else if(rt[te].begin!==!0){var Tt=rt[te].start.x,Ut=rt[te].start.y;Y.call(this,rt[te].deltas,Tt,Ut),fe=!0}et&&R.call(this,et),$&&O.call(this)}},z=function(M){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Z;case"top":return M+$-Z;case"hanging":return M+$-2*Z;case"middle":return M+$/2-Z;case"ideographic":return M;case"alphabetic":default:return M}},N=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function($,Z){this.colorStops.push([$,Z])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(M,$,Z,et,rt,pt,gt,vt,kt){for(var Lt=q.call(this,Z,et,rt,pt),Vt=0;Vt<Lt.length;Vt++){var zt=Lt[Vt];Vt===0&&(kt?x.call(this,zt.x1+M,zt.y1+$):L.call(this,zt.x1+M,zt.y1+$)),st.call(this,M,$,zt.x2,zt.y2,zt.x3,zt.y3,zt.x4,zt.y4)}vt?O.call(this):R.call(this,gt)},R=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(M,$){this.pdf.internal.out(n(M)+" "+r($)+" m")},A=function(M){var $;switch(M.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var Z=this.pdf.getTextDimensions(M.text),et=z.call(this,M.y),rt=N.call(this,et)-Z.h,pt=this.ctx.transform.applyToPoint(new s(M.x,et)),gt=this.ctx.transform.decompose(),vt=new l;vt=(vt=(vt=vt.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale);for(var kt,Lt,Vt,zt=this.ctx.transform.applyToRectangle(new o(M.x,et,Z.w,Z.h)),re=vt.applyToRectangle(new o(M.x,rt,Z.w,Z.h)),Et=P.call(this,re),it=[],fe=0;fe<Et.length;fe+=1)it.indexOf(Et[fe])===-1&&it.push(Et[fe]);if(w(it),this.autoPaging)for(var te=it[0],Ft=it[it.length-1],Bt=te;Bt<Ft+1;Bt++){this.pdf.setPage(Bt);var At=Bt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[2],Zt=Ut-this.margin[0],ee=this.pdf.internal.pageSize.width-this.margin[1],Wt=ee-this.margin[3],ne=Bt===1?0:Tt+(Bt-2)*Zt;if(this.ctx.clip_path.length!==0){var xe=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(kt,this.posX+this.margin[3],-1*ne+At),j.call(this,"fill",!0),this.path=xe}var ie=b([JSON.parse(JSON.stringify(re))],this.posX+this.margin[3],-ne+At+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Lt*M.scale),Vt=this.lineWidth,this.lineWidth=Vt*M.scale);var be=this.autoPaging!=="text";if(be||ie.y+ie.h<=Ut){if(be||ie.y>=At&&ie.x<=ee){var Ht=be?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||ee-ie.x)[0],rn=b([JSON.parse(JSON.stringify(zt))],this.posX+this.margin[3],-ne+At+this.ctx.prevPageLastElemOffset)[0],de=be&&(Bt>te||Bt<Ft)&&C.call(this);de&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,Zt,null).clip().discardPath()),this.pdf.text(Ht,rn.x,rn.y,{angle:M.angle,align:$,renderingMode:M.renderingMode}),de&&this.pdf.restoreGraphicsState()}}else ie.y<Ut&&(this.ctx.prevPageLastElemOffset+=Ut-ie.y);M.scale>=.01&&(this.pdf.setFontSize(Lt),this.lineWidth=Vt)}else M.scale>=.01&&(Lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Lt*M.scale),Vt=this.lineWidth,this.lineWidth=Vt*M.scale),this.pdf.text(M.text,pt.x+this.posX,pt.y+this.posY,{angle:M.angle,align:$,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Lt),this.lineWidth=Vt)},L=function(M,$,Z,et){Z=Z||0,et=et||0,this.pdf.internal.out(n(M+Z)+" "+r($+et)+" l")},Y=function(M,$,Z){return this.pdf.lines(M,$,Z,null,null)},st=function(M,$,Z,et,rt,pt,gt,vt){this.pdf.internal.out([t(i(Z+M)),t(a(et+$)),t(i(rt+M)),t(a(pt+$)),t(i(gt+M)),t(a(vt+$)),"c"].join(" "))},q=function(M,$,Z,et){for(var rt=2*Math.PI,pt=Math.PI/2;$>Z;)$-=rt;var gt=Math.abs(Z-$);gt<rt&&et&&(gt=rt-gt);for(var vt=[],kt=et?-1:1,Lt=$;gt>1e-5;){var Vt=Lt+kt*Math.min(gt,pt);vt.push(Q.call(this,M,Lt,Vt)),gt-=Math.abs(Vt-Lt),Lt=Vt}return vt},Q=function(M,$,Z){var et=(Z-$)/2,rt=M*Math.cos(et),pt=M*Math.sin(et),gt=rt,vt=-pt,kt=gt*gt+vt*vt,Lt=kt+gt*rt+vt*pt,Vt=4/3*(Math.sqrt(2*kt*Lt)-Lt)/(gt*pt-vt*rt),zt=gt-Vt*vt,re=vt+Vt*gt,Et=zt,it=-re,fe=et+$,te=Math.cos(fe),Ft=Math.sin(fe);return{x1:M*Math.cos($),y1:M*Math.sin($),x2:zt*te-re*Ft,y2:zt*Ft+re*te,x3:Et*te-it*Ft,y3:Et*Ft+it*te,x4:M*Math.cos(Z),y4:M*Math.sin(Z)}},X=function(M){return 180*M/Math.PI},J=function(M,$,Z,et,rt,pt){var gt=M+.5*(Z-M),vt=$+.5*(et-$),kt=rt+.5*(Z-rt),Lt=pt+.5*(et-pt),Vt=Math.min(M,rt,gt,kt),zt=Math.max(M,rt,gt,kt),re=Math.min($,pt,vt,Lt),Et=Math.max($,pt,vt,Lt);return new o(Vt,re,zt-Vt,Et-re)},at=function(M,$,Z,et,rt,pt,gt,vt){var kt,Lt,Vt,zt,re,Et,it,fe,te,Ft,Bt,At,Tt,Ut,Zt=Z-M,ee=et-$,Wt=rt-Z,ne=pt-et,xe=gt-rt,ie=vt-pt;for(Lt=0;Lt<41;Lt++)te=(it=(Vt=M+(kt=Lt/40)*Zt)+kt*((re=Z+kt*Wt)-Vt))+kt*(re+kt*(rt+kt*xe-re)-it),Ft=(fe=(zt=$+kt*ee)+kt*((Et=et+kt*ne)-zt))+kt*(Et+kt*(pt+kt*ie-Et)-fe),Lt==0?(Bt=te,At=Ft,Tt=te,Ut=Ft):(Bt=Math.min(Bt,te),At=Math.min(At,Ft),Tt=Math.max(Tt,te),Ut=Math.max(Ut,Ft));return new o(Math.round(Bt),Math.round(At),Math.round(Tt-Bt),Math.round(Ut-At))},yt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,$,Z=(M=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:$}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(le.API),function(e){var t=function(a){var s,o,l,h,p,m,g,d,T,C;for(o=[],l=0,h=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;h>l;l+=4)(p=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(m=(p=((p=((p=((p=(p-(C=p%85))/85)-(T=p%85))/85)-(d=p%85))/85)-(g=p%85))/85)%85,o.push(m+33,g+33,d+33,T+33,C+33)):o.push(122);return function(P,y){for(var b=y;b>0;b--)P.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},n=function(a){var s,o,l,h,p,m=String,g="length",d=255,T="charCodeAt",C="slice",P="replace";for(a[C](-2),a=a[C](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),l=[],h=0,p=(a+=s="uuuuu"[C](a[g]%5||5))[g];p>h;h+=5)o=52200625*(a[T](h)-33)+614125*(a[T](h+1)-33)+7225*(a[T](h+2)-33)+85*(a[T](h+3)-33)+(a[T](h+4)-33),l.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(y,b){for(var w=b;w>0;w--)y.pop()}(l,s[g]),m.fromCharCode.apply(m,l)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var o="",l=0;l<a.length;l+=2)o+=String.fromCharCode("0x"+(a[l]+a[l+1]));return o},i=function(a){for(var s=new Uint8Array(a.length),o=a.length;o--;)s[o]=a.charCodeAt(o);return a=(s=$2(s)).reduce(function(l,h){return l+String.fromCharCode(h)},"")};e.processDataByFilters=function(a,s){var o=0,l=a||"",h=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:h.reverse().join(" ")}}}(le.API),function(e){e.loadFile=function(t,n,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,h,p){var m=new XMLHttpRequest,g=0,d=function(T){var C=T.length,P=[],y=String.fromCharCode;for(g=0;g<C;g+=1)P.push(y(255&T.charCodeAt(g)));return P.join("")};if(m.open("GET",l,!h),m.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(m.onload=function(){m.status===200?p(d(this.responseText)):p(void 0)}),m.send(null),h&&m.status===200)return d(m.responseText)}(i,a,s)}catch{}return o}(t,n,r)},e.loadImageFile=e.loadFile}(le.API),function(e){function t(){return(ue.html2canvas?Promise.resolve(ue.html2canvas):B2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(ue.DOMPurify?Promise.resolve(ue.DOMPurify):B2(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var o=Qe(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(s,o){var l=document.createElement(s);for(var h in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[h]=o.style[h];return l},a=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),h=s.convert(Promise.resolve(),l);return h=(h=h.setProgress(1,s,1,[s])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,o){return s.__proto__=o||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(h,p){for(var m=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),g=h.firstChild;g;g=g.nextSibling)p!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||m.appendChild(l(g,p));return h.nodeType===1&&(h.nodeName==="CANVAS"?(m.width=h.width,m.height=h.height,m.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(m.value=h.value),m.addEventListener("load",function(){m.scrollTop=h.scrollTop,m.scrollLeft=h.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=h,h)for(var g=0;g<h.length;++g){var d=h[g],T=d.src.find(function(C){return C.format==="truetype"});T&&l.addFont(T.url,d.ref.name,d.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,l.context2d.save(!0),o(this.prop.container,m)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},a.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(r(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(s,o){return this.then(function(){var l=s in a.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},a.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function o(l,h){return Math.floor(l*h/72*96)}return this.then(function(){(s=s||le.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,o,l,h){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,o,l,h){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(h,p){return l.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(m){return l.updateProgress(null,h),m}).then(h,p).then(function(m){return l.updateProgress(1),m})})},a.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),p=l.call(h,s,o);return a.convert(p,this.__proto__)},a.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},a.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},a.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return a.convert(o,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,le.getPageSize=function(s,o,l){if(Qe(s)==="object"){var h=s;s=h.orientation,o=h.unit||o,l=h.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var p,m=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+o}var d,T=0,C=0;if(g.hasOwnProperty(m))T=g[m][1]/p,C=g[m][0]/p;else try{T=l[1],C=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",C>T&&(d=C,C=T,T=d);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",T>C&&(d=C,C=T,T=d)}return{width:C,height:T,unit:o,k:p,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(X2):null;var l=new a(o);return o.worker?l:l.from(s).doCallback()}}(le.API),le.API.addJS=function(e){return Fw=e,this.internal.events.subscribe("postPutResources",function(){xp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Fw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xp!==void 0&&jw!==void 0&&this.internal.out("/Names <</JavaScript "+xp+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(a=0;a<h;a++){var m=n.internal.newObject();p.push(m);var g=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var d=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<p.length;a++)n.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+d+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(le.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,s,o){var l,h=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(m){for(var g,d=256*m.charCodeAt(4)+m.charCodeAt(5),T=m.length,C={width:0,height:0,numcomponents:1},P=4;P<T;P+=2){if(P+=d,t.indexOf(m.charCodeAt(P+1))!==-1){g=256*m.charCodeAt(P+5)+m.charCodeAt(P+6),C={width:256*m.charCodeAt(P+7)+m.charCodeAt(P+8),height:g,numcomponents:m.charCodeAt(P+9)};break}d=256*m.charCodeAt(P+2)+m.charCodeAt(P+3)}return C}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}p={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:h,index:r,alias:i}}return p}}(le.API);var ac,Np,Vw,Bw,Uw,MI=function(){var e,t,n;function r(a){var s,o,l,h,p,m,g,d,T,C,P,y,b,w;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(s=this.readUInt32(),T=(function(){var k,j;for(j=[],k=0;k<4;++k)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),h=this.readUInt16()||100,m.delay=1e3*p/h,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(T==="fdAT"&&(this.pos+=4,s-=4),a=(m!=null?m.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((C=l-this.transparency.indexed.length)>0)for(b=0;0<=C?b<C:b>C;0<=C?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(P=this.read(s)).indexOf(0),d=String.fromCharCode.apply(String,P.slice(0,g)),this.text[d]=String.fromCharCode.apply(String,P.slice(g+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,o;for(o=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,h=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function p(m,g,d,T){var C,P,y,b,w,k,j,z,N,E,R,O,x,A,L,Y,st,q,Q,X,J,at=Math.ceil((h.width-m)/d),yt=Math.ceil((h.height-g)/T),M=h.width==at&&h.height==yt;for(A=s*at,O=M?o:new Uint8Array(A*yt),k=a.length,x=0,P=0;x<yt&&l<k;){switch(a[l++]){case 0:for(b=st=0;st<A;b=st+=1)O[P++]=a[l++];break;case 1:for(b=q=0;q<A;b=q+=1)C=a[l++],w=b<s?0:O[P-s],O[P++]=(C+w)%256;break;case 2:for(b=Q=0;Q<A;b=Q+=1)C=a[l++],y=(b-b%s)/s,L=x&&O[(x-1)*A+y*s+b%s],O[P++]=(L+C)%256;break;case 3:for(b=X=0;X<A;b=X+=1)C=a[l++],y=(b-b%s)/s,w=b<s?0:O[P-s],L=x&&O[(x-1)*A+y*s+b%s],O[P++]=(C+Math.floor((w+L)/2))%256;break;case 4:for(b=J=0;J<A;b=J+=1)C=a[l++],y=(b-b%s)/s,w=b<s?0:O[P-s],x===0?L=Y=0:(L=O[(x-1)*A+y*s+b%s],Y=y&&O[(x-1)*A+(y-1)*s+b%s]),j=w+L-Y,z=Math.abs(j-w),E=Math.abs(j-L),R=Math.abs(j-Y),N=z<=E&&z<=R?w:E<=R?L:Y,O[P++]=(C+N)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!M){var $=((g+x*T)*h.width+m)*s,Z=x*A;for(b=0;b<at;b+=1){for(var et=0;et<s;et+=1)o[$++]=O[Z++];$+=(d-1)*s}}x++}}return a=dI(a),h.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),o},r.prototype.decodePalette=function(){var a,s,o,l,h,p,m,g,d;for(o=this.palette,p=this.transparency.indexed||[],h=new Uint8Array((p.length||0)+o.length),l=0,a=0,s=m=0,g=o.length;m<g;s=m+=3)h[l++]=o[s],h[l++]=o[s+1],h[l++]=o[s+2],h[l++]=(d=p[a++])!=null?d:255;return h},r.prototype.copyToImageData=function(a,s){var o,l,h,p,m,g,d,T,C,P,y;if(l=this.colors,C=null,o=this.hasAlphaChannel,this.palette.length&&(C=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),T=(h=a.data||a).length,m=C||s,p=g=0,l===1)for(;p<T;)d=C?4*s[p/4]:g,P=m[d++],h[p++]=P,h[p++]=P,h[p++]=P,h[p++]=o?m[d++]:255,g=d;else for(;p<T;)d=C?4*s[p/4]:g,h[p++]=m[d++],h[p++]=m[d++],h[p++]=m[d++],h[p++]=o?m[d++]:255,g=d},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(ue)==="[object Window]"){try{t=ue.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var s;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,o,l,h,p,m,g,d;if(this.animation){for(d=[],o=p=0,m=(g=this.animation.frames).length;p<m;o=++p)s=g[o],l=a.createImageData(s.width,s.height),h=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,h),s.imageData=l,d.push(s.image=e(l));return d}},r.prototype.renderFrame=function(a,s){var o,l,h;return o=(l=this.animation.frames)[s],h=l[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?a.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&a.putImageData(h.imageData,h.xOffset,h.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(a){var s,o,l,h,p,m,g=this;return o=0,m=this.animation,h=m.numFrames,l=m.frames,p=m.numPlays,(s=function(){var d,T;if(d=o++%h,T=l[d],g.renderFrame(a,d),h>1&&o/h<p)return g.animation._timeout=setTimeout(s,T.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function jI(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<(7&i)+1;e[t++],e[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var h=!0,p=[],m=0,g=null,d=0,T=null;for(this.width=n,this.height=r;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,T=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var C=e[t++];m=e[t++]|e[t++]<<8,g=e[t++],!(1&C)&&(g=null),d=C>>2&7,t++;break;case 254:for(;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var P=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,k=e[t++],j=k>>6&1,z=1<<(7&k)+1,N=o,E=l,R=!1;k>>7&&(R=!0,N=t,E=z,t+=3*z);var O=t;for(t++;;){var x;if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}p.push({x:P,y,width:b,height:w,has_local_palette:R,palette_offset:N,palette_size:E,data_offset:O,data_length:t-O,transparent_index:g,interlaced:!!j,delay:m,disposal:d});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return T},this.frameInfo=function(A){if(A<0||A>=p.length)throw new Error("Frame index out of range.");return p[A]},this.decodeAndBlitFrameBGRA=function(A,L){var Y=this.frameInfo(A),st=Y.width*Y.height,q=new Uint8Array(st);zw(e,Y.data_offset,q,st);var Q=Y.palette_offset,X=Y.transparent_index;X===null&&(X=256);var J=Y.width,at=n-J,yt=J,M=4*(Y.y*n+Y.x),$=4*((Y.y+Y.height)*n+Y.x),Z=M,et=4*at;Y.interlaced===!0&&(et+=4*n*7);for(var rt=8,pt=0,gt=q.length;pt<gt;++pt){var vt=q[pt];if(yt===0&&(yt=J,(Z+=et)>=$&&(et=4*at+4*n*(rt-1),Z=M+(J+at)*(rt<<1),rt>>=1)),vt===X)Z+=4;else{var kt=e[Q+3*vt],Lt=e[Q+3*vt+1],Vt=e[Q+3*vt+2];L[Z++]=Vt,L[Z++]=Lt,L[Z++]=kt,L[Z++]=255}--yt}},this.decodeAndBlitFrameRGBA=function(A,L){var Y=this.frameInfo(A),st=Y.width*Y.height,q=new Uint8Array(st);zw(e,Y.data_offset,q,st);var Q=Y.palette_offset,X=Y.transparent_index;X===null&&(X=256);var J=Y.width,at=n-J,yt=J,M=4*(Y.y*n+Y.x),$=4*((Y.y+Y.height)*n+Y.x),Z=M,et=4*at;Y.interlaced===!0&&(et+=4*n*7);for(var rt=8,pt=0,gt=q.length;pt<gt;++pt){var vt=q[pt];if(yt===0&&(yt=J,(Z+=et)>=$&&(et=4*at+4*n*(rt-1),Z=M+(J+at)*(rt<<1),rt>>=1)),vt===X)Z+=4;else{var kt=e[Q+3*vt],Lt=e[Q+3*vt+1],Vt=e[Q+3*vt+2];L[Z++]=kt,L[Z++]=Lt,L[Z++]=Vt,L[Z++]=255}--yt}}}function zw(e,t,n,r){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,l=i+1,h=(1<<l)-1,p=0,m=0,g=0,d=e[t++],T=new Int32Array(4096),C=null;;){for(;p<16&&d!==0;)m|=e[t++]<<p,p+=8,d===1?d=e[t++]:--d;if(p<l)break;var P=m&h;if(m>>=l,p-=l,P!==a){if(P===s)break;for(var y=P<o?P:C,b=0,w=y;w>a;)w=T[w]>>8,++b;var k=w;if(g+b+(y!==P?1:0)>r)return void en.log("Warning, gif stream longer than expected.");n[g++]=k;var j=g+=b;for(y!==P&&(n[g++]=k),w=y;b--;)w=T[w],n[--j]=255&w,w>>=8;C!==null&&o<4096&&(T[o++]=C<<8|k,o>=h+1&&l<12&&(++l,h=h<<1|1)),C=P}else o=s+1,h=(1<<(l=i+1))-1,C=null}return g!==r&&en.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function d0(e){var t,n,r,i,a,s=Math.floor,o=new Array(64),l=new Array(64),h=new Array(64),p=new Array(64),m=new Array(65535),g=new Array(65535),d=new Array(64),T=new Array(64),C=[],P=0,y=7,b=new Array(64),w=new Array(64),k=new Array(64),j=new Array(256),z=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],st=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(M,$){for(var Z=0,et=0,rt=new Array,pt=1;pt<=16;pt++){for(var gt=1;gt<=M[pt];gt++)rt[$[et]]=[],rt[$[et]][0]=Z,rt[$[et]][1]=pt,et++,Z++;Z*=2}return rt}function Q(M){for(var $=M[0],Z=M[1]-1;Z>=0;)$&1<<Z&&(P|=1<<y),Z--,--y<0&&(P==255?(X(255),X(0)):X(P),y=7,P=0)}function X(M){C.push(M)}function J(M){X(M>>8&255),X(255&M)}function at(M,$,Z,et,rt){for(var pt,gt=rt[0],vt=rt[240],kt=function(Ft,Bt){var At,Tt,Ut,Zt,ee,Wt,ne,xe,ie,be,Ht=0;for(ie=0;ie<8;++ie){At=Ft[Ht],Tt=Ft[Ht+1],Ut=Ft[Ht+2],Zt=Ft[Ht+3],ee=Ft[Ht+4],Wt=Ft[Ht+5],ne=Ft[Ht+6];var rn=At+(xe=Ft[Ht+7]),de=At-xe,Dn=Tt+ne,Ae=Tt-ne,Ve=Ut+Wt,Br=Ut-Wt,Ce=Zt+ee,xa=Zt-ee,cn=rn+Ce,pr=rn-Ce,di=Dn+Ve,an=Dn-Ve;Ft[Ht]=cn+di,Ft[Ht+4]=cn-di;var se=.707106781*(an+pr);Ft[Ht+2]=pr+se,Ft[Ht+6]=pr-se;var je=.382683433*((cn=xa+Br)-(an=Ae+de)),Ii=.5411961*cn+je,Un=1.306562965*an+je,Tr=.707106781*(di=Br+Ae),pi=de+Tr,Kt=de-Tr;Ft[Ht+5]=Kt+Ii,Ft[Ht+3]=Kt-Ii,Ft[Ht+1]=pi+Un,Ft[Ht+7]=pi-Un,Ht+=8}for(Ht=0,ie=0;ie<8;++ie){At=Ft[Ht],Tt=Ft[Ht+8],Ut=Ft[Ht+16],Zt=Ft[Ht+24],ee=Ft[Ht+32],Wt=Ft[Ht+40],ne=Ft[Ht+48];var Zr=At+(xe=Ft[Ht+56]),xr=At-xe,zn=Tt+ne,Pn=Tt-ne,Tn=Ut+Wt,qn=Ut-Wt,Xs=Zt+ee,ra=Zt-ee,Nr=Zr+Xs,Jr=Zr-Xs,Ur=zn+Tn,zr=zn-Tn;Ft[Ht]=Nr+Ur,Ft[Ht+32]=Nr-Ur;var In=.707106781*(zr+Jr);Ft[Ht+16]=Jr+In,Ft[Ht+48]=Jr-In;var mi=.382683433*((Nr=ra+qn)-(zr=Pn+xr)),Na=.5411961*Nr+mi,Ca=1.306562965*zr+mi,Ra=.707106781*(Ur=qn+Pn),ss=xr+Ra,os=xr-Ra;Ft[Ht+40]=os+Na,Ft[Ht+24]=os-Na,Ft[Ht+8]=ss+Ca,Ft[Ht+56]=ss-Ca,Ht++}for(ie=0;ie<64;++ie)be=Ft[ie]*Bt[ie],d[ie]=be>0?be+.5|0:be-.5|0;return d}(M,$),Lt=0;Lt<64;++Lt)T[N[Lt]]=kt[Lt];var Vt=T[0]-Z;Z=T[0],Vt==0?Q(et[0]):(Q(et[g[pt=32767+Vt]]),Q(m[pt]));for(var zt=63;zt>0&&T[zt]==0;)zt--;if(zt==0)return Q(gt),Z;for(var re,Et=1;Et<=zt;){for(var it=Et;T[Et]==0&&Et<=zt;)++Et;var fe=Et-it;if(fe>=16){re=fe>>4;for(var te=1;te<=re;++te)Q(vt);fe&=15}pt=32767+T[Et],Q(rt[(fe<<4)+g[pt]]),Q(m[pt]),Et++}return zt!=63&&Q(gt),Z}function yt(M){M=Math.min(Math.max(M,1),100),a!=M&&(function($){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],et=0;et<64;et++){var rt=s((Z[et]*$+50)/100);rt=Math.min(Math.max(rt,1),255),o[N[et]]=rt}for(var pt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],gt=0;gt<64;gt++){var vt=s((pt[gt]*$+50)/100);vt=Math.min(Math.max(vt,1),255),l[N[gt]]=vt}for(var kt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Lt=0,Vt=0;Vt<8;Vt++)for(var zt=0;zt<8;zt++)h[Lt]=1/(o[N[Lt]]*kt[Vt]*kt[zt]*8),p[Lt]=1/(l[N[Lt]]*kt[Vt]*kt[zt]*8),Lt++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,$){$&&yt($),C=new Array,P=0,y=7,J(65496),J(65504),J(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),J(1),J(1),X(0),X(0),function(){J(65499),J(132),X(0);for(var Tt=0;Tt<64;Tt++)X(o[Tt]);X(1);for(var Ut=0;Ut<64;Ut++)X(l[Ut])}(),function(Tt,Ut){J(65472),J(17),X(8),J(Ut),J(Tt),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(M.width,M.height),function(){J(65476),J(418),X(0);for(var Tt=0;Tt<16;Tt++)X(E[Tt+1]);for(var Ut=0;Ut<=11;Ut++)X(R[Ut]);X(16);for(var Zt=0;Zt<16;Zt++)X(O[Zt+1]);for(var ee=0;ee<=161;ee++)X(x[ee]);X(1);for(var Wt=0;Wt<16;Wt++)X(A[Wt+1]);for(var ne=0;ne<=11;ne++)X(L[ne]);X(17);for(var xe=0;xe<16;xe++)X(Y[xe+1]);for(var ie=0;ie<=161;ie++)X(st[ie])}(),J(65498),J(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var Z=0,et=0,rt=0;P=0,y=7,this.encode.displayName="_encode_";for(var pt,gt,vt,kt,Lt,Vt,zt,re,Et,it=M.data,fe=M.width,te=M.height,Ft=4*fe,Bt=0;Bt<te;){for(pt=0;pt<Ft;){for(Lt=Ft*Bt+pt,zt=-1,re=0,Et=0;Et<64;Et++)Vt=Lt+(re=Et>>3)*Ft+(zt=4*(7&Et)),Bt+re>=te&&(Vt-=Ft*(Bt+1+re-te)),pt+zt>=Ft&&(Vt-=pt+zt-Ft+4),gt=it[Vt++],vt=it[Vt++],kt=it[Vt++],b[Et]=(z[gt]+z[vt+256>>0]+z[kt+512>>0]>>16)-128,w[Et]=(z[gt+768>>0]+z[vt+1024>>0]+z[kt+1280>>0]>>16)-128,k[Et]=(z[gt+1280>>0]+z[vt+1536>>0]+z[kt+1792>>0]>>16)-128;Z=at(b,h,Z,t,r),et=at(w,p,et,n,i),rt=at(k,p,rt,n,i),pt+=32}Bt+=8}if(y>=0){var At=[];At[1]=y+1,At[0]=(1<<y+1)-1,Q(At)}return J(65497),new Uint8Array(C)},e=e||50,function(){for(var M=String.fromCharCode,$=0;$<256;$++)j[$]=M($)}(),t=q(E,R),n=q(A,L),r=q(O,x),i=q(Y,st),function(){for(var M=1,$=2,Z=1;Z<=15;Z++){for(var et=M;et<$;et++)g[32767+et]=Z,m[32767+et]=[],m[32767+et][1]=Z,m[32767+et][0]=et;for(var rt=-($-1);rt<=-M;rt++)g[32767+rt]=Z,m[32767+rt]=[],m[32767+rt][1]=Z,m[32767+rt][0]=$-1+rt;M<<=1,$<<=1}}(),function(){for(var M=0;M<256;M++)z[M]=19595*M,z[M+256>>0]=38470*M,z[M+512>>0]=7471*M+32768,z[M+768>>0]=-11059*M,z[M+1024>>0]=-21709*M,z[M+1280>>0]=32768*M+8421375,z[M+1536>>0]=-27439*M,z[M+1792>>0]=-5329*M}(),yt(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ma(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function qw(e){function t(E){if(!E)throw Error("assert :P")}function n(E,R,O){for(var x=0;4>x;x++)if(E[R+x]!=O.charCodeAt(x))return!0;return!1}function r(E,R,O,x,A){for(var L=0;L<A;L++)E[R+L]=O[x+L]}function i(E,R,O,x){for(var A=0;A<x;A++)E[R+A]=O}function a(E){return new Int32Array(E)}function s(E,R){for(var O=[],x=0;x<E;x++)O.push(new R);return O}function o(E,R){var O=[];return function x(A,L,Y){for(var st=Y[L],q=0;q<st&&(A.push(Y.length>L+1?[]:new R),!(Y.length<L+1));q++)x(A[q],L+1,Y)}(O,0,E),O}var l=function(){var E=this;function R(u,f){for(var _=1<<f-1>>>0;u&_;)_>>>=1;return _?(u&_-1)+_:u}function O(u,f,_,D,V){t(!(D%_));do u[f+(D-=_)]=V;while(0<D)}function x(u,f,_,D,V){if(t(2328>=V),512>=V)var B=a(512);else if((B=a(V))==null)return 0;return function(U,G,K,tt,lt,bt){var _t,mt,Rt=G,St=1<<K,ut=a(16),ht=a(16);for(t(lt!=0),t(tt!=null),t(U!=null),t(0<K),mt=0;mt<lt;++mt){if(15<tt[mt])return 0;++ut[tt[mt]]}if(ut[0]==lt)return 0;for(ht[1]=0,_t=1;15>_t;++_t){if(ut[_t]>1<<_t)return 0;ht[_t+1]=ht[_t]+ut[_t]}for(mt=0;mt<lt;++mt)_t=tt[mt],0<tt[mt]&&(bt[ht[_t]++]=mt);if(ht[15]==1)return(tt=new A).g=0,tt.value=bt[0],O(U,Rt,1,St,tt),St;var Nt,Ot=-1,Ct=St-1,Yt=0,qt=1,oe=1,Gt=1<<K;for(mt=0,_t=1,lt=2;_t<=K;++_t,lt<<=1){if(qt+=oe<<=1,0>(oe-=ut[_t]))return 0;for(;0<ut[_t];--ut[_t])(tt=new A).g=_t,tt.value=bt[mt++],O(U,Rt+Yt,lt,Gt,tt),Yt=R(Yt,_t)}for(_t=K+1,lt=2;15>=_t;++_t,lt<<=1){if(qt+=oe<<=1,0>(oe-=ut[_t]))return 0;for(;0<ut[_t];--ut[_t]){if(tt=new A,(Yt&Ct)!=Ot){for(Rt+=Gt,Nt=1<<(Ot=_t)-K;15>Ot&&!(0>=(Nt-=ut[Ot]));)++Ot,Nt<<=1;St+=Gt=1<<(Nt=Ot-K),U[G+(Ot=Yt&Ct)].g=Nt+K,U[G+Ot].value=Rt-G-Ot}tt.g=_t-K,tt.value=bt[mt++],O(U,Rt+(Yt>>K),lt,Gt,tt),Yt=R(Yt,_t)}}return qt!=2*ht[15]-1?0:St}(u,f,_,D,V,B)}function A(){this.value=this.g=0}function L(){this.value=this.g=0}function Y(){this.G=s(5,A),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(vr,L)}function st(u,f,_,D){t(u!=null),t(f!=null),t(2147483648>D),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=_,u.Jd=f,u.Yc=_+D,u.Zc=4<=D?_+D-4+1:_,pt(u)}function q(u,f){for(var _=0;0<f--;)_|=vt(u,128)<<f;return _}function Q(u,f){var _=q(u,f);return gt(u)?-_:_}function X(u,f,_,D){var V,B=0;for(t(u!=null),t(f!=null),t(4294967288>D),u.Sb=D,u.Ra=0,u.u=0,u.h=0,4<D&&(D=4),V=0;V<D;++V)B+=f[_+V]<<8*V;u.Ra=B,u.bb=D,u.oa=f,u.pa=_}function J(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Hu-8>>>0,++u.bb,u.u-=8;Z(u)&&(u.h=1,u.u=0)}function at(u,f){if(t(0<=f),!u.h&&f<=qu){var _=$(u)&zu[f];return u.u+=f,J(u),_}return u.h=1,u.u=0}function yt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(u){return u.Ra>>>(u.u&Hu-1)>>>0}function Z(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Hu}function et(u,f){u.u=f,u.h=Z(u)}function rt(u){u.u>=Nh&&(t(u.u>=Nh),J(u))}function pt(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function gt(u){return q(u,1)}function vt(u,f){var _=u.Ca;0>u.b&&pt(u);var D=u.b,V=_*f>>>8,B=(u.I>>>D>V)+0;for(B?(_-=V,u.I-=V+1<<D>>>0):_=V+1,D=_,V=0;256<=D;)V+=8,D>>=8;return D=7^V+ei[D],u.b-=D,u.Ca=(_<<D)-1,B}function kt(u,f,_){u[f+0]=_>>24&255,u[f+1]=_>>16&255,u[f+2]=_>>8&255,u[f+3]=_>>0&255}function Lt(u,f){return u[f+0]<<0|u[f+1]<<8}function Vt(u,f){return Lt(u,f)|u[f+2]<<16}function zt(u,f){return Lt(u,f)|Lt(u,f+2)<<16}function re(u,f){var _=1<<f;return t(u!=null),t(0<f),u.X=a(_),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function Et(u,f){t(u!=null),t(f!=null),t(u.Xa==f.Xa),r(f.X,0,u.X,0,1<<f.Xa)}function it(){this.X=[],this.Xa=this.Mb=0}function fe(u,f,_,D){t(_!=null),t(D!=null);var V=_[0],B=D[0];return V==0&&(V=(u*B+f/2)/f),B==0&&(B=(f*V+u/2)/u),0>=V||0>=B?0:(_[0]=V,D[0]=B,1)}function te(u,f){return u+(1<<f)-1>>>f}function Ft(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function Bt(u,f){E[f]=function(_,D,V,B,U,G,K){var tt;for(tt=0;tt<U;++tt){var lt=E[u](G[K+tt-1],V,B+tt);G[K+tt]=Ft(_[D+tt],lt)}}}function At(){this.ud=this.hd=this.jd=0}function Tt(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function Ut(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Zt(u,f){return Ut(u+(u-f+.5>>1))}function ee(u,f,_){return Math.abs(f-_)-Math.abs(u-_)}function Wt(u,f,_,D,V,B,U){for(D=B[U-1],_=0;_<V;++_)B[U+_]=D=Ft(u[f+_],D)}function ne(u,f,_,D,V){var B;for(B=0;B<_;++B){var U=u[f+B],G=U>>8&255,K=16711935&(K=(K=16711935&U)+((G<<16)+G));D[V+B]=(4278255360&U)+K>>>0}}function xe(u,f){f.jd=u>>0&255,f.hd=u>>8&255,f.ud=u>>16&255}function ie(u,f,_,D,V,B){var U;for(U=0;U<D;++U){var G=f[_+U],K=G>>>8,tt=G,lt=255&(lt=(lt=G>>>16)+((u.jd<<24>>24)*(K<<24>>24)>>>5));tt=255&(tt=(tt=tt+((u.hd<<24>>24)*(K<<24>>24)>>>5))+((u.ud<<24>>24)*(lt<<24>>24)>>>5)),V[B+U]=(4278255360&G)+(lt<<16)+tt}}function be(u,f,_,D,V){E[f]=function(B,U,G,K,tt,lt,bt,_t,mt){for(K=bt;K<_t;++K)for(bt=0;bt<mt;++bt)tt[lt++]=V(G[D(B[U++])])},E[u]=function(B,U,G,K,tt,lt,bt){var _t=8>>B.b,mt=B.Ea,Rt=B.K[0],St=B.w;if(8>_t)for(B=(1<<B.b)-1,St=(1<<_t)-1;U<G;++U){var ut,ht=0;for(ut=0;ut<mt;++ut)ut&B||(ht=D(K[tt++])),lt[bt++]=V(Rt[ht&St]),ht>>=_t}else E["VP8LMapColor"+_](K,tt,Rt,St,lt,bt,U,G,mt)}}function Ht(u,f,_,D,V){for(_=f+_;f<_;){var B=u[f++];D[V++]=B>>16&255,D[V++]=B>>8&255,D[V++]=B>>0&255}}function rn(u,f,_,D,V){for(_=f+_;f<_;){var B=u[f++];D[V++]=B>>16&255,D[V++]=B>>8&255,D[V++]=B>>0&255,D[V++]=B>>24&255}}function de(u,f,_,D,V){for(_=f+_;f<_;){var B=(U=u[f++])>>16&240|U>>12&15,U=U>>0&240|U>>28&15;D[V++]=B,D[V++]=U}}function Dn(u,f,_,D,V){for(_=f+_;f<_;){var B=(U=u[f++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;D[V++]=B,D[V++]=U}}function Ae(u,f,_,D,V){for(_=f+_;f<_;){var B=u[f++];D[V++]=B>>0&255,D[V++]=B>>8&255,D[V++]=B>>16&255}}function Ve(u,f,_,D,V,B){if(B==0)for(_=f+_;f<_;)kt(D,((B=u[f++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),V+=32;else r(D,V,u,f,_)}function Br(u,f){E[f][0]=E[u+"0"],E[f][1]=E[u+"1"],E[f][2]=E[u+"2"],E[f][3]=E[u+"3"],E[f][4]=E[u+"4"],E[f][5]=E[u+"5"],E[f][6]=E[u+"6"],E[f][7]=E[u+"7"],E[f][8]=E[u+"8"],E[f][9]=E[u+"9"],E[f][10]=E[u+"10"],E[f][11]=E[u+"11"],E[f][12]=E[u+"12"],E[f][13]=E[u+"13"],E[f][14]=E[u+"0"],E[f][15]=E[u+"0"]}function Ce(u){return u==Wg||u==Yg||u==Bd||u==Qg}function xa(){this.eb=[],this.size=this.A=this.fb=0}function cn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xa,this.f.kb=new cn,this.sd=null}function di(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function an(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function se(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function je(u,f){var _=u.T,D=f.ba.f.RGBA,V=D.eb,B=D.fb+u.ka*D.A,U=Bi[f.ba.S],G=u.y,K=u.O,tt=u.f,lt=u.N,bt=u.ea,_t=u.W,mt=f.cc,Rt=f.dc,St=f.Mc,ut=f.Nc,ht=u.ka,Nt=u.ka+u.T,Ot=u.U,Ct=Ot+1>>1;for(ht==0?U(G,K,null,null,tt,lt,bt,_t,tt,lt,bt,_t,V,B,null,null,Ot):(U(f.ec,f.fc,G,K,mt,Rt,St,ut,tt,lt,bt,_t,V,B-D.A,V,B,Ot),++_);ht+2<Nt;ht+=2)mt=tt,Rt=lt,St=bt,ut=_t,lt+=u.Rc,_t+=u.Rc,B+=2*D.A,U(G,(K+=2*u.fa)-u.fa,G,K,mt,Rt,St,ut,tt,lt,bt,_t,V,B-D.A,V,B,Ot);return K+=u.fa,u.j+Nt<u.o?(r(f.ec,f.fc,G,K,Ot),r(f.cc,f.dc,tt,lt,Ct),r(f.Mc,f.Nc,bt,_t,Ct),_--):1&Nt||U(G,K,null,null,tt,lt,bt,_t,tt,lt,bt,_t,V,B+D.A,null,null,Ot),_}function Ii(u,f,_){var D=u.F,V=[u.J];if(D!=null){var B=u.U,U=f.ba.S,G=U==Vd||U==Bd;f=f.ba.f.RGBA;var K=[0],tt=u.ka;K[0]=u.T,u.Kb&&(tt==0?--K[0]:(--tt,V[0]-=u.width),u.j+u.ka+u.T==u.o&&(K[0]=u.o-u.j-tt));var lt=f.eb;tt=f.fb+tt*f.A,u=on(D,V[0],u.width,B,K,lt,tt+(G?0:3),f.A),t(_==K),u&&Ce(U)&&Fi(lt,tt,G,B,K,f.A)}return 0}function Un(u){var f=u.ma,_=f.ba.S,D=11>_,V=_==jd||_==Fd||_==Vd||_==Gg||_==12||Ce(_);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Th(f.Oa,u,V?11:12))return 0;if(V&&Ce(_)&&Mt(),u.da)alert("todo:use_scaling");else{if(D){if(f.Ib=se,u.Kb){if(_=u.U+1>>1,f.memory=a(u.U+2*_),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+_,f.Ib=je,Mt()}}else alert("todo:EmitYUV");V&&(f.Jb=Ii,D&&dt())}if(D&&!oy){for(u=0;256>u;++u)eT[u]=89858*(u-128)+zd>>Ud,iT[u]=-22014*(u-128)+zd,rT[u]=-45773*(u-128),nT[u]=113618*(u-128)+zd>>Ud;for(u=Oh;u<Zg;++u)f=76283*(u-16)+zd>>Ud,aT[u-Oh]=qe(f,255),sT[u-Oh]=qe(f+8>>4,15);oy=1}return 1}function Tr(u){var f=u.ma,_=u.U,D=u.T;return t(!(1&u.ka)),0>=_||0>=D?0:(_=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,_),f.Dc+=_,1)}function pi(u){u.ma.memory=null}function Kt(u,f,_,D){return at(u,8)!=47?0:(f[0]=at(u,14)+1,_[0]=at(u,14)+1,D[0]=at(u,1),at(u,3)!=0?0:!u.h)}function Zr(u,f){if(4>u)return u+1;var _=u-2>>1;return(2+(1&u)<<_)+at(f,_)+1}function xr(u,f){return 120<f?f-120:1<=(_=((_=UE[f-1])>>4)*u+(8-(15&_)))?_:1;var _}function zn(u,f,_){var D=$(_),V=u[f+=255&D].g-8;return 0<V&&(et(_,_.u+8),D=$(_),f+=u[f].value,f+=D&(1<<V)-1),et(_,_.u+u[f].g),u[f].value}function Pn(u,f,_){return _.g+=u.g,_.value+=u.value<<f>>>0,t(8>=_.g),u.g}function Tn(u,f,_){var D=u.xc;return t((f=D==0?0:u.vc[u.md*(_>>D)+(f>>D)])<u.Wb),u.Ya[f]}function qn(u,f,_,D){var V=u.ab,B=u.c*f,U=u.C;f=U+f;var G=_,K=D;for(D=u.Ta,_=u.Ua;0<V--;){var tt=u.gc[V],lt=U,bt=f,_t=G,mt=K,Rt=(K=D,G=_,tt.Ea);switch(t(lt<bt),t(bt<=tt.nc),tt.hc){case 2:Ld(_t,mt,(bt-lt)*Rt,K,G);break;case 0:var St=lt,ut=bt,ht=K,Nt=G,Ot=(Gt=tt).Ea;St==0&&(Hg(_t,mt,null,null,1,ht,Nt),Wt(_t,mt+1,0,0,Ot-1,ht,Nt+1),mt+=Ot,Nt+=Ot,++St);for(var Ct=1<<Gt.b,Yt=Ct-1,qt=te(Ot,Gt.b),oe=Gt.K,Gt=Gt.w+(St>>Gt.b)*qt;St<ut;){var Ue=oe,We=Gt,Fe=1;for(Ch(_t,mt,ht,Nt-Ot,1,ht,Nt);Fe<Ot;){var Le=(Fe&~Yt)+Ct;Le>Ot&&(Le=Ot),(0,go[Ue[We++]>>8&15])(_t,mt+ +Fe,ht,Nt+Fe-Ot,Le-Fe,ht,Nt+Fe),Fe=Le}mt+=Ot,Nt+=Ot,++St&Yt||(Gt+=qt)}bt!=tt.nc&&r(K,G-Rt,K,G+(bt-lt-1)*Rt,Rt);break;case 1:for(Rt=_t,ut=mt,Ot=(_t=tt.Ea)-(Nt=_t&~(ht=(mt=1<<tt.b)-1)),St=te(_t,tt.b),Ct=tt.K,tt=tt.w+(lt>>tt.b)*St;lt<bt;){for(Yt=Ct,qt=tt,oe=new At,Gt=ut+Nt,Ue=ut+_t;ut<Gt;)xe(Yt[qt++],oe),kl(oe,Rt,ut,mt,K,G),ut+=mt,G+=mt;ut<Ue&&(xe(Yt[qt++],oe),kl(oe,Rt,ut,Ot,K,G),ut+=Ot,G+=Ot),++lt&ht||(tt+=St)}break;case 3:if(_t==K&&mt==G&&0<tt.b){for(ut=K,_t=Rt=G+(bt-lt)*Rt-(Nt=(bt-lt)*te(tt.Ea,tt.b)),mt=K,ht=G,St=[],Nt=(Ot=Nt)-1;0<=Nt;--Nt)St[Nt]=mt[ht+Nt];for(Nt=Ot-1;0<=Nt;--Nt)ut[_t+Nt]=St[Nt];ki(tt,lt,bt,K,Rt,K,G)}else ki(tt,lt,bt,_t,mt,K,G)}G=D,K=_}K!=_&&r(D,_,G,K,B)}function Xs(u,f){var _=u.V,D=u.Ba+u.c*u.C,V=f-u.C;if(t(f<=u.l.o),t(16>=V),0<V){var B=u.l,U=u.Ta,G=u.Ua,K=B.width;if(qn(u,V,_,D),V=G=[G],t((_=u.C)<(D=f)),t(B.v<B.va),D>B.o&&(D=B.o),_<B.j){var tt=B.j-_;_=B.j,V[0]+=tt*K}if(_>=D?_=0:(V[0]+=4*B.v,B.ka=_-B.j,B.U=B.va-B.v,B.T=D-_,_=1),_){if(G=G[0],11>(_=u.ca).S){var lt=_.f.RGBA,bt=(D=_.S,V=B.U,B=B.T,tt=lt.eb,lt.A),_t=B;for(lt=lt.fb+u.Ma*lt.A;0<_t--;){var mt=U,Rt=G,St=V,ut=tt,ht=lt;switch(D){case Md:ni(mt,Rt,St,ut,ht);break;case jd:Hr(mt,Rt,St,ut,ht);break;case Wg:Hr(mt,Rt,St,ut,ht),Fi(ut,ht,0,St,1,0);break;case Zv:ys(mt,Rt,St,ut,ht);break;case Fd:Ve(mt,Rt,St,ut,ht,1);break;case Yg:Ve(mt,Rt,St,ut,ht,1),Fi(ut,ht,0,St,1,0);break;case Vd:Ve(mt,Rt,St,ut,ht,0);break;case Bd:Ve(mt,Rt,St,ut,ht,0),Fi(ut,ht,1,St,1,0);break;case Gg:vo(mt,Rt,St,ut,ht);break;case Qg:vo(mt,Rt,St,ut,ht),sn(ut,ht,St,1,0);break;case Jv:vs(mt,Rt,St,ut,ht);break;default:t(0)}G+=K,lt+=bt}u.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=_.height)}}u.C=f,t(u.C<=u.i)}function ra(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var _=u.Ya[f].G,D=u.Ya[f].H;if(0<_[1][D[1]+0].g||0<_[2][D[2]+0].g||0<_[3][D[3]+0].g)return 0}return 1}function Nr(u,f,_,D,V,B){if(u.Z!=0){var U=u.qd,G=u.rd;for(t(wo[u.Z]!=null);f<_;++f)wo[u.Z](U,G,D,V,D,V,B),U=D,G=V,V+=B;u.qd=U,u.rd=G}}function Jr(u,f){var _=u.l.ma,D=_.Z==0||_.Z==1?u.l.j:u.C;if(D=u.C<D?D:u.C,t(f<=u.l.o),f>D){var V=u.l.width,B=_.ca,U=_.tb+V*D,G=u.V,K=u.Ba+u.c*D,tt=u.gc;t(u.ab==1),t(tt[0].hc==3),Dd(tt[0],D,f,G,K,B,U),Nr(_,D,f,B,U,V)}u.C=u.Ma=f}function Ur(u,f,_,D,V,B,U){var G=u.$/D,K=u.$%D,tt=u.m,lt=u.s,bt=_+u.$,_t=bt;V=_+D*V;var mt=_+D*B,Rt=280+lt.ua,St=u.Pb?G:16777216,ut=0<lt.ua?lt.Wa:null,ht=lt.wc,Nt=bt<mt?Tn(lt,K,G):null;t(u.C<B),t(mt<=V);var Ot=!1;t:for(;;){for(;Ot||bt<mt;){var Ct=0;if(G>=St){var Yt=bt-_;t((St=u).Pb),St.wd=St.m,St.xd=Yt,0<St.s.ua&&Et(St.s.Wa,St.s.vb),St=G+qE}if(K&ht||(Nt=Tn(lt,K,G)),t(Nt!=null),Nt.Qb&&(f[bt]=Nt.qb,Ot=!0),!Ot)if(rt(tt),Nt.jc){Ct=tt,Yt=f;var qt=bt,oe=Nt.pd[$(Ct)&vr-1];t(Nt.jc),256>oe.g?(et(Ct,Ct.u+oe.g),Yt[qt]=oe.value,Ct=0):(et(Ct,Ct.u+oe.g-256),t(256<=oe.value),Ct=oe.value),Ct==0&&(Ot=!0)}else Ct=zn(Nt.G[0],Nt.H[0],tt);if(tt.h)break;if(Ot||256>Ct){if(!Ot)if(Nt.nd)f[bt]=(Nt.qb|Ct<<8)>>>0;else{if(rt(tt),Ot=zn(Nt.G[1],Nt.H[1],tt),rt(tt),Yt=zn(Nt.G[2],Nt.H[2],tt),qt=zn(Nt.G[3],Nt.H[3],tt),tt.h)break;f[bt]=(qt<<24|Ot<<16|Ct<<8|Yt)>>>0}if(Ot=!1,++bt,++K>=D&&(K=0,++G,U!=null&&G<=B&&!(G%16)&&U(u,G),ut!=null))for(;_t<bt;)Ct=f[_t++],ut.X[(506832829*Ct&4294967295)>>>ut.Mb]=Ct}else if(280>Ct){if(Ct=Zr(Ct-256,tt),Yt=zn(Nt.G[4],Nt.H[4],tt),rt(tt),Yt=xr(D,Yt=Zr(Yt,tt)),tt.h)break;if(bt-_<Yt||V-bt<Ct)break t;for(qt=0;qt<Ct;++qt)f[bt+qt]=f[bt+qt-Yt];for(bt+=Ct,K+=Ct;K>=D;)K-=D,++G,U!=null&&G<=B&&!(G%16)&&U(u,G);if(t(bt<=V),K&ht&&(Nt=Tn(lt,K,G)),ut!=null)for(;_t<bt;)Ct=f[_t++],ut.X[(506832829*Ct&4294967295)>>>ut.Mb]=Ct}else{if(!(Ct<Rt))break t;for(Ot=Ct-280,t(ut!=null);_t<bt;)Ct=f[_t++],ut.X[(506832829*Ct&4294967295)>>>ut.Mb]=Ct;Ct=bt,t(!(Ot>>>(Yt=ut).Xa)),f[Ct]=Yt.X[Ot],Ot=!0}Ot||t(tt.h==Z(tt))}if(u.Pb&&tt.h&&bt<V)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Et(u.s.vb,u.s.Wa);else{if(tt.h)break t;U!=null&&U(u,G>B?B:G),u.a=0,u.$=bt-_}return 1}return u.a=3,0}function zr(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,t(u!=null)}function In(){var u=new Bu;return u==null?null:(u.a=0,u.xb=ny,Br("Predictor","VP8LPredictors"),Br("Predictor","VP8LPredictors_C"),Br("PredictorAdd","VP8LPredictorsAdd"),Br("PredictorAdd","VP8LPredictorsAdd_C"),Ld=ne,kl=ie,ni=Ht,Hr=rn,vo=de,vs=Dn,ys=Ae,E.VP8LMapColor32b=$u,E.VP8LMapColor8b=Pd,u)}function mi(u,f,_,D,V){var B=1,U=[u],G=[f],K=D.m,tt=D.s,lt=null,bt=0;t:for(;;){if(_)for(;B&&at(K,1);){var _t=U,mt=G,Rt=D,St=1,ut=Rt.m,ht=Rt.gc[Rt.ab],Nt=at(ut,2);if(Rt.Oc&1<<Nt)B=0;else{switch(Rt.Oc|=1<<Nt,ht.hc=Nt,ht.Ea=_t[0],ht.nc=mt[0],ht.K=[null],++Rt.ab,t(4>=Rt.ab),Nt){case 0:case 1:ht.b=at(ut,3)+2,St=mi(te(ht.Ea,ht.b),te(ht.nc,ht.b),0,Rt,ht.K),ht.K=ht.K[0];break;case 3:var Ot,Ct=at(ut,8)+1,Yt=16<Ct?0:4<Ct?1:2<Ct?2:3;if(_t[0]=te(ht.Ea,Yt),ht.b=Yt,Ot=St=mi(Ct,1,0,Rt,ht.K)){var qt,oe=Ct,Gt=ht,Ue=1<<(8>>Gt.b),We=a(Ue);if(We==null)Ot=0;else{var Fe=Gt.K[0],Le=Gt.w;for(We[0]=Gt.K[0][0],qt=1;qt<1*oe;++qt)We[qt]=Ft(Fe[Le+qt],We[qt-1]);for(;qt<4*Ue;++qt)We[qt]=0;Gt.K[0]=null,Gt.K[0]=We,Ot=1}}St=Ot;break;case 2:break;default:t(0)}B=St}}if(U=U[0],G=G[0],B&&at(K,1)&&!(B=1<=(bt=at(K,4))&&11>=bt)){D.a=3;break t}var tn;if(tn=B)e:{var Ke,_e,Hn,ri=D,$n=U,ii=G,Ye=bt,_i=_,wi=ri.m,sr=ri.s,yr=[null],Gr=1,Ui=0,Va=zE[Ye];n:for(;;){if(_i&&at(wi,1)){var or=at(wi,3)+2,As=te($n,or),Bl=te(ii,or),Ku=As*Bl;if(!mi(As,Bl,0,ri,yr))break n;for(yr=yr[0],sr.xc=or,Ke=0;Ke<Ku;++Ke){var Ao=yr[Ke]>>8&65535;yr[Ke]=Ao,Ao>=Gr&&(Gr=Ao+1)}}if(wi.h)break n;for(_e=0;5>_e;++_e){var Nn=ty[_e];!_e&&0<Ye&&(Nn+=1<<Ye),Ui<Nn&&(Ui=Nn)}var Jg=s(Gr*Va,A),cy=Gr,hy=s(cy,Y);if(hy==null)var Hd=null;else t(65536>=cy),Hd=hy;var kh=a(Ui);if(Hd==null||kh==null||Jg==null){ri.a=1;break n}var $d=Jg;for(Ke=Hn=0;Ke<Gr;++Ke){var da=Hd[Ke],Xu=da.G,Zu=da.H,fy=0,Gd=1,dy=0;for(_e=0;5>_e;++_e){Nn=ty[_e],Xu[_e]=$d,Zu[_e]=Hn,!_e&&0<Ye&&(Nn+=1<<Ye);i:{var Wd,t1=Nn,Yd=ri,Mh=kh,uT=$d,cT=Hn,e1=0,So=Yd.m,hT=at(So,1);if(i(Mh,0,0,t1),hT){var fT=at(So,1)+1,dT=at(So,1),py=at(So,dT==0?1:8);Mh[py]=1,fT==2&&(Mh[py=at(So,8)]=1);var Qd=1}else{var my=a(19),gy=at(So,4)+4;if(19<gy){Yd.a=3;var Kd=0;break i}for(Wd=0;Wd<gy;++Wd)my[BE[Wd]]=at(So,3);var n1=void 0,jh=void 0,vy=Yd,pT=my,Xd=t1,yy=Mh,r1=0,Eo=vy.m,by=8,_y=s(128,A);r:for(;x(_y,0,7,pT,19);){if(at(Eo,1)){var mT=2+2*at(Eo,3);if((n1=2+at(Eo,mT))>Xd)break r}else n1=Xd;for(jh=0;jh<Xd&&n1--;){rt(Eo);var wy=_y[0+(127&$(Eo))];et(Eo,Eo.u+wy.g);var Ju=wy.value;if(16>Ju)yy[jh++]=Ju,Ju!=0&&(by=Ju);else{var gT=Ju==16,Ay=Ju-16,vT=FE[Ay],Sy=at(Eo,jE[Ay])+vT;if(jh+Sy>Xd)break r;for(var yT=gT?by:0;0<Sy--;)yy[jh++]=yT}}r1=1;break r}r1||(vy.a=3),Qd=r1}(Qd=Qd&&!So.h)&&(e1=x(uT,cT,8,Mh,t1)),Qd&&e1!=0?Kd=e1:(Yd.a=3,Kd=0)}if(Kd==0)break n;if(Gd&&VE[_e]==1&&(Gd=$d[Hn].g==0),fy+=$d[Hn].g,Hn+=Kd,3>=_e){var Fh,i1=kh[0];for(Fh=1;Fh<Nn;++Fh)kh[Fh]>i1&&(i1=kh[Fh]);dy+=i1}}if(da.nd=Gd,da.Qb=0,Gd&&(da.qb=(Xu[3][Zu[3]+0].value<<24|Xu[1][Zu[1]+0].value<<16|Xu[2][Zu[2]+0].value)>>>0,fy==0&&256>Xu[0][Zu[0]+0].value&&(da.Qb=1,da.qb+=Xu[0][Zu[0]+0].value<<8)),da.jc=!da.Qb&&6>dy,da.jc){var Zd,Ss=da;for(Zd=0;Zd<vr;++Zd){var To=Zd,xo=Ss.pd[To],Jd=Ss.G[0][Ss.H[0]+To];256<=Jd.value?(xo.g=Jd.g+256,xo.value=Jd.value):(xo.g=0,xo.value=0,To>>=Pn(Jd,8,xo),To>>=Pn(Ss.G[1][Ss.H[1]+To],16,xo),To>>=Pn(Ss.G[2][Ss.H[2]+To],0,xo),Pn(Ss.G[3][Ss.H[3]+To],24,xo))}}}sr.vc=yr,sr.Wb=Gr,sr.Ya=Hd,sr.yc=Jg,tn=1;break e}tn=0}if(!(B=tn)){D.a=3;break t}if(0<bt){if(tt.ua=1<<bt,!re(tt.Wa,bt)){D.a=1,B=0;break t}}else tt.ua=0;var a1=D,Ey=U,bT=G,s1=a1.s,o1=s1.xc;if(a1.c=Ey,a1.i=bT,s1.md=te(Ey,o1),s1.wc=o1==0?-1:(1<<o1)-1,_){D.xb=KE;break t}if((lt=a(U*G))==null){D.a=1,B=0;break t}B=(B=Ur(D,lt,0,U,G,G,null))&&!K.h;break t}return B?(V!=null?V[0]=lt:(t(lt==null),t(_)),D.$=0,_||zr(tt)):zr(tt),B}function Na(u,f){var _=u.c*u.i,D=_+f+16*f;return t(u.c<=f),u.V=a(D),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+_+f,1)}function Ca(u,f){var _=u.C,D=f-_,V=u.V,B=u.Ba+u.c*_;for(t(f<=u.l.o);0<D;){var U=16<D?16:D,G=u.l.ma,K=u.l.width,tt=K*U,lt=G.ca,bt=G.tb+K*_,_t=u.Ta,mt=u.Ua;qn(u,U,V,B),kn(_t,mt,lt,bt,tt),Nr(G,_,_+U,lt,bt,K),D-=U,V+=U*u.c,_+=U}t(_==f),u.C=u.Ma=f}function Ra(){this.ub=this.yd=this.td=this.Rb=0}function ss(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function os(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Lu(){this.Yb=function(){var u=[];return function f(_,D,V){for(var B=V[D],U=0;U<B&&(_.push(V.length>D+1?[]:0),!(V.length<D+1));U++)f(_[U],D+1,V)}(u,0,[3,11]),u}()}function Zs(){this.jb=a(3),this.Wc=o([4,8],Lu),this.Xc=o([4,17],Lu)}function Du(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function La(){this.ld=this.La=this.dd=this.tc=0}function Da(){this.Na=this.la=0}function ia(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ls(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wh(){this.uc=this.M=this.Nb=0,this.wa=Array(new La),this.Y=0,this.ya=Array(new ls),this.aa=0,this.l=new us}function wl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Pu(){this.cb=this.a=0,this.sc="",this.m=new yt,this.Od=new Ra,this.Kc=new ss,this.ed=new Du,this.Qa=new os,this.Ic=this.$c=this.Aa=0,this.D=new wh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,yt),this.ia=0,this.pb=s(4,ia),this.Pa=new Zs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wl),this.Hd=0,this.rb=Array(new Da),this.sb=0,this.wa=Array(new La),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ls),this.L=this.aa=0,this.gd=o([4,2],La),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function us(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Al(){var u=new Pu;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Ih||(Ih=Iu)),u}function hn(u,f,_){return u.a==0&&(u.a=f,u.sc=_,u.cb=0),0}function Sl(u,f,_){return 3<=_&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function El(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return hn(u,2,"null VP8Io passed to VP8GetHeaders()");var _=f.data,D=f.w,V=f.ha;if(4>V)return hn(u,7,"Truncated header.");var B=_[D+0]|_[D+1]<<8|_[D+2]<<16,U=u.Od;if(U.Rb=!(1&B),U.td=B>>1&7,U.yd=B>>4&1,U.ub=B>>5,3<U.td)return hn(u,3,"Incorrect keyframe parameters.");if(!U.yd)return hn(u,4,"Frame not displayable.");D+=3,V-=3;var G=u.Kc;if(U.Rb){if(7>V)return hn(u,7,"cannot parse picture header");if(!Sl(_,D,V))return hn(u,3,"Bad code word");G.c=16383&(_[D+4]<<8|_[D+3]),G.Td=_[D+4]>>6,G.i=16383&(_[D+6]<<8|_[D+5]),G.Ud=_[D+6]>>6,D+=7,V-=7,u.za=G.c+15>>4,u.Ub=G.i+15>>4,f.width=G.c,f.height=G.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((B=u.Pa).jb,0,255,B.jb.length),t((B=u.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(U.ub>V)return hn(u,7,"bad partition length");st(B=u.m,_,D,U.ub),D+=U.ub,V-=U.ub,U.Rb&&(G.Ld=gt(B),G.Kd=gt(B)),G=u.Qa;var K,tt=u.Pa;if(t(B!=null),t(G!=null),G.Cb=gt(B),G.Cb){if(G.Bb=gt(B),gt(B)){for(G.Fb=gt(B),K=0;4>K;++K)G.Zb[K]=gt(B)?Q(B,7):0;for(K=0;4>K;++K)G.Lb[K]=gt(B)?Q(B,6):0}if(G.Bb)for(K=0;3>K;++K)tt.jb[K]=gt(B)?q(B,8):255}else G.Bb=0;if(B.Ka)return hn(u,3,"cannot parse segment header");if((G=u.ed).zd=gt(B),G.Tb=q(B,6),G.wb=q(B,3),G.Pc=gt(B),G.Pc&&gt(B)){for(tt=0;4>tt;++tt)gt(B)&&(G.vd[tt]=Q(B,6));for(tt=0;4>tt;++tt)gt(B)&&(G.od[tt]=Q(B,6))}if(u.L=G.Tb==0?0:G.zd?1:2,B.Ka)return hn(u,3,"cannot parse filter header");var lt=V;if(V=K=D,D=K+lt,G=lt,u.Xb=(1<<q(u.m,2))-1,lt<3*(tt=u.Xb))_=7;else{for(K+=3*tt,G-=3*tt,lt=0;lt<tt;++lt){var bt=_[V+0]|_[V+1]<<8|_[V+2]<<16;bt>G&&(bt=G),st(u.Jc[+lt],_,K,bt),K+=bt,G-=bt,V+=3}st(u.Jc[+tt],_,K,G),_=K<D?0:5}if(_!=0)return hn(u,_,"cannot parse partitions");for(_=q(K=u.m,7),V=gt(K)?Q(K,4):0,D=gt(K)?Q(K,4):0,G=gt(K)?Q(K,4):0,tt=gt(K)?Q(K,4):0,K=gt(K)?Q(K,4):0,lt=u.Qa,bt=0;4>bt;++bt){if(lt.Cb){var _t=lt.Zb[bt];lt.Fb||(_t+=_)}else{if(0<bt){u.pb[bt]=u.pb[0];continue}_t=_}var mt=u.pb[bt];mt.Sc[0]=Kg[qe(_t+V,127)],mt.Sc[1]=Xg[qe(_t+0,127)],mt.Eb[0]=2*Kg[qe(_t+D,127)],mt.Eb[1]=101581*Xg[qe(_t+G,127)]>>16,8>mt.Eb[1]&&(mt.Eb[1]=8),mt.Qc[0]=Kg[qe(_t+tt,117)],mt.Qc[1]=Xg[qe(_t+K,127)],mt.lc=_t+K}if(!U.Rb)return hn(u,4,"Not a key frame.");for(gt(B),U=u.Pa,_=0;4>_;++_){for(V=0;8>V;++V)for(D=0;3>D;++D)for(G=0;11>G;++G)tt=vt(B,YE[_][V][D][G])?q(B,8):GE[_][V][D][G],U.Wc[_][V].Yb[D][G]=tt;for(V=0;17>V;++V)U.Xc[_][V]=U.Wc[_][QE[V]]}return u.kc=gt(B),u.kc&&(u.Bd=q(B,8)),u.cb=1}function Iu(u,f,_,D,V,B,U){var G=f[V].Yb[_];for(_=0;16>V;++V){if(!vt(u,G[_+0]))return V;for(;!vt(u,G[_+1]);)if(G=f[++V].Yb[0],_=0,V==16)return 16;var K=f[V+1].Yb;if(vt(u,G[_+2])){var tt=u,lt=0;if(vt(tt,(_t=G)[(bt=_)+3]))if(vt(tt,_t[bt+6])){for(G=0,bt=2*(lt=vt(tt,_t[bt+8]))+(_t=vt(tt,_t[bt+9+lt])),lt=0,_t=HE[bt];_t[G];++G)lt+=lt+vt(tt,_t[G]);lt+=3+(8<<bt)}else vt(tt,_t[bt+7])?(lt=7+2*vt(tt,165),lt+=vt(tt,145)):lt=5+vt(tt,159);else lt=vt(tt,_t[bt+4])?3+vt(tt,_t[bt+5]):2;G=K[2]}else lt=1,G=K[1];K=U+$E[V],0>(tt=u).b&&pt(tt);var bt,_t=tt.b,mt=(bt=tt.Ca>>1)-(tt.I>>_t)>>31;--tt.b,tt.Ca+=mt,tt.Ca|=1,tt.I-=(bt+1&mt)<<_t,B[K]=((lt^mt)-mt)*D[(0<V)+0]}return 16}function Tl(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Ou(u,f){if(u==null)return 0;if(f==null)return hn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!El(u,f))return 0;if(t(u.cb),f.ac==null||f.ac(f)){f.ob&&(u.L=0);var _=qd[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=f.v-_>>4,u.zb=f.j-_>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=f.o+15+_>>4,u.Hb=f.va+15+_>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var D=u.ed;for(_=0;4>_;++_){var V;if(u.Qa.Cb){var B=u.Qa.Lb[_];u.Qa.Fb||(B+=D.Tb)}else B=D.Tb;for(V=0;1>=V;++V){var U=u.gd[_][V],G=B;if(D.Pc&&(G+=D.vd[0],V&&(G+=D.od[0])),0<(G=0>G?0:63<G?63:G)){var K=G;0<D.wb&&(K=4<D.wb?K>>2:K>>1)>9-D.wb&&(K=9-D.wb),1>K&&(K=1),U.dd=K,U.tc=2*G+K,U.ld=40<=G?2:15<=G?1:0}else U.tc=0;U.La=V}}}_=0}else hn(u,6,"Frame setup failed"),_=u.a;if(_=_==0){if(_){u.$c=0,0<u.Aa||(u.Ic=lT);t:{_=u.Ic,D=4*(K=u.za);var tt=32*K,lt=K+1,bt=0<u.L?K*(0<u.Aa?2:1):0,_t=(u.Aa==2?2:1)*K;if((U=D+832+(V=3*(16*_+qd[u.L])/2*tt)+(B=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=U)_=0;else{if(U>u.Vb){if(u.Vb=0,u.Ec=a(U),u.Fc=0,u.Ec==null){_=hn(u,1,"no memory during frame initialization.");break t}u.Vb=U}U=u.Ec,G=u.Fc,u.Ac=U,u.Bc=G,G+=D,u.Gd=s(tt,wl),u.Hd=0,u.rb=s(lt+1,Da),u.sb=1,u.wa=bt?s(bt,La):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=K),t(!0),u.oc=U,u.pc=G,G+=832,u.ya=s(_t,ls),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=K),u.R=16*K,u.B=8*K,K=(tt=qd[u.L])*u.R,tt=tt/2*u.B,u.sa=U,u.ta=G+K,u.qa=u.sa,u.ra=u.ta+16*_*u.R+tt,u.Ha=u.qa,u.Ia=u.ra+8*_*u.B+tt,u.$c=0,G+=V,u.mb=B?U:null,u.nb=B?G:null,t(G+B<=u.Fc+u.Vb),Tl(u),i(u.Ac,u.Bc,0,D),_=1}}if(_){if(f.ka=0,f.y=u.sa,f.O=u.ta,f.f=u.qa,f.N=u.ra,f.ea=u.Ha,f.Vd=u.Ia,f.fa=u.R,f.Rc=u.B,f.F=null,f.J=0,!Od){for(_=-255;255>=_;++_)Jn[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)_s[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)Ph[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)Qu[255+_]=0>_?0:255<_?255:_;Od=1}Gu=fs,bs=to,Rh=xl,$r=Ge,Mi=hs,On=cs,Wu=oo,Id=ua,Lh=uo,Ml=Ol,jl=lo,yo=ps,Fl=co,Yu=ka,Vl=ds,bo=yi,Dh=Zn,ji=Vu,fa[0]=Oi,fa[1]=Ah,fa[2]=Ia,fa[3]=Eh,fa[4]=ju,fa[5]=ro,fa[6]=gi,fa[7]=Cl,fa[8]=ao,fa[9]=io,_o[0]=Pa,_o[1]=Sh,_o[2]=sa,_o[3]=eo,_o[4]=fn,_o[5]=Mu,_o[6]=Nl,ws[0]=la,ws[1]=ku,ws[2]=Fu,ws[3]=oa,ws[4]=ze,ws[5]=Rl,ws[6]=Ll,_=1}else _=0}_&&(_=function(mt,Rt){for(mt.M=0;mt.M<mt.Va;++mt.M){var St,ut=mt.Jc[mt.M&mt.Xb],ht=mt.m,Nt=mt;for(St=0;St<Nt.za;++St){var Ot=ht,Ct=Nt,Yt=Ct.Ac,qt=Ct.Bc+4*St,oe=Ct.zc,Gt=Ct.ya[Ct.aa+St];if(Ct.Qa.Bb?Gt.$b=vt(Ot,Ct.Pa.jb[0])?2+vt(Ot,Ct.Pa.jb[2]):vt(Ot,Ct.Pa.jb[1]):Gt.$b=0,Ct.kc&&(Gt.Ad=vt(Ot,Ct.Bd)),Gt.Za=!vt(Ot,145)+0,Gt.Za){var Ue=Gt.Ob,We=0;for(Ct=0;4>Ct;++Ct){var Fe,Le=oe[0+Ct];for(Fe=0;4>Fe;++Fe){Le=WE[Yt[qt+Fe]][Le];for(var tn=ey[vt(Ot,Le[0])];0<tn;)tn=ey[2*tn+vt(Ot,Le[tn])];Le=-tn,Yt[qt+Fe]=Le}r(Ue,We,Yt,qt,4),We+=4,oe[0+Ct]=Le}}else Le=vt(Ot,156)?vt(Ot,128)?1:3:vt(Ot,163)?2:0,Gt.Ob[0]=Le,i(Yt,qt,Le,4),i(oe,0,Le,4);Gt.Dd=vt(Ot,142)?vt(Ot,114)?vt(Ot,183)?1:3:2:0}if(Nt.m.Ka)return hn(mt,7,"Premature end-of-partition0 encountered.");for(;mt.ja<mt.za;++mt.ja){if(Nt=ut,Ot=(ht=mt).rb[ht.sb-1],Yt=ht.rb[ht.sb+ht.ja],St=ht.ya[ht.aa+ht.ja],qt=ht.kc?St.Ad:0)Ot.la=Yt.la=0,St.Za||(Ot.Na=Yt.Na=0),St.Hc=0,St.Gc=0,St.ia=0;else{var Ke,_e;if(Ot=Yt,Yt=Nt,qt=ht.Pa.Xc,oe=ht.ya[ht.aa+ht.ja],Gt=ht.pb[oe.$b],Ct=oe.ad,Ue=0,We=ht.rb[ht.sb-1],Le=Fe=0,i(Ct,Ue,0,384),oe.Za)var Hn=0,ri=qt[3];else{tn=a(16);var $n=Ot.Na+We.Na;if($n=Ih(Yt,qt[1],$n,Gt.Eb,0,tn,0),Ot.Na=We.Na=(0<$n)+0,1<$n)Gu(tn,0,Ct,Ue);else{var ii=tn[0]+3>>3;for(tn=0;256>tn;tn+=16)Ct[Ue+tn]=ii}Hn=1,ri=qt[0]}var Ye=15&Ot.la,_i=15&We.la;for(tn=0;4>tn;++tn){var wi=1&_i;for(ii=_e=0;4>ii;++ii)Ye=Ye>>1|(wi=($n=Ih(Yt,ri,$n=wi+(1&Ye),Gt.Sc,Hn,Ct,Ue))>Hn)<<7,_e=_e<<2|(3<$n?3:1<$n?2:Ct[Ue+0]!=0),Ue+=16;Ye>>=4,_i=_i>>1|wi<<7,Fe=(Fe<<8|_e)>>>0}for(ri=Ye,Hn=_i>>4,Ke=0;4>Ke;Ke+=2){for(_e=0,Ye=Ot.la>>4+Ke,_i=We.la>>4+Ke,tn=0;2>tn;++tn){for(wi=1&_i,ii=0;2>ii;++ii)$n=wi+(1&Ye),Ye=Ye>>1|(wi=0<($n=Ih(Yt,qt[2],$n,Gt.Qc,0,Ct,Ue)))<<3,_e=_e<<2|(3<$n?3:1<$n?2:Ct[Ue+0]!=0),Ue+=16;Ye>>=2,_i=_i>>1|wi<<5}Le|=_e<<4*Ke,ri|=Ye<<4<<Ke,Hn|=(240&_i)<<Ke}Ot.la=ri,We.la=Hn,oe.Hc=Fe,oe.Gc=Le,oe.ia=43690&Le?0:Gt.ia,qt=!(Fe|Le)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[St.$b][St.Za],ht.wa[ht.Y+ht.ja].La|=!qt),Nt.Ka)return hn(mt,7,"Premature end-of-file encountered.")}if(Tl(mt),ht=Rt,Nt=1,St=(ut=mt).D,Ot=0<ut.L&&ut.M>=ut.zb&&ut.M<=ut.Va,ut.Aa==0)t:{if(St.M=ut.M,St.uc=Ot,ja(ut,St),Nt=1,St=(_e=ut.D).Nb,Ot=(Le=qd[ut.L])*ut.R,Yt=Le/2*ut.B,tn=16*St*ut.R,ii=8*St*ut.B,qt=ut.sa,oe=ut.ta-Ot+tn,Gt=ut.qa,Ct=ut.ra-Yt+ii,Ue=ut.Ha,We=ut.Ia-Yt+ii,_i=(Ye=_e.M)==0,Fe=Ye>=ut.Va-1,ut.Aa==2&&ja(ut,_e),_e.uc)for(wi=($n=ut).D.M,t($n.D.uc),_e=$n.yb;_e<$n.Hb;++_e){Hn=_e,ri=wi;var sr=(yr=(Nn=$n).D).Nb;Ke=Nn.R;var yr=yr.wa[yr.Y+Hn],Gr=Nn.sa,Ui=Nn.ta+16*sr*Ke+16*Hn,Va=yr.dd,or=yr.tc;if(or!=0)if(t(3<=or),Nn.L==1)0<Hn&&bo(Gr,Ui,Ke,or+4),yr.La&&ji(Gr,Ui,Ke,or),0<ri&&Vl(Gr,Ui,Ke,or+4),yr.La&&Dh(Gr,Ui,Ke,or);else{var As=Nn.B,Bl=Nn.qa,Ku=Nn.ra+8*sr*As+8*Hn,Ao=Nn.Ha,Nn=Nn.Ia+8*sr*As+8*Hn;sr=yr.ld,0<Hn&&(Id(Gr,Ui,Ke,or+4,Va,sr),Ml(Bl,Ku,Ao,Nn,As,or+4,Va,sr)),yr.La&&(yo(Gr,Ui,Ke,or,Va,sr),Yu(Bl,Ku,Ao,Nn,As,or,Va,sr)),0<ri&&(Wu(Gr,Ui,Ke,or+4,Va,sr),Lh(Bl,Ku,Ao,Nn,As,or+4,Va,sr)),yr.La&&(jl(Gr,Ui,Ke,or,Va,sr),Fl(Bl,Ku,Ao,Nn,As,or,Va,sr))}}if(ut.ia&&alert("todo:DitherRow"),ht.put!=null){if(_e=16*Ye,Ye=16*(Ye+1),_i?(ht.y=ut.sa,ht.O=ut.ta+tn,ht.f=ut.qa,ht.N=ut.ra+ii,ht.ea=ut.Ha,ht.W=ut.Ia+ii):(_e-=Le,ht.y=qt,ht.O=oe,ht.f=Gt,ht.N=Ct,ht.ea=Ue,ht.W=We),Fe||(Ye-=Le),Ye>ht.o&&(Ye=ht.o),ht.F=null,ht.J=null,ut.Fa!=null&&0<ut.Fa.length&&_e<Ye&&(ht.J=mo(ut,ht,_e,Ye-_e),ht.F=ut.mb,ht.F==null&&ht.F.length==0)){Nt=hn(ut,3,"Could not decode alpha data.");break t}_e<ht.j&&(Le=ht.j-_e,_e=ht.j,t(!(1&Le)),ht.O+=ut.R*Le,ht.N+=ut.B*(Le>>1),ht.W+=ut.B*(Le>>1),ht.F!=null&&(ht.J+=ht.width*Le)),_e<Ye&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=_e-ht.j,ht.U=ht.va-ht.v,ht.T=Ye-_e,Nt=ht.put(ht))}St+1!=ut.Ic||Fe||(r(ut.sa,ut.ta-Ot,qt,oe+16*ut.R,Ot),r(ut.qa,ut.ra-Yt,Gt,Ct+8*ut.B,Yt),r(ut.Ha,ut.Ia-Yt,Ue,We+8*ut.B,Yt))}if(!Nt)return hn(mt,6,"Output aborted.")}return 1}(u,f)),f.bc!=null&&f.bc(f),_&=1}return _?(u.cb=0,_):0}function ti(u,f,_,D,V){V=u[f+_+32*D]+(V>>3),u[f+_+32*D]=-256&V?0>V?0:255:V}function Js(u,f,_,D,V,B){ti(u,f,0,_,D+V),ti(u,f,1,_,D+B),ti(u,f,2,_,D-B),ti(u,f,3,_,D-V)}function xn(u){return(20091*u>>16)+u}function qr(u,f,_,D){var V,B=0,U=a(16);for(V=0;4>V;++V){var G=u[f+0]+u[f+8],K=u[f+0]-u[f+8],tt=(35468*u[f+4]>>16)-xn(u[f+12]),lt=xn(u[f+4])+(35468*u[f+12]>>16);U[B+0]=G+lt,U[B+1]=K+tt,U[B+2]=K-tt,U[B+3]=G-lt,B+=4,f++}for(V=B=0;4>V;++V)G=(u=U[B+0]+4)+U[B+8],K=u-U[B+8],tt=(35468*U[B+4]>>16)-xn(U[B+12]),ti(_,D,0,0,G+(lt=xn(U[B+4])+(35468*U[B+12]>>16))),ti(_,D,1,0,K+tt),ti(_,D,2,0,K-tt),ti(_,D,3,0,G-lt),B++,D+=32}function cs(u,f,_,D){var V=u[f+0]+4,B=35468*u[f+4]>>16,U=xn(u[f+4]),G=35468*u[f+1]>>16;Js(_,D,0,V+U,u=xn(u[f+1]),G),Js(_,D,1,V+B,u,G),Js(_,D,2,V-B,u,G),Js(_,D,3,V-U,u,G)}function to(u,f,_,D,V){qr(u,f,_,D),V&&qr(u,f+16,_,D+4)}function xl(u,f,_,D){bs(u,f+0,_,D,1),bs(u,f+32,_,D+128,1)}function Ge(u,f,_,D){var V;for(u=u[f+0]+4,V=0;4>V;++V)for(f=0;4>f;++f)ti(_,D,f,V,u)}function hs(u,f,_,D){u[f+0]&&$r(u,f+0,_,D),u[f+16]&&$r(u,f+16,_,D+4),u[f+32]&&$r(u,f+32,_,D+128),u[f+48]&&$r(u,f+48,_,D+128+4)}function fs(u,f,_,D){var V,B=a(16);for(V=0;4>V;++V){var U=u[f+0+V]+u[f+12+V],G=u[f+4+V]+u[f+8+V],K=u[f+4+V]-u[f+8+V],tt=u[f+0+V]-u[f+12+V];B[0+V]=U+G,B[8+V]=U-G,B[4+V]=tt+K,B[12+V]=tt-K}for(V=0;4>V;++V)U=(u=B[0+4*V]+3)+B[3+4*V],G=B[1+4*V]+B[2+4*V],K=B[1+4*V]-B[2+4*V],tt=u-B[3+4*V],_[D+0]=U+G>>3,_[D+16]=tt+K>>3,_[D+32]=U-G>>3,_[D+48]=tt-K>>3,D+=64}function aa(u,f,_){var D,V=f-32,B=bi,U=255-u[V-1];for(D=0;D<_;++D){var G,K=B,tt=U+u[f-1];for(G=0;G<_;++G)u[f+G]=K[tt+u[V+G]];f+=32}}function Ah(u,f){aa(u,f,4)}function ku(u,f){aa(u,f,8)}function Sh(u,f){aa(u,f,16)}function sa(u,f){var _;for(_=0;16>_;++_)r(u,f+32*_,u,f-32,16)}function eo(u,f){var _;for(_=16;0<_;--_)i(u,f,u[f-1],16),f+=32}function no(u,f,_){var D;for(D=0;16>D;++D)i(f,_+32*D,u,16)}function Pa(u,f){var _,D=16;for(_=0;16>_;++_)D+=u[f-1+32*_]+u[f+_-32];no(D>>5,u,f)}function fn(u,f){var _,D=8;for(_=0;16>_;++_)D+=u[f-1+32*_];no(D>>4,u,f)}function Mu(u,f){var _,D=8;for(_=0;16>_;++_)D+=u[f+_-32];no(D>>4,u,f)}function Nl(u,f){no(128,u,f)}function ce(u,f,_){return u+2*f+_+2>>2}function Ia(u,f){var _,D=f-32;for(D=new Uint8Array([ce(u[D-1],u[D+0],u[D+1]),ce(u[D+0],u[D+1],u[D+2]),ce(u[D+1],u[D+2],u[D+3]),ce(u[D+2],u[D+3],u[D+4])]),_=0;4>_;++_)r(u,f+32*_,D,0,D.length)}function Eh(u,f){var _=u[f-1],D=u[f-1+32],V=u[f-1+64],B=u[f-1+96];kt(u,f+0,16843009*ce(u[f-1-32],_,D)),kt(u,f+32,16843009*ce(_,D,V)),kt(u,f+64,16843009*ce(D,V,B)),kt(u,f+96,16843009*ce(V,B,B))}function Oi(u,f){var _,D=4;for(_=0;4>_;++_)D+=u[f+_-32]+u[f-1+32*_];for(D>>=3,_=0;4>_;++_)i(u,f+32*_,D,4)}function ju(u,f){var _=u[f-1+0],D=u[f-1+32],V=u[f-1+64],B=u[f-1-32],U=u[f+0-32],G=u[f+1-32],K=u[f+2-32],tt=u[f+3-32];u[f+0+96]=ce(D,V,u[f-1+96]),u[f+1+96]=u[f+0+64]=ce(_,D,V),u[f+2+96]=u[f+1+64]=u[f+0+32]=ce(B,_,D),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=ce(U,B,_),u[f+3+64]=u[f+2+32]=u[f+1+0]=ce(G,U,B),u[f+3+32]=u[f+2+0]=ce(K,G,U),u[f+3+0]=ce(tt,K,G)}function gi(u,f){var _=u[f+1-32],D=u[f+2-32],V=u[f+3-32],B=u[f+4-32],U=u[f+5-32],G=u[f+6-32],K=u[f+7-32];u[f+0+0]=ce(u[f+0-32],_,D),u[f+1+0]=u[f+0+32]=ce(_,D,V),u[f+2+0]=u[f+1+32]=u[f+0+64]=ce(D,V,B),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=ce(V,B,U),u[f+3+32]=u[f+2+64]=u[f+1+96]=ce(B,U,G),u[f+3+64]=u[f+2+96]=ce(U,G,K),u[f+3+96]=ce(G,K,K)}function ro(u,f){var _=u[f-1+0],D=u[f-1+32],V=u[f-1+64],B=u[f-1-32],U=u[f+0-32],G=u[f+1-32],K=u[f+2-32],tt=u[f+3-32];u[f+0+0]=u[f+1+64]=B+U+1>>1,u[f+1+0]=u[f+2+64]=U+G+1>>1,u[f+2+0]=u[f+3+64]=G+K+1>>1,u[f+3+0]=K+tt+1>>1,u[f+0+96]=ce(V,D,_),u[f+0+64]=ce(D,_,B),u[f+0+32]=u[f+1+96]=ce(_,B,U),u[f+1+32]=u[f+2+96]=ce(B,U,G),u[f+2+32]=u[f+3+96]=ce(U,G,K),u[f+3+32]=ce(G,K,tt)}function Cl(u,f){var _=u[f+0-32],D=u[f+1-32],V=u[f+2-32],B=u[f+3-32],U=u[f+4-32],G=u[f+5-32],K=u[f+6-32],tt=u[f+7-32];u[f+0+0]=_+D+1>>1,u[f+1+0]=u[f+0+64]=D+V+1>>1,u[f+2+0]=u[f+1+64]=V+B+1>>1,u[f+3+0]=u[f+2+64]=B+U+1>>1,u[f+0+32]=ce(_,D,V),u[f+1+32]=u[f+0+96]=ce(D,V,B),u[f+2+32]=u[f+1+96]=ce(V,B,U),u[f+3+32]=u[f+2+96]=ce(B,U,G),u[f+3+64]=ce(U,G,K),u[f+3+96]=ce(G,K,tt)}function io(u,f){var _=u[f-1+0],D=u[f-1+32],V=u[f-1+64],B=u[f-1+96];u[f+0+0]=_+D+1>>1,u[f+2+0]=u[f+0+32]=D+V+1>>1,u[f+2+32]=u[f+0+64]=V+B+1>>1,u[f+1+0]=ce(_,D,V),u[f+3+0]=u[f+1+32]=ce(D,V,B),u[f+3+32]=u[f+1+64]=ce(V,B,B),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=B}function ao(u,f){var _=u[f-1+0],D=u[f-1+32],V=u[f-1+64],B=u[f-1+96],U=u[f-1-32],G=u[f+0-32],K=u[f+1-32],tt=u[f+2-32];u[f+0+0]=u[f+2+32]=_+U+1>>1,u[f+0+32]=u[f+2+64]=D+_+1>>1,u[f+0+64]=u[f+2+96]=V+D+1>>1,u[f+0+96]=B+V+1>>1,u[f+3+0]=ce(G,K,tt),u[f+2+0]=ce(U,G,K),u[f+1+0]=u[f+3+32]=ce(_,U,G),u[f+1+32]=u[f+3+64]=ce(D,_,U),u[f+1+64]=u[f+3+96]=ce(V,D,_),u[f+1+96]=ce(B,V,D)}function Fu(u,f){var _;for(_=0;8>_;++_)r(u,f+32*_,u,f-32,8)}function oa(u,f){var _;for(_=0;8>_;++_)i(u,f,u[f-1],8),f+=32}function vi(u,f,_){var D;for(D=0;8>D;++D)i(f,_+32*D,u,8)}function la(u,f){var _,D=8;for(_=0;8>_;++_)D+=u[f+_-32]+u[f-1+32*_];vi(D>>4,u,f)}function Rl(u,f){var _,D=4;for(_=0;8>_;++_)D+=u[f+_-32];vi(D>>3,u,f)}function ze(u,f){var _,D=4;for(_=0;8>_;++_)D+=u[f-1+32*_];vi(D>>3,u,f)}function Ll(u,f){vi(128,u,f)}function so(u,f,_){var D=u[f-_],V=u[f+0],B=3*(V-D)+$g[1020+u[f-2*_]-u[f+_]],U=kd[112+(B+4>>3)];u[f-_]=bi[255+D+kd[112+(B+3>>3)]],u[f+0]=bi[255+V-U]}function Dl(u,f,_,D){var V=u[f+0],B=u[f+_];return Vi[255+u[f-2*_]-u[f-_]]>D||Vi[255+B-V]>D}function Pl(u,f,_,D){return 4*Vi[255+u[f-_]-u[f+0]]+Vi[255+u[f-2*_]-u[f+_]]<=D}function Il(u,f,_,D,V){var B=u[f-3*_],U=u[f-2*_],G=u[f-_],K=u[f+0],tt=u[f+_],lt=u[f+2*_],bt=u[f+3*_];return 4*Vi[255+G-K]+Vi[255+U-tt]>D?0:Vi[255+u[f-4*_]-B]<=V&&Vi[255+B-U]<=V&&Vi[255+U-G]<=V&&Vi[255+bt-lt]<=V&&Vi[255+lt-tt]<=V&&Vi[255+tt-K]<=V}function ds(u,f,_,D){var V=2*D+1;for(D=0;16>D;++D)Pl(u,f+D,_,V)&&so(u,f+D,_)}function yi(u,f,_,D){var V=2*D+1;for(D=0;16>D;++D)Pl(u,f+D*_,1,V)&&so(u,f+D*_,1)}function Zn(u,f,_,D){var V;for(V=3;0<V;--V)ds(u,f+=4*_,_,D)}function Vu(u,f,_,D){var V;for(V=3;0<V;--V)yi(u,f+=4,_,D)}function Oa(u,f,_,D,V,B,U,G){for(B=2*B+1;0<V--;){if(Il(u,f,_,B,U))if(Dl(u,f,_,G))so(u,f,_);else{var K=u,tt=f,lt=_,bt=K[tt-2*lt],_t=K[tt-lt],mt=K[tt+0],Rt=K[tt+lt],St=K[tt+2*lt],ut=27*(Nt=$g[1020+3*(mt-_t)+$g[1020+bt-Rt]])+63>>7,ht=18*Nt+63>>7,Nt=9*Nt+63>>7;K[tt-3*lt]=bi[255+K[tt-3*lt]+Nt],K[tt-2*lt]=bi[255+bt+ht],K[tt-lt]=bi[255+_t+ut],K[tt+0]=bi[255+mt-ut],K[tt+lt]=bi[255+Rt-ht],K[tt+2*lt]=bi[255+St-Nt]}f+=D}}function mr(u,f,_,D,V,B,U,G){for(B=2*B+1;0<V--;){if(Il(u,f,_,B,U))if(Dl(u,f,_,G))so(u,f,_);else{var K=u,tt=f,lt=_,bt=K[tt-lt],_t=K[tt+0],mt=K[tt+lt],Rt=kd[112+((St=3*(_t-bt))+4>>3)],St=kd[112+(St+3>>3)],ut=Rt+1>>1;K[tt-2*lt]=bi[255+K[tt-2*lt]+ut],K[tt-lt]=bi[255+bt+St],K[tt+0]=bi[255+_t-Rt],K[tt+lt]=bi[255+mt-ut]}f+=D}}function oo(u,f,_,D,V,B){Oa(u,f,_,1,16,D,V,B)}function ua(u,f,_,D,V,B){Oa(u,f,1,_,16,D,V,B)}function lo(u,f,_,D,V,B){var U;for(U=3;0<U;--U)mr(u,f+=4*_,_,1,16,D,V,B)}function ps(u,f,_,D,V,B){var U;for(U=3;0<U;--U)mr(u,f+=4,1,_,16,D,V,B)}function uo(u,f,_,D,V,B,U,G){Oa(u,f,V,1,8,B,U,G),Oa(_,D,V,1,8,B,U,G)}function Ol(u,f,_,D,V,B,U,G){Oa(u,f,1,V,8,B,U,G),Oa(_,D,1,V,8,B,U,G)}function co(u,f,_,D,V,B,U,G){mr(u,f+4*V,V,1,8,B,U,G),mr(_,D+4*V,V,1,8,B,U,G)}function ka(u,f,_,D,V,B,U,G){mr(u,f+4,1,V,8,B,U,G),mr(_,D+4,1,V,8,B,U,G)}function ms(){this.ba=new pr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new an,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ho(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fo(){this.ua=0,this.Wa=new it,this.vb=new it,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new A}function Bu(){this.xb=this.a=0,this.l=new us,this.ca=new pr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fo,this.ab=0,this.gc=s(4,gs),this.Oc=0}function ca(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new us,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ma(u,f,_,D,V,B,U){for(u=u==null?0:u[f+0],f=0;f<U;++f)V[B+f]=u+_[D+f]&255,u=V[B+f]}function po(u,f,_,D,V,B,U){var G;if(u==null)Ma(null,null,_,D,V,B,U);else for(G=0;G<U;++G)V[B+G]=u[f+G]+_[D+G]&255}function Cr(u,f,_,D,V,B,U){if(u==null)Ma(null,null,_,D,V,B,U);else{var G,K=u[f+0],tt=K,lt=K;for(G=0;G<U;++G)tt=lt+(K=u[f+G])-tt,lt=_[D+G]+(-256&tt?0>tt?0:255:tt)&255,tt=K,V[B+G]=lt}}function mo(u,f,_,D){var V=f.width,B=f.o;if(t(u!=null&&f!=null),0>_||0>=D||_+D>B)return null;if(!u.Cc){if(u.ga==null){var U;if(u.ga=new ca,(U=u.ga==null)||(U=f.width*f.o,t(u.Gb.length==0),u.Gb=a(U),u.Uc=0,u.Gb==null?U=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,U=1),U=!U),!U){U=u.ga;var G=u.Fa,K=u.P,tt=u.qc,lt=u.mb,bt=u.nb,_t=K+1,mt=tt-1,Rt=U.l;if(t(G!=null&&lt!=null&&f!=null),wo[0]=null,wo[1]=Ma,wo[2]=po,wo[3]=Cr,U.ca=lt,U.tb=bt,U.c=f.width,U.i=f.height,t(0<U.c&&0<U.i),1>=tt)f=0;else if(U.$a=G[K+0]>>0&3,U.Z=G[K+0]>>2&3,U.Lc=G[K+0]>>4&3,K=G[K+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||K)f=0;else if(Rt.put=Tr,Rt.ac=Un,Rt.bc=pi,Rt.ma=U,Rt.width=f.width,Rt.height=f.height,Rt.Da=f.Da,Rt.v=f.v,Rt.va=f.va,Rt.j=f.j,Rt.o=f.o,U.$a)t:{t(U.$a==1),f=In();e:for(;;){if(f==null){f=0;break t}if(t(U!=null),U.mc=f,f.c=U.c,f.i=U.i,f.l=U.l,f.l.ma=U,f.l.width=U.c,f.l.height=U.i,f.a=0,X(f.m,G,_t,mt),!mi(U.c,U.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&ra(f.s)?(U.ic=1,G=f.c*f.i,f.Ta=null,f.Ua=0,f.V=a(G),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(U.ic=0,f=Na(f,U.c)),!f))break e;f=1;break t}U.mc=null,f=0}else f=mt>=U.c*U.i;U=!f}if(U)return null;u.ga.Lc!=1?u.Ga=0:D=B-_}t(u.ga!=null),t(_+D<=B);t:{if(f=(G=u.ga).c,B=G.l.o,G.$a==0){if(_t=u.rc,mt=u.Vc,Rt=u.Fa,K=u.P+1+_*f,tt=u.mb,lt=u.nb+_*f,t(K<=u.P+u.qc),G.Z!=0)for(t(wo[G.Z]!=null),U=0;U<D;++U)wo[G.Z](_t,mt,Rt,K,tt,lt,f),_t=tt,mt=lt,lt+=f,K+=f;else for(U=0;U<D;++U)r(tt,lt,Rt,K,f),_t=tt,mt=lt,lt+=f,K+=f;u.rc=_t,u.Vc=mt}else{if(t(G.mc!=null),f=_+D,t((U=G.mc)!=null),t(f<=U.i),U.C>=f)f=1;else if(G.ic||dt(),G.ic){G=U.V,_t=U.Ba,mt=U.c;var St=U.i,ut=(Rt=1,K=U.$/mt,tt=U.$%mt,lt=U.m,bt=U.s,U.$),ht=mt*St,Nt=mt*f,Ot=bt.wc,Ct=ut<Nt?Tn(bt,tt,K):null;t(ut<=ht),t(f<=St),t(ra(bt));e:for(;;){for(;!lt.h&&ut<Nt;){if(tt&Ot||(Ct=Tn(bt,tt,K)),t(Ct!=null),rt(lt),256>(St=zn(Ct.G[0],Ct.H[0],lt)))G[_t+ut]=St,++ut,++tt>=mt&&(tt=0,++K<=f&&!(K%16)&&Jr(U,K));else{if(!(280>St)){Rt=0;break e}St=Zr(St-256,lt);var Yt,qt=zn(Ct.G[4],Ct.H[4],lt);if(rt(lt),!(ut>=(qt=xr(mt,qt=Zr(qt,lt)))&&ht-ut>=St)){Rt=0;break e}for(Yt=0;Yt<St;++Yt)G[_t+ut+Yt]=G[_t+ut+Yt-qt];for(ut+=St,tt+=St;tt>=mt;)tt-=mt,++K<=f&&!(K%16)&&Jr(U,K);ut<Nt&&tt&Ot&&(Ct=Tn(bt,tt,K))}t(lt.h==Z(lt))}Jr(U,K>f?f:K);break e}!Rt||lt.h&&ut<ht?(Rt=0,U.a=lt.h?5:3):U.$=ut,f=Rt}else f=Ur(U,U.V,U.Ba,U.c,U.i,f,Ca);if(!f){D=0;break t}}_+D>=B&&(u.Cc=1),D=1}if(!D)return null;if(u.Cc&&((D=u.ga)!=null&&(D.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+_*V}function v(u,f,_,D,V,B){for(;0<V--;){var U,G=u,K=f+(_?1:0),tt=u,lt=f+(_?0:3);for(U=0;U<D;++U){var bt=tt[lt+4*U];bt!=255&&(bt*=32897,G[K+4*U+0]=G[K+4*U+0]*bt>>23,G[K+4*U+1]=G[K+4*U+1]*bt>>23,G[K+4*U+2]=G[K+4*U+2]*bt>>23)}f+=B}}function F(u,f,_,D,V){for(;0<D--;){var B;for(B=0;B<_;++B){var U=u[f+2*B+0],G=15&(tt=u[f+2*B+1]),K=4369*G,tt=(240&tt|tt>>4)*K>>16;u[f+2*B+0]=(240&U|U>>4)*K>>16&240|(15&U|U<<4)*K>>16>>4&15,u[f+2*B+1]=240&tt|G}f+=V}}function nt(u,f,_,D,V,B,U,G){var K,tt,lt=255;for(tt=0;tt<V;++tt){for(K=0;K<D;++K){var bt=u[f+K];B[U+4*K]=bt,lt&=bt}f+=_,U+=G}return lt!=255}function ot(u,f,_,D,V){var B;for(B=0;B<V;++B)_[D+B]=u[f+B]>>8}function dt(){Fi=v,sn=F,on=nt,kn=ot}function xt(u,f,_){E[u]=function(D,V,B,U,G,K,tt,lt,bt,_t,mt,Rt,St,ut,ht,Nt,Ot){var Ct,Yt=Ot-1>>1,qt=G[K+0]|tt[lt+0]<<16,oe=bt[_t+0]|mt[Rt+0]<<16;t(D!=null);var Gt=3*qt+oe+131074>>2;for(f(D[V+0],255&Gt,Gt>>16,St,ut),B!=null&&(Gt=3*oe+qt+131074>>2,f(B[U+0],255&Gt,Gt>>16,ht,Nt)),Ct=1;Ct<=Yt;++Ct){var Ue=G[K+Ct]|tt[lt+Ct]<<16,We=bt[_t+Ct]|mt[Rt+Ct]<<16,Fe=qt+Ue+oe+We+524296,Le=Fe+2*(Ue+oe)>>3;Gt=Le+qt>>1,qt=(Fe=Fe+2*(qt+We)>>3)+Ue>>1,f(D[V+2*Ct-1],255&Gt,Gt>>16,St,ut+(2*Ct-1)*_),f(D[V+2*Ct-0],255&qt,qt>>16,St,ut+(2*Ct-0)*_),B!=null&&(Gt=Fe+oe>>1,qt=Le+We>>1,f(B[U+2*Ct-1],255&Gt,Gt>>16,ht,Nt+(2*Ct-1)*_),f(B[U+2*Ct+0],255&qt,qt>>16,ht,Nt+(2*Ct+0)*_)),qt=Ue,oe=We}1&Ot||(Gt=3*qt+oe+131074>>2,f(D[V+Ot-1],255&Gt,Gt>>16,St,ut+(Ot-1)*_),B!=null&&(Gt=3*oe+qt+131074>>2,f(B[U+Ot-1],255&Gt,Gt>>16,ht,Nt+(Ot-1)*_)))}}function Mt(){Bi[Md]=XE,Bi[jd]=ry,Bi[Zv]=ZE,Bi[Fd]=iy,Bi[Vd]=ay,Bi[Gg]=sy,Bi[Jv]=JE,Bi[Wg]=ry,Bi[Yg]=iy,Bi[Bd]=ay,Bi[Qg]=sy}function $t(u){return u&-16384?0>u?0:255:u>>tT}function c(u,f){return $t((19077*u>>8)+(26149*f>>8)-14234)}function S(u,f,_){return $t((19077*u>>8)-(6419*f>>8)-(13320*_>>8)+8708)}function I(u,f){return $t((19077*u>>8)+(33050*f>>8)-17685)}function H(u,f,_,D,V){D[V+0]=c(u,_),D[V+1]=S(u,f,_),D[V+2]=I(u,f)}function ft(u,f,_,D,V){D[V+0]=I(u,f),D[V+1]=S(u,f,_),D[V+2]=c(u,_)}function wt(u,f,_,D,V){var B=S(u,f,_);f=B<<3&224|I(u,f)>>3,D[V+0]=248&c(u,_)|B>>5,D[V+1]=f}function jt(u,f,_,D,V){var B=240&I(u,f)|15;D[V+0]=240&c(u,_)|S(u,f,_)>>4,D[V+1]=B}function me(u,f,_,D,V){D[V+0]=255,H(u,f,_,D,V+1)}function Re(u,f,_,D,V){ft(u,f,_,D,V),D[V+3]=255}function ge(u,f,_,D,V){H(u,f,_,D,V),D[V+3]=255}function qe(u,f){return 0>u?0:u>f?f:u}function Je(u,f,_){E[u]=function(D,V,B,U,G,K,tt,lt,bt){for(var _t=lt+(-2&bt)*_;lt!=_t;)f(D[V+0],B[U+0],G[K+0],tt,lt),f(D[V+1],B[U+0],G[K+0],tt,lt+_),V+=2,++U,++K,lt+=2*_;1&bt&&f(D[V+0],B[U+0],G[K+0],tt,lt)}}function ha(u,f,_){return _==0?u==0?f==0?6:5:f==0?4:0:_}function gr(u,f,_,D,V){switch(u>>>30){case 3:bs(f,_,D,V,0);break;case 2:On(f,_,D,V);break;case 1:$r(f,_,D,V)}}function ja(u,f){var _,D,V=f.M,B=f.Nb,U=u.oc,G=u.pc+40,K=u.oc,tt=u.pc+584,lt=u.oc,bt=u.pc+600;for(_=0;16>_;++_)U[G+32*_-1]=129;for(_=0;8>_;++_)K[tt+32*_-1]=129,lt[bt+32*_-1]=129;for(0<V?U[G-1-32]=K[tt-1-32]=lt[bt-1-32]=129:(i(U,G-32-1,127,21),i(K,tt-32-1,127,9),i(lt,bt-32-1,127,9)),D=0;D<u.za;++D){var _t=f.ya[f.aa+D];if(0<D){for(_=-1;16>_;++_)r(U,G+32*_-4,U,G+32*_+12,4);for(_=-1;8>_;++_)r(K,tt+32*_-4,K,tt+32*_+4,4),r(lt,bt+32*_-4,lt,bt+32*_+4,4)}var mt=u.Gd,Rt=u.Hd+D,St=_t.ad,ut=_t.Hc;if(0<V&&(r(U,G-32,mt[Rt].y,0,16),r(K,tt-32,mt[Rt].f,0,8),r(lt,bt-32,mt[Rt].ea,0,8)),_t.Za){var ht=U,Nt=G-32+16;for(0<V&&(D>=u.za-1?i(ht,Nt,mt[Rt].y[15],4):r(ht,Nt,mt[Rt+1].y,0,4)),_=0;4>_;_++)ht[Nt+128+_]=ht[Nt+256+_]=ht[Nt+384+_]=ht[Nt+0+_];for(_=0;16>_;++_,ut<<=2)ht=U,Nt=G+ly[_],fa[_t.Ob[_]](ht,Nt),gr(ut,St,16*+_,ht,Nt)}else if(ht=ha(D,V,_t.Ob[0]),_o[ht](U,G),ut!=0)for(_=0;16>_;++_,ut<<=2)gr(ut,St,16*+_,U,G+ly[_]);for(_=_t.Gc,ht=ha(D,V,_t.Dd),ws[ht](K,tt),ws[ht](lt,bt),ut=St,ht=K,Nt=tt,255&(_t=_>>0)&&(170&_t?Rh(ut,256,ht,Nt):Mi(ut,256,ht,Nt)),_t=lt,ut=bt,255&(_>>=8)&&(170&_?Rh(St,320,_t,ut):Mi(St,320,_t,ut)),V<u.Ub-1&&(r(mt[Rt].y,0,U,G+480,16),r(mt[Rt].f,0,K,tt+224,8),r(mt[Rt].ea,0,lt,bt+224,8)),_=8*B*u.B,mt=u.sa,Rt=u.ta+16*D+16*B*u.R,St=u.qa,_t=u.ra+8*D+_,ut=u.Ha,ht=u.Ia+8*D+_,_=0;16>_;++_)r(mt,Rt+_*u.R,U,G+32*_,16);for(_=0;8>_;++_)r(St,_t+_*u.B,K,tt+32*_,8),r(ut,ht+_*u.B,lt,bt+32*_,8)}}function Fa(u,f,_,D,V,B,U,G,K){var tt=[0],lt=[0],bt=0,_t=K!=null?K.kd:0,mt=K??new ho;if(u==null||12>_)return 7;mt.data=u,mt.w=f,mt.ha=_,f=[f],_=[_],mt.gb=[mt.gb];t:{var Rt=f,St=_,ut=mt.gb;if(t(u!=null),t(St!=null),t(ut!=null),ut[0]=0,12<=St[0]&&!n(u,Rt[0],"RIFF")){if(n(u,Rt[0]+8,"WEBP")){ut=3;break t}var ht=zt(u,Rt[0]+4);if(12>ht||4294967286<ht){ut=3;break t}if(_t&&ht>St[0]-8){ut=7;break t}ut[0]=ht,Rt[0]+=12,St[0]-=12}ut=0}if(ut!=0)return ut;for(ht=0<mt.gb[0],_=_[0];;){t:{var Nt=u;St=f,ut=_;var Ot=tt,Ct=lt,Yt=Rt=[0];if((Gt=bt=[bt])[0]=0,8>ut[0])ut=7;else{if(!n(Nt,St[0],"VP8X")){if(zt(Nt,St[0]+4)!=10){ut=3;break t}if(18>ut[0]){ut=7;break t}var qt=zt(Nt,St[0]+8),oe=1+Vt(Nt,St[0]+12);if(2147483648<=oe*(Nt=1+Vt(Nt,St[0]+15))){ut=3;break t}Yt!=null&&(Yt[0]=qt),Ot!=null&&(Ot[0]=oe),Ct!=null&&(Ct[0]=Nt),St[0]+=18,ut[0]-=18,Gt[0]=1}ut=0}}if(bt=bt[0],Rt=Rt[0],ut!=0)return ut;if(St=!!(2&Rt),!ht&&bt)return 3;if(B!=null&&(B[0]=!!(16&Rt)),U!=null&&(U[0]=St),G!=null&&(G[0]=0),U=tt[0],Rt=lt[0],bt&&St&&K==null){ut=0;break}if(4>_){ut=7;break}if(ht&&bt||!ht&&!bt&&!n(u,f[0],"ALPH")){_=[_],mt.na=[mt.na],mt.P=[mt.P],mt.Sa=[mt.Sa];t:{qt=u,ut=f,ht=_;var Gt=mt.gb;Ot=mt.na,Ct=mt.P,Yt=mt.Sa,oe=22,t(qt!=null),t(ht!=null),Nt=ut[0];var Ue=ht[0];for(t(Ot!=null),t(Yt!=null),Ot[0]=null,Ct[0]=null,Yt[0]=0;;){if(ut[0]=Nt,ht[0]=Ue,8>Ue){ut=7;break t}var We=zt(qt,Nt+4);if(4294967286<We){ut=3;break t}var Fe=8+We+1&-2;if(oe+=Fe,0<Gt&&oe>Gt){ut=3;break t}if(!n(qt,Nt,"VP8 ")||!n(qt,Nt,"VP8L")){ut=0;break t}if(Ue[0]<Fe){ut=7;break t}n(qt,Nt,"ALPH")||(Ot[0]=qt,Ct[0]=Nt+8,Yt[0]=We),Nt+=Fe,Ue-=Fe}}if(_=_[0],mt.na=mt.na[0],mt.P=mt.P[0],mt.Sa=mt.Sa[0],ut!=0)break}_=[_],mt.Ja=[mt.Ja],mt.xa=[mt.xa];t:if(Gt=u,ut=f,ht=_,Ot=mt.gb[0],Ct=mt.Ja,Yt=mt.xa,qt=ut[0],Nt=!n(Gt,qt,"VP8 "),oe=!n(Gt,qt,"VP8L"),t(Gt!=null),t(ht!=null),t(Ct!=null),t(Yt!=null),8>ht[0])ut=7;else{if(Nt||oe){if(Gt=zt(Gt,qt+4),12<=Ot&&Gt>Ot-12){ut=3;break t}if(_t&&Gt>ht[0]-8){ut=7;break t}Ct[0]=Gt,ut[0]+=8,ht[0]-=8,Yt[0]=oe}else Yt[0]=5<=ht[0]&&Gt[qt+0]==47&&!(Gt[qt+4]>>5),Ct[0]=ht[0];ut=0}if(_=_[0],mt.Ja=mt.Ja[0],mt.xa=mt.xa[0],f=f[0],ut!=0)break;if(4294967286<mt.Ja)return 3;if(G==null||St||(G[0]=mt.xa?2:1),U=[U],Rt=[Rt],mt.xa){if(5>_){ut=7;break}G=U,_t=Rt,St=B,u==null||5>_?u=0:5<=_&&u[f+0]==47&&!(u[f+4]>>5)?(ht=[0],Gt=[0],Ot=[0],X(Ct=new M,u,f,_),Kt(Ct,ht,Gt,Ot)?(G!=null&&(G[0]=ht[0]),_t!=null&&(_t[0]=Gt[0]),St!=null&&(St[0]=Ot[0]),u=1):u=0):u=0}else{if(10>_){ut=7;break}G=Rt,u==null||10>_||!Sl(u,f+3,_-3)?u=0:(_t=u[f+0]|u[f+1]<<8|u[f+2]<<16,St=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&_t||3<(_t>>1&7)||!(_t>>4&1)||_t>>5>=mt.Ja||!St||!u?u=0:(U&&(U[0]=St),G&&(G[0]=u),u=1))}if(!u||(U=U[0],Rt=Rt[0],bt&&(tt[0]!=U||lt[0]!=Rt)))return 3;K!=null&&(K[0]=mt,K.offset=f-K.w,t(4294967286>f-K.w),t(K.offset==K.ha-_));break}return ut==0||ut==7&&bt&&K==null?(B!=null&&(B[0]|=mt.na!=null&&0<mt.na.length),D!=null&&(D[0]=U),V!=null&&(V[0]=Rt),0):ut}function Th(u,f,_){var D=f.width,V=f.height,B=0,U=0,G=D,K=V;if(f.Da=u!=null&&0<u.Da,f.Da&&(G=u.cd,K=u.bd,B=u.v,U=u.j,11>_||(B&=-2,U&=-2),0>B||0>U||0>=G||0>=K||B+G>D||U+K>V))return 0;if(f.v=B,f.j=U,f.va=B+G,f.o=U+K,f.U=G,f.T=K,f.da=u!=null&&0<u.da,f.da){if(!fe(G,K,_=[u.ib],B=[u.hb]))return 0;f.ib=_[0],f.hb=B[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*D/4&&f.hb<3*V/4,f.Kb=0),1}function xh(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function Uu(u,f,_,D){if(D==null||0>=u||0>=f)return 2;if(_!=null){if(_.Da){var V=_.cd,B=_.bd,U=-2&_.v,G=-2&_.j;if(0>U||0>G||0>=V||0>=B||U+V>u||G+B>f)return 2;u=V,f=B}if(_.da){if(!fe(u,f,V=[_.ib],B=[_.hb]))return 2;u=V[0],f=B[0]}}D.width=u,D.height=f;t:{var K=D.width,tt=D.height;if(u=D.S,0>=K||0>=tt||!(u>=Md&&13>u))u=2;else{if(0>=D.Rd&&D.sd==null){U=B=V=f=0;var lt=(G=K*uy[u])*tt;if(11>u||(B=(tt+1)/2*(f=(K+1)/2),u==12&&(U=(V=K)*tt)),(tt=a(lt+2*B+U))==null){u=1;break t}D.sd=tt,11>u?((K=D.f.RGBA).eb=tt,K.fb=0,K.A=G,K.size=lt):((K=D.f.kb).y=tt,K.O=0,K.fa=G,K.Fd=lt,K.f=tt,K.N=0+lt,K.Ab=f,K.Cd=B,K.ea=tt,K.W=0+lt+B,K.Db=f,K.Ed=B,u==12&&(K.F=tt,K.J=0+lt+2*B),K.Tc=U,K.lb=V)}if(f=1,V=D.S,B=D.width,U=D.height,V>=Md&&13>V)if(11>V)u=D.f.RGBA,f&=(G=Math.abs(u.A))*(U-1)+B<=u.size,f&=G>=B*uy[V],f&=u.eb!=null;else{u=D.f.kb,G=(B+1)/2,lt=(U+1)/2,K=Math.abs(u.fa),tt=Math.abs(u.Ab);var bt=Math.abs(u.Db),_t=Math.abs(u.lb),mt=_t*(U-1)+B;f&=K*(U-1)+B<=u.Fd,f&=tt*(lt-1)+G<=u.Cd,f=(f&=bt*(lt-1)+G<=u.Ed)&K>=B&tt>=G&bt>=G,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,V==12&&(f&=_t>=B,f&=mt<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||_!=null&&_.fd&&(u=xh(D)),u}var vr=64,zu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qu=24,Hu=32,Nh=8,ei=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Bt("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(u){return u},E.Predictor2=function(u,f,_){return f[_+0]},E.Predictor3=function(u,f,_){return f[_+1]},E.Predictor4=function(u,f,_){return f[_-1]},E.Predictor5=function(u,f,_){return Tt(Tt(u,f[_+1]),f[_+0])},E.Predictor6=function(u,f,_){return Tt(u,f[_-1])},E.Predictor7=function(u,f,_){return Tt(u,f[_+0])},E.Predictor8=function(u,f,_){return Tt(f[_-1],f[_+0])},E.Predictor9=function(u,f,_){return Tt(f[_+0],f[_+1])},E.Predictor10=function(u,f,_){return Tt(Tt(u,f[_-1]),Tt(f[_+0],f[_+1]))},E.Predictor11=function(u,f,_){var D=f[_+0];return 0>=ee(D>>24&255,u>>24&255,(f=f[_-1])>>24&255)+ee(D>>16&255,u>>16&255,f>>16&255)+ee(D>>8&255,u>>8&255,f>>8&255)+ee(255&D,255&u,255&f)?D:u},E.Predictor12=function(u,f,_){var D=f[_+0];return(Ut((u>>24&255)+(D>>24&255)-((f=f[_-1])>>24&255))<<24|Ut((u>>16&255)+(D>>16&255)-(f>>16&255))<<16|Ut((u>>8&255)+(D>>8&255)-(f>>8&255))<<8|Ut((255&u)+(255&D)-(255&f)))>>>0},E.Predictor13=function(u,f,_){var D=f[_-1];return(Zt((u=Tt(u,f[_+0]))>>24&255,D>>24&255)<<24|Zt(u>>16&255,D>>16&255)<<16|Zt(u>>8&255,D>>8&255)<<8|Zt(u>>0&255,D>>0&255))>>>0};var Hg=E.PredictorAdd0;E.PredictorAdd1=Wt,Bt("Predictor2","PredictorAdd2"),Bt("Predictor3","PredictorAdd3"),Bt("Predictor4","PredictorAdd4"),Bt("Predictor5","PredictorAdd5"),Bt("Predictor6","PredictorAdd6"),Bt("Predictor7","PredictorAdd7"),Bt("Predictor8","PredictorAdd8"),Bt("Predictor9","PredictorAdd9"),Bt("Predictor10","PredictorAdd10"),Bt("Predictor11","PredictorAdd11"),Bt("Predictor12","PredictorAdd12"),Bt("Predictor13","PredictorAdd13");var Ch=E.PredictorAdd2;be("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),be("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Ld,ki=E.ColorIndexInverseTransform,$u=E.MapARGB,Dd=E.VP8LColorIndexInverseTransformAlpha,Pd=E.MapAlpha,go=E.VP8LPredictorsAdd=[];go.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var kl,ni,Hr,vo,vs,ys,Gu,bs,On,Rh,$r,Mi,Wu,Id,Lh,Ml,jl,yo,Fl,Yu,Vl,bo,Dh,ji,Fi,sn,on,kn,Jn=a(511),_s=a(2041),Ph=a(225),Qu=a(767),Od=0,$g=_s,kd=Ph,bi=Qu,Vi=Jn,Md=0,jd=1,Zv=2,Fd=3,Vd=4,Gg=5,Jv=6,Wg=7,Yg=8,Bd=9,Qg=10,jE=[2,3,7],FE=[3,3,11],ty=[280,256,256,256,40],VE=[0,1,1,1,0],BE=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],UE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zE=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],qE=8,Kg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ih=null,HE=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$E=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ey=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],GE=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],WE=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],YE=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],QE=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_o=[],fa=[],ws=[],KE=1,ny=2,wo=[],Bi=[];xt("UpsampleRgbLinePair",H,3),xt("UpsampleBgrLinePair",ft,3),xt("UpsampleRgbaLinePair",ge,4),xt("UpsampleBgraLinePair",Re,4),xt("UpsampleArgbLinePair",me,4),xt("UpsampleRgba4444LinePair",jt,2),xt("UpsampleRgb565LinePair",wt,2);var XE=E.UpsampleRgbLinePair,ZE=E.UpsampleBgrLinePair,ry=E.UpsampleRgbaLinePair,iy=E.UpsampleBgraLinePair,ay=E.UpsampleArgbLinePair,sy=E.UpsampleRgba4444LinePair,JE=E.UpsampleRgb565LinePair,Ud=16,zd=1<<Ud-1,Oh=-227,Zg=482,tT=6,oy=0,eT=a(256),nT=a(256),rT=a(256),iT=a(256),aT=a(Zg-Oh),sT=a(Zg-Oh);Je("YuvToRgbRow",H,3),Je("YuvToBgrRow",ft,3),Je("YuvToRgbaRow",ge,4),Je("YuvToBgraRow",Re,4),Je("YuvToArgbRow",me,4),Je("YuvToRgba4444Row",jt,2),Je("YuvToRgb565Row",wt,2);var ly=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qd=[0,2,8],oT=[8,7,6,4,4,2,2,2,1,1,1,1],lT=1;this.WebPDecodeRGBA=function(u,f,_,D,V){var B=jd,U=new ms,G=new pr;U.ba=G,G.S=B,G.width=[G.width],G.height=[G.height];var K=G.width,tt=G.height,lt=new di;if(lt==null||u==null)var bt=2;else t(lt!=null),bt=Fa(u,f,_,lt.width,lt.height,lt.Pd,lt.Qd,lt.format,null);if(bt!=0?K=0:(K!=null&&(K[0]=lt.width[0]),tt!=null&&(tt[0]=lt.height[0]),K=1),K){G.width=G.width[0],G.height=G.height[0],D!=null&&(D[0]=G.width),V!=null&&(V[0]=G.height);t:{if(D=new us,(V=new ho).data=u,V.w=f,V.ha=_,V.kd=1,f=[0],t(V!=null),((u=Fa(V.data,V.w,V.ha,null,null,null,f,null,V))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(t(U!=null),D.data=V.data,D.w=V.w+V.offset,D.ha=V.ha-V.offset,D.put=Tr,D.ac=Un,D.bc=pi,D.ma=U,V.xa){if((u=In())==null){U=1;break t}if(function(_t,mt){var Rt=[0],St=[0],ut=[0];e:for(;;){if(_t==null)return 0;if(mt==null)return _t.a=2,0;if(_t.l=mt,_t.a=0,X(_t.m,mt.data,mt.w,mt.ha),!Kt(_t.m,Rt,St,ut)){_t.a=3;break e}if(_t.xb=ny,mt.width=Rt[0],mt.height=St[0],!mi(Rt[0],St[0],1,_t,null))break e;return 1}return t(_t.a!=0),0}(u,D)){if(D=(f=Uu(D.width,D.height,U.Oa,U.ba))==0){e:{D=u;n:for(;;){if(D==null){D=0;break e}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((_=D.l)!=null),t((V=_.ma)!=null),D.xb!=0){if(D.ca=V.ba,D.tb=V.tb,t(D.ca!=null),!Th(V.Oa,_,Fd)){D.a=2;break n}if(!Na(D,_.width)||_.da)break n;if((_.da||Ce(D.ca.S))&&dt(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&dt()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!re(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!Ur(D,D.V,D.Ba,D.c,D.i,_.o,Xs))break n;V.Dc=D.Ma,D=1;break e}t(D.a!=0),D=0}D=!D}D&&(f=u.a)}else f=u.a}else{if((u=new Al)==null){U=1;break t}if(u.Fa=V.na,u.P=V.P,u.qc=V.Sa,El(u,D)){if((f=Uu(D.width,D.height,U.Oa,U.ba))==0){if(u.Aa=0,_=U.Oa,t((V=u)!=null),_!=null){if(0<(K=0>(K=_.Md)?0:100<K?255:255*K/100)){for(tt=lt=0;4>tt;++tt)12>(bt=V.pb[tt]).lc&&(bt.ia=K*oT[0>bt.lc?0:bt.lc]>>3),lt|=bt.ia;lt&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=_.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}Ou(u,D)||(f=u.a)}}else f=u.a}f==0&&U.Oa!=null&&U.Oa.fd&&(f=xh(U.ba))}U=f}B=U!=0?null:11>B?G.f.RGBA.eb:G.f.kb.y}else B=null;return B};var uy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(E,R){for(var O="",x=0;x<4;x++)O+=String.fromCharCode(E[R++]);return O}function p(E,R){return(E[R+0]<<0|E[R+1]<<8|E[R+2]<<16)>>>0}function m(E,R){return(E[R+0]<<0|E[R+1]<<8|E[R+2]<<16|E[R+3]<<24)>>>0}new l;var g=[0],d=[0],T=[],C=new l,P=e,y=function(E,R){var O={},x=0,A=!1,L=0,Y=0;if(O.frames=[],!function($,Z,et,rt){for(var pt=0;pt<rt;pt++)if($[Z+pt]!=et.charCodeAt(pt))return!0;return!1}(E,R,"RIFF",4)){var st,q;for(m(E,R+=4),R+=8;R<E.length;){var Q=h(E,R),X=m(E,R+=4);R+=4;var J=X+(1&X);switch(Q){case"VP8 ":case"VP8L":O.frames[x]===void 0&&(O.frames[x]={}),(M=O.frames[x]).src_off=A?Y:R-8,M.src_size=L+X+8,x++,A&&(A=!1,L=0,Y=0);break;case"VP8X":(M=O.header={}).feature_flags=E[R];var at=R+4;M.canvas_width=1+p(E,at),at+=3,M.canvas_height=1+p(E,at),at+=3;break;case"ALPH":A=!0,L=J+8,Y=R-8;break;case"ANIM":(M=O.header).bgcolor=m(E,R),at=R+4,M.loop_count=(st=E)[(q=at)+0]<<0|st[q+1]<<8,at+=2;break;case"ANMF":var yt,M;(M=O.frames[x]={}).offset_x=2*p(E,R),R+=3,M.offset_y=2*p(E,R),R+=3,M.width=1+p(E,R),R+=3,M.height=1+p(E,R),R+=3,M.duration=p(E,R),R+=3,yt=E[R++],M.dispose=1&yt,M.blend=yt>>1&1}Q!="ANMF"&&(R+=J)}return O}}(P,0);y.response=P,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,w=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,g=[b.canvas_height],d=[b.canvas_width];for(var k=0;k<w.length&&w[k].blend!=0;k++);}var j=w[0],z=C.WebPDecodeRGBA(P,j.src_off,j.src_size,d,g);j.rgba=z,j.imgwidth=d[0],j.imgheight=g[0];for(var N=0;N<d[0]*g[0]*4;N++)T[N]=z[N];return this.width=d,this.height=g,this.data=T,this}(function(e){var t=function(){return typeof $2=="function"},n=function(g,d,T,C){var P=4,y=s;switch(C){case e.image_compression.FAST:P=1,y=a;break;case e.image_compression.MEDIUM:P=6,y=o;break;case e.image_compression.SLOW:P=9,y=l}g=r(g,d,T,y);var b=$2(g,{level:P});return e.__addimage__.arrayBufferToBinaryString(b)},r=function(g,d,T,C){for(var P,y,b,w=g.length/d,k=new Uint8Array(g.length+w),j=p(),z=0;z<w;z+=1){if(b=z*d,P=g.subarray(b,b+d),C)k.set(C(P,T,y),b+z);else{for(var N,E=j.length,R=[];N<E;N+=1)R[N]=j[N](P,T,y);var O=m(R.concat());k.set(R[O],b+z)}y=P}return k},i=function(g){var d=Array.apply([],g);return d.unshift(0),d},a=function(g,d){var T,C=[],P=g.length;C[0]=1;for(var y=0;y<P;y+=1)T=g[y-d]||0,C[y+1]=g[y]-T+256&255;return C},s=function(g,d,T){var C,P=[],y=g.length;P[0]=2;for(var b=0;b<y;b+=1)C=T&&T[b]||0,P[b+1]=g[b]-C+256&255;return P},o=function(g,d,T){var C,P,y=[],b=g.length;y[0]=3;for(var w=0;w<b;w+=1)C=g[w-d]||0,P=T&&T[w]||0,y[w+1]=g[w]+256-(C+P>>>1)&255;return y},l=function(g,d,T){var C,P,y,b,w=[],k=g.length;w[0]=4;for(var j=0;j<k;j+=1)C=g[j-d]||0,P=T&&T[j]||0,y=T&&T[j-d]||0,b=h(C,P,y),w[j+1]=g[j]-b+256&255;return w},h=function(g,d,T){if(g===d&&d===T)return g;var C=Math.abs(d-T),P=Math.abs(g-T),y=Math.abs(g+d-T-T);return C<=P&&C<=y?g:P<=y?d:T},p=function(){return[i,a,s,o,l]},m=function(g){var d=g.map(function(T){return T.reduce(function(C,P){return C+Math.abs(P)},0)});return d.indexOf(Math.min.apply(null,d))};e.processPNG=function(g,d,T,C){var P,y,b,w,k,j,z,N,E,R,O,x,A,L,Y,st=this.decode.FLATE_DECODE,q="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(b=new MI(g)).imgData,y=b.bits,P=b.colorSpace,k=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){E=(N=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,O=new Uint8Array(E*b.colors),R=new Uint8Array(E);var Q,X=b.pixelBitlength-b.bits;for(L=0,Y=0;L<E;L++){for(A=N[L],Q=0;Q<X;)O[Y++]=A>>>Q&255,Q+=b.bits;R[L]=A>>>Q&255}}if(b.bits===16){E=(N=new Uint32Array(b.decodePixels().buffer)).length,O=new Uint8Array(E*(32/b.pixelBitlength)*b.colors),R=new Uint8Array(E*(32/b.pixelBitlength)),x=b.colors>1,L=0,Y=0;for(var J=0;L<E;)A=N[L++],O[Y++]=A>>>0&255,x&&(O[Y++]=A>>>16&255,A=N[L++],O[Y++]=A>>>0&255),R[J++]=A>>>16&255;y=8}C!==e.image_compression.NONE&&t()?(g=n(O,b.width*b.colors,b.colors,C),z=n(R,b.width,1,C)):(g=O,z=R,st=void 0)}if(b.colorType===3&&(P=this.color_spaces.INDEXED,j=b.palette,b.transparency.indexed)){var at=b.transparency.indexed,yt=0;for(L=0,E=at.length;L<E;++L)yt+=at[L];if((yt/=255)===E-1&&at.indexOf(0)!==-1)w=[at.indexOf(0)];else if(yt!==E){for(N=b.decodePixels(),R=new Uint8Array(N.length),L=0,E=N.length;L<E;L++)R[L]=at[N[L]];z=n(R,b.width,1)}}var M=function($){var Z;switch($){case e.image_compression.FAST:Z=11;break;case e.image_compression.MEDIUM:Z=13;break;case e.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(C);return st===this.decode.FLATE_DECODE&&(q="/Predictor "+M+" "),q+="/Colors "+k+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:T,data:g,index:d,filter:st,decodeParameters:q,transparency:w,palette:j,sMask:z,predictor:M,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:P}}}})(le.API),function(e){e.processGIF89A=function(t,n,r,i){var a=new jI(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var h={data:l,width:s,height:o},p=new d0(100).encode(h,100);return e.processJPEG.call(this,p,n,r,i)},e.processGIF87A=e.processGIF89A}(le.API),ma.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ma.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){en.log("bit decode error:"+n)}},ma.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},ma.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,l=15&a,h=this.palette[o];if(this.data[s]=h.blue,this.data[s+1]=h.green,this.data[s+2]=h.red,this.data[s+3]=255,2*i+1>=this.width)break;h=this.palette[l],this.data[s+4]=h.blue,this.data[s+4+1]=h.green,this.data[s+4+2]=h.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},ma.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},ma.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,h=a>>15?255:0,p=r*this.width*4+4*i;this.data[p]=l,this.data[p+1]=o,this.data[p+2]=s,this.data[p+3]=h}this.pos+=e}},ma.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&n)/n*255|0,h=(s>>11)/t*255|0,p=i*this.width*4+4*a;this.data[p]=h,this.data[p+1]=l,this.data[p+2]=o,this.data[p+3]=255}this.pos+=e}},ma.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},ma.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},ma.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new ma(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},h=new d0(100).encode(l,100);return e.processJPEG.call(this,h,n,r,i)}}(le.API),qw.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new qw(t),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},h=new d0(100).encode(l,100);return e.processJPEG.call(this,h,n,r,i)}}(le.API),le.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,h=0;h<i;h+=4){var p=r[h],m=r[h+1],g=r[h+2],d=r[h+3];a[o++]=p,a[o++]=m,a[o++]=g,s[l++]=d}var T=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:T,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},le.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ac=le.API,Np=ac.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,h=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,m=t.doKerning!==!1,g=0,d=e.length,T=0,C=o[0]||l,P=[];for(n=0;n<d;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?P.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(g=m&&Qe(h[r])==="object"&&!isNaN(parseInt(h[r][T],10))?h[r][T]/p:0,P.push((o[r]||C)/l+g)),T=r;return P},Vw=ac.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ac.processArabic&&(e=ac.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Np.apply(this,arguments).reduce(function(a,s){return a+s},0)},Bw=function(e,t,n,r){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<n;)o+=t[a],a++;i.push(e.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>r&&(i.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},Uw=function(e,t,n){n||(n={});var r,i,a,s,o,l,h,p=[],m=[p],g=n.textIndent||0,d=0,T=0,C=e.split(" "),P=Np.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?C[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),b=[];C.map(function(k){(k=k.split(/\s*\n/)).length>1?b=b.concat(k.map(function(j,z){return(z&&j.length?`
`:"")+j})):b.push(k[0])}),C=b,l=Vw.apply(this,[y,n])}for(a=0,s=C.length;a<s;a++){var w=0;if(r=C[a],l&&r[0]==`
`&&(r=r.substr(1),w=1),g+d+(T=(i=Np.apply(this,[r,n])).reduce(function(k,j){return k+j},0))>t||w){if(T>t){for(o=Bw.apply(this,[r,i,t-(g+d),t]),p.push(o.shift()),p=[o.pop()];o.length;)m.push([o.shift()]);T=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(k,j){return k+j},0)}else p=[r];m.push(p),g=T+l,d=P}else p.push(r),g+=d+T,d=P}return h=l?function(k,j){return(j?y:"")+k.join(" ")}:function(k){return k.join(" ")},m.map(h)},ac.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var m=this.internal.getFont(p.fontName,p.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,l,h=[];for(o=0,l=r.length;o<l;o++)h=h.concat(Uw.apply(this,[r[o],s,a]));return h},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var a=function(m){return"0x"+parseInt(m,10).toString(16)},s=e.__fontmetrics__.compress=function(m){var g,d,T,C,P=["{"];for(var y in m){if(g=m[y],isNaN(parseInt(y,10))?d="'"+y+"'":(y=parseInt(y,10),d=(d=a(y).slice(2)).slice(0,-1)+r[d.slice(-1)]),typeof g=="number")g<0?(T=a(g).slice(3),C="-"):(T=a(g).slice(2),C=""),T=C+T.slice(0,-1)+r[T.slice(-1)];else{if(Qe(g)!=="object")throw new Error("Don't know what to do with value type "+Qe(g)+".");T=s(g)}P.push(d+T)}return P.push("}"),P.join("")},o=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,d,T,C,P={},y=1,b=P,w=[],k="",j="",z=m.length-1,N=1;N<z;N+=1)(C=m[N])=="'"?g?(T=g.join(""),g=void 0):g=[]:g?g.push(C):C=="{"?(w.push([b,T]),b={},T=void 0):C=="}"?((d=w.pop())[0][d[1]]=b,T=void 0,b=d[0]):C=="-"?y=-1:T===void 0?n.hasOwnProperty(C)?(k+=n[C],T=parseInt(k,16)*y,y=1,k=""):k+=C:n.hasOwnProperty(C)?(j+=n[C],b[T]=parseInt(j,16)*y,y=1,T=void 0,j=""):j+=C;return P},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},p={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var g=m.font,d=p.Unicode[g.postScriptName];d&&(g.metadata.Unicode={},g.metadata.Unicode.widths=d.widths,g.metadata.Unicode.kerning=d.kerning);var T=h.Unicode[g.postScriptName];T&&(g.metadata.Unicode.encoding=T,g.encoding=T.codePages[0])}])}(le.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Rf(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(le),function(e){function t(){return(ue.canvg?Promise.resolve(ue.canvg):B2(()=>import("./index.es-Cks_TGc_.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}le.API.addSvgAsImage=function(n,r,i,a,s,o,l,h){if(isNaN(r)||isNaN(i))throw en.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw en.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=a,p.height=s;var m=p.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,p.width,p.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(T){return T.fromString(m,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(g)}).then(function(){d.addImage(p.toDataURL("image/jpeg",1),r,i,a,s,l,h)})}}(),le.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},le.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],h=0,p=0,m=0;function g(T,C){var P,y=!1;for(P=0;P<T.length;P+=1)T[P]===C&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=o.length;for(m=0;m<d;m+=1)n[o[m]].value=n[o[m]].defaultValue,n[o[m]].explicitSet=!1}if(Qe(e)==="object"){for(i in e)if(a=e[i],g(o,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&g(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(h=0;h<a.length;h+=1)if(r=!0,a[h].length===1&&typeof a[h][0]=="number")l.push(String(a[h]-1));else if(a[h].length>1){for(p=0;p<a[h].length;p+=1)typeof a[h][p]!="number"&&(r=!1);r===!0&&l.push([a[h][0]-1,a[h][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,C=[];for(T in n)n[T].explicitSet===!0&&(n[T].type==="name"?C.push("/"+T+" /"+n[T].value):C.push("/"+T+" "+n[T].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),h=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(le.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],m=0,g=a.length;m<g;++m){if(o=s.metadata.characterToGlyph(a.charCodeAt(m)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(m),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return p.join("");o=o.toString(16),p.push(h[4-o.length],o)}return p.join("")},r=function(a){var s,o,l,h,p,m,g;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,g=(o=Object.keys(a).sort(function(d,T){return d-T})).length;m<g;m++)s=o[m],l.length>=100&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(h=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+h+">"));return l.length&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,h=s.newObject,p=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",T=0;T<g.length;T++)d+=String.fromCharCode(g[T]);var C=h();p({data:d,addLength1:!0,objectId:C}),l("endobj");var P=h();p({data:r(o.metadata.toUnicode),addLength1:!0,objectId:P}),l("endobj");var y=h();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+mc(o.fontName)),l("/FontFile2 "+C+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=h();l("<<"),l("/Type /Font"),l("/BaseFont /"+mc(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=h(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+P+" 0 R"),l("/BaseFont /"+mc(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,h=s.newObject,p=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,g="",d=0;d<m.length;d++)g+=String.fromCharCode(m[d]);var T=h();p({data:g,addLength1:!0,objectId:T}),l("endobj");var C=h();p({data:r(o.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var P=h();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+T+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+mc(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=h();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+mc(o.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,h=a.y,p=a.options||{},m=a.mutex||{},g=m.pdfEscape,d=m.activeFontKey,T=m.fonts,C=d,P="",y=0,b="",w=T[C].encoding;if(T[C].encoding!=="Identity-H")return{text:o,x:l,y:h,options:p,mutex:m};for(b=o,C=d,Array.isArray(o)&&(b=o[0]),y=0;y<b.length;y+=1)T[C].metadata.hasOwnProperty("cmap")&&(s=T[C].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),s||b[y].charCodeAt(0)<256&&T[C].metadata.hasOwnProperty("Unicode")?P+=b[y]:P+="";var k="";return parseInt(C.slice(1))<14||w==="WinAnsiEncoding"?k=g(P,C).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(k=n(P,T[C])),m.isHex=!0,{text:k,x:l,y:h,options:p,mutex:m}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var h=0;for(h=0;h<s.length;h+=1)Array.isArray(s[h])&&s[h].length===3?o.push([i(Object.assign({},l,{text:s[h][0]})).text,s[h][1],s[h][2]]):o.push(i(Object.assign({},l,{text:s[h]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(le),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(le.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,s,o,l,h,p,m=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var k=function(x){var A=x.charCodeAt(),L=A>>8,Y=C[L];return Y!==void 0?m[256*Y+(255&A)]:L===252||L===253?"AL":y.test(L)?"L":L===8?"R":"N"},j=function(x){for(var A,L=0;L<x.length;L++){if((A=k(x.charAt(L)))==="L")return!1;if(A==="R")return!0}return!1},z=function(x,A,L,Y){var st,q,Q,X,J=A[Y];switch(J){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(J="AN");break;case"AL":b=!0,J="R";break;case"WS":J="N";break;case"CS":Y<1||Y+1>=A.length||(st=L[Y-1])!=="EN"&&st!=="AN"||(q=A[Y+1])!=="EN"&&q!=="AN"?J="N":b&&(q="AN"),J=q===st?q:"N";break;case"ES":J=(st=Y>0?L[Y-1]:"B")==="EN"&&Y+1<A.length&&A[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&L[Y-1]==="EN"){J="EN";break}if(b){J="N";break}for(Q=Y+1,X=A.length;Q<X&&A[Q]==="ET";)Q++;J=Q<X&&A[Q]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(X=A.length,Q=Y+1;Q<X&&A[Q]==="NSM";)Q++;if(Q<X){var at=x[Y],yt=at>=1425&&at<=2303||at===64286;if(st=A[Q],yt&&(st==="R"||st==="AL")){J="R";break}}}J=Y<1||(st=A[Y-1])==="B"?"N":L[Y-1];break;case"B":b=!1,i=!0,J=w;break;case"S":a=!0,J="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":J="N"}return J},N=function(x,A,L){var Y=x.split("");return L&&E(Y,L,{hiLevel:w}),Y.reverse(),A&&A.reverse(),Y.join("")},E=function(x,A,L){var Y,st,q,Q,X,J=-1,at=x.length,yt=0,M=[],$=w?d:g,Z=[];for(b=!1,i=!1,a=!1,st=0;st<at;st++)Z[st]=k(x[st]);for(q=0;q<at;q++){if(X=yt,M[q]=z(x,Z,M,q),Y=240&(yt=$[X][T[M[q]]]),yt&=15,A[q]=Q=$[yt][5],Y>0)if(Y===16){for(st=J;st<q;st++)A[st]=1;J=-1}else J=-1;if($[yt][6])J===-1&&(J=q);else if(J>-1){for(st=J;st<q;st++)A[st]=Q;J=-1}Z[q]==="B"&&(A[q]=0),L.hiLevel|=Q}a&&function(et,rt,pt){for(var gt=0;gt<pt;gt++)if(et[gt]==="S"){rt[gt]=w;for(var vt=gt-1;vt>=0&&et[vt]==="WS";vt--)rt[vt]=w}}(Z,A,at)},R=function(x,A,L,Y,st){if(!(st.hiLevel<x)){if(x===1&&w===1&&!i)return A.reverse(),void(L&&L.reverse());for(var q,Q,X,J,at=A.length,yt=0;yt<at;){if(Y[yt]>=x){for(X=yt+1;X<at&&Y[X]>=x;)X++;for(J=yt,Q=X-1;J<Q;J++,Q--)q=A[J],A[J]=A[Q],A[Q]=q,L&&(q=L[J],L[J]=L[Q],L[Q]=q);yt=X}yt++}}},O=function(x,A,L){var Y=x.split(""),st={hiLevel:w};return L||(L=[]),E(Y,L,st),function(q,Q,X){if(X.hiLevel!==0&&p)for(var J,at=0;at<q.length;at++)Q[at]===1&&(J=P.indexOf(q[at]))>=0&&(q[at]=P[J+1])}(Y,L,st),R(2,Y,A,L,st),R(1,Y,A,L,st),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(x,A,L){if(function(st,q){if(q)for(var Q=0;Q<st.length;Q++)q[Q]=Q;o===void 0&&(o=j(st)),h===void 0&&(h=j(st))}(x,A),s||!l||h)if(s&&l&&o^h)w=o?1:0,x=N(x,A,L);else if(!s&&l&&h)w=o?1:0,x=O(x,A,L),x=N(x,A);else if(!s||o||l||h){if(s&&!l&&o^h)x=N(x,A),o?(w=0,x=O(x,A,L)):(w=1,x=O(x,A,L),x=N(x,A));else if(s&&o&&!l&&h)w=1,x=O(x,A,L),x=N(x,A);else if(!s&&!l&&o^h){var Y=p;o?(w=1,x=O(x,A,L),w=0,p=!1,x=O(x,A,L),p=Y):(w=0,x=O(x,A,L),x=N(x,A),w=1,p=!1,x=O(x,A,L),p=Y,x=N(x,A))}}else w=0,x=O(x,A,L);else w=o?1:0,x=O(x,A,L);return x},this.__bidiEngine__.setOptions=function(x){x&&(s=x.isInputVisual,l=x.isOutputVisual,o=x.isInputRtl,h=x.isOutputRtl,p=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),s=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([n.doBidiReorder(i[o])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(le),le.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new gl(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ZI(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new FI(this.contents),this.head=new BI(this),this.name=new $I(this),this.cmap=new kE(this),this.toUnicode={},this.hhea=new UI(this),this.maxp=new GI(this),this.hmtx=new WI(this),this.post=new qI(this),this.os2=new zI(this),this.loca=new XI(this),this.glyf=new YI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,h;for(h=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Ta,gl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,s,o,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),FI=function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,s,o,l,h,p,m,g,d,T,C;for(C in d=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(d)/l),s=Math.floor(m/l),p=16*d-m,(i=new gl).writeInt(this.scalarType),i.writeShort(d),i.writeShort(m),i.writeShort(s),i.writeShort(p),a=16*d,h=i.pos+a,o=null,T=[],n)for(g=n[C],i.writeString(C),i.writeInt(e(g)),i.writeInt(h),i.writeInt(g.length),T=T.concat(g),C==="head"&&(o=h),h+=g.length;h%4;)T.push(0),h++;return i.write(T),r=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,s;for(n=ME.call(n);n.length%4;)n.push(0);for(a=new gl(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},t}(),VI={}.hasOwnProperty,as=function(e,t){for(var n in t)VI.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ta=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var BI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return as(t,Ta),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new gl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),Hw=function(){function e(t,n){var r,i,a,s,o,l,h,p,m,g,d,T,C,P,y,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),g=d/2,t.pos+=6,a=function(){var k,j;for(j=[],l=k=0;0<=g?k<g:k>g;l=0<=g?++k:--k)j.push(t.readUInt16());return j}(),t.pos+=2,C=function(){var k,j;for(j=[],l=k=0;0<=g?k<g:k>g;l=0<=g?++k:--k)j.push(t.readUInt16());return j}(),h=function(){var k,j;for(j=[],l=k=0;0<=g?k<g:k>g;l=0<=g?++k:--k)j.push(t.readUInt16());return j}(),p=function(){var k,j;for(j=[],l=k=0;0<=g?k<g:k>g;l=0<=g?++k:--k)j.push(t.readUInt16());return j}(),i=(this.length-t.pos+this.offset)/2,o=function(){var k,j;for(j=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)j.push(t.readUInt16());return j}(),l=y=0,w=a.length;y<w;l=++y)for(P=a[l],r=b=T=C[l];T<=P?b<=P:b>=P;r=T<=P?++b:--b)p[l]===0?s=r+h[l]:(s=o[p[l]/2+(r-T)-(g-l)]||0)!==0&&(s+=h[l]),this.codeMap[r]=65535&s}t.pos=m}return e.encode=function(t,n){var r,i,a,s,o,l,h,p,m,g,d,T,C,P,y,b,w,k,j,z,N,E,R,O,x,A,L,Y,st,q,Q,X,J,at,yt,M,$,Z,et,rt,pt,gt,vt,kt,Lt,Vt;switch(Y=new gl,s=Object.keys(t).sort(function(zt,re){return zt-re}),n){case"macroman":for(C=0,P=function(){var zt=[];for(T=0;T<256;++T)zt.push(0);return zt}(),b={0:0},a={},st=0,J=s.length;st<J;st++)b[vt=t[i=s[st]]]==null&&(b[vt]=++C),a[i]={old:t[i],new:b[t[i]]},P[i]=b[t[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(P),{charMap:a,subtable:Y.data,maxGlyphID:C+1};case"unicode":for(A=[],m=[],w=0,b={},r={},y=h=null,q=0,at=s.length;q<at;q++)b[j=t[i=s[q]]]==null&&(b[j]=++w),r[i]={old:j,new:b[j]},o=b[j]-i,y!=null&&o===h||(y&&m.push(y),A.push(i),h=o),y=i;for(y&&m.push(y),m.push(65535),A.push(65535),O=2*(R=A.length),E=2*Math.pow(Math.log(R)/Math.LN2,2),g=Math.log(E/2)/Math.LN2,N=2*R-E,l=[],z=[],d=[],T=Q=0,yt=A.length;Q<yt;T=++Q){if(x=A[T],p=m[T],x===65535){l.push(0),z.push(0);break}if(x-(L=r[x].new)>=32768)for(l.push(0),z.push(2*(d.length+R-T)),i=X=x;x<=p?X<=p:X>=p;i=x<=p?++X:--X)d.push(r[i].new);else l.push(L-x),z.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*R+2*d.length),Y.writeUInt16(0),Y.writeUInt16(O),Y.writeUInt16(E),Y.writeUInt16(g),Y.writeUInt16(N),pt=0,M=m.length;pt<M;pt++)i=m[pt],Y.writeUInt16(i);for(Y.writeUInt16(0),gt=0,$=A.length;gt<$;gt++)i=A[gt],Y.writeUInt16(i);for(kt=0,Z=l.length;kt<Z;kt++)o=l[kt],Y.writeUInt16(o);for(Lt=0,et=z.length;Lt<et;Lt++)k=z[Lt],Y.writeUInt16(k);for(Vt=0,rt=d.length;Vt<rt;Vt++)C=d[Vt],Y.writeUInt16(C);return{charMap:r,subtable:Y.data,maxGlyphID:w+1}}},e}(),kE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return as(t,Ta),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new Hw(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=Hw.encode(n,r),(a=new gl).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),UI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return as(t,Ta),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),zI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return as(t,Ta),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),qI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return as(t,Ta),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(i=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,h;for(h=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)h.push(n.readUInt32());return h}).call(this)}},t}(),HI=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},$I=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return as(t,Ta),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,a,s,o,l,h,p,m,g,d;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(h={},s=m=0,g=i.length;m<g;s=++m)a=i[s],n.pos=a.offset,p=n.readString(a.length),o=new HI(p,a),h[d=a.nameID]==null&&(h[d]=[]),h[a.nameID].push(o);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t}(),GI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return as(t,Ta),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),WI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return as(t,Ta),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,a,s,o,l,h;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,m;for(m=[],r=p=0;0<=a?p<a:p>a;r=0<=a?++p:--p)m.push(n.readInt16());return m}(),this.widths=(function(){var p,m,g,d;for(d=[],p=0,m=(g=this.metrics).length;p<m;p++)s=g[p],d.push(s.advance);return d}).call(this),i=this.widths[this.widths.length-1],h=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)h.push(this.widths.push(i));return h},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),ME=[].slice,YI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return as(t,Ta),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,a,s,o,l,h,p,m,g;return n in this.cache?this.cache[n]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(n),(a=s.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(l=new gl(r.read(a))).readShort(),p=l.readShort(),g=l.readShort(),h=l.readShort(),m=l.readShort(),this.cache[n]=o===-1?new KI(l,p,g,h,m):new QI(l,o,p,g,h,m),this.cache[n]))},t.prototype.encode=function(n,r,i){var a,s,o,l,h;for(o=[],s=[],l=0,h=r.length;l<h;l++)a=n[r[l]],s.push(o.length),a&&(o=o.concat(a.encode(i)));return s.push(o.length),{table:o,offsets:s}},t}(),QI=function(){function e(t,n,r,i,a,s){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),KI=function(){function e(t,n,r,i,a){var s,o;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new gl(ME.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),XI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return as(t,Ta),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(n.readUInt32());return s}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<i.length;++o)if(i[o]=a,s<r.length&&r[s]==o){++s,i[o]=a;var l=this.offsets[o],h=this.offsets[o+1]-l;h>0&&(a+=h)}for(var p=new Array(4*i.length),m=0;m<i.length;++m)p[4*m+3]=255&i[m],p[4*m+2]=(65280&i[m])>>8,p[4*m+1]=(16711680&i[m])>>16,p[4*m]=(4278190080&i[m])>>24;return p},t}(),ZI=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,s,o,l;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,s,o,l,h,p,m,g,d,T,C,P,y;for(i in r=kE.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},y=r.charMap)d[(l=y[i]).old]=l.new;for(T in g=r.maxGlyphID,s)T in d||(d[T]=g++);return p=function(b){var w,k;for(w in k={},b)k[b[w]]=w;return k}(d),m=Object.keys(p).sort(function(b,w){return b-w}),C=function(){var b,w,k;for(k=[],b=0,w=m.length;b<w;b++)o=m[b],k.push(p[o]);return k}(),a=this.font.glyf.encode(s,C,d),h=this.font.loca.encode(a.offsets,C),P={cmap:this.font.cmap.raw(),glyf:a.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},e}();le.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+function(){var o,l,h;for(h=[],o=0,l=n.length;o<l;o++)r=n[o],h.push(t.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+n},t}();const JI=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:LI,AcroFormAppearance:Jt,AcroFormButton:tr,AcroFormCheckBox:Pf,AcroFormChoiceField:ou,AcroFormComboBox:uu,AcroFormEditBox:Lf,AcroFormListBox:lu,AcroFormPasswordField:If,AcroFormPushButton:Df,AcroFormRadioButton:cu,AcroFormTextField:rl,GState:od,ShadingPattern:Bo,TilingPattern:Xl,default:le,jsPDF:le},Symbol.toStringTag,{value:"Module"}));var tO={exports:{}};const eO=_T(JI);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(r,i){e.exports=i(function(){try{return eO}catch{}}())})(typeof globalThis<"u"?globalThis:typeof l1<"u"?l1:typeof window<"u"?window:typeof self<"u"?self:l1,function(n){return function(){var r={172:function(o,l){var h=this&&this.__extends||function(){var g=function(d,T){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,P){C.__proto__=P}||function(C,P){for(var y in P)Object.prototype.hasOwnProperty.call(P,y)&&(C[y]=P[y])},g(d,T)};return function(d,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");g(d,T);function C(){this.constructor=d}d.prototype=T===null?Object.create(T):(C.prototype=T.prototype,new C)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var p=function(){function g(d,T,C){this.table=T,this.pageNumber=T.pageNumber,this.pageCount=this.pageNumber,this.settings=T.settings,this.cursor=C,this.doc=d.getDocument()}return g}();l.HookData=p;var m=function(g){h(d,g);function d(T,C,P,y,b,w){var k=g.call(this,T,C,w)||this;return k.cell=P,k.row=y,k.column=b,k.section=y.section,k}return d}(p);l.CellHookData=m},340:function(o,l,h){Object.defineProperty(l,"__esModule",{value:!0});var p=h(4),m=h(136),g=h(744),d=h(776),T=h(664),C=h(972);function P(y){y.API.autoTable=function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];var k;b.length===1?k=b[0]:(console.error("Use of deprecated autoTable initiation"),k=b[2]||{},k.columns=b[0],k.body=b[1]);var j=(0,d.parseInput)(this,k),z=(0,C.createTable)(this,j);return(0,T.drawTable)(this,z),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(b,w,k,j){(0,m.default)(b,w,k,j,this)},y.API.autoTableSetDefaults=function(b){return g.DocHandler.setDefaults(b,this),this},y.autoTableSetDefaults=function(b,w){g.DocHandler.setDefaults(b,w)},y.API.autoTableHtmlToJson=function(b,w){var k;if(w===void 0&&(w=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var j=new g.DocHandler(this),z=(0,p.parseHtml)(j,b,window,w,!1),N=z.head,E=z.body,R=((k=N[0])===null||k===void 0?void 0:k.map(function(O){return O.content}))||[];return{columns:R,rows:E,data:E}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},y.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=b,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=P},136:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function h(p,m,g,d,T){d=d||{};var C=1.15,P=T.internal.scaleFactor,y=T.internal.getFontSize()/P,b=T.getLineHeightFactor?T.getLineHeightFactor():C,w=y*b,k=/\r\n|\r|\n/g,j="",z=1;if((d.valign==="middle"||d.valign==="bottom"||d.halign==="center"||d.halign==="right")&&(j=typeof p=="string"?p.split(k):p,z=j.length||1),g+=y*(2-C),d.valign==="middle"?g-=z/2*w:d.valign==="bottom"&&(g-=z*w),d.halign==="center"||d.halign==="right"){var N=y;if(d.halign==="center"&&(N*=.5),j&&z>=1){for(var E=0;E<j.length;E++)T.text(j[E],m-T.getStringUnitWidth(j[E])*N,g),g+=w;return T}m-=T.getStringUnitWidth(p)*N}return d.halign==="justify"?T.text(p,m,g,{maxWidth:d.maxWidth||100,align:"justify"}):T.text(p,m,g),T}l.default=h},420:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function h(T,C,P){P.applyStyles(C,!0);var y=Array.isArray(T)?T:[T],b=y.map(function(w){return P.getTextWidth(w)}).reduce(function(w,k){return Math.max(w,k)},0);return b}l.getStringWidth=h;function p(T,C,P,y){var b=C.settings.tableLineWidth,w=C.settings.tableLineColor;T.applyStyles({lineWidth:b,lineColor:w});var k=m(b,!1);k&&T.rect(P.x,P.y,C.getWidth(T.pageSize().width),y.y-P.y,k)}l.addTableBorder=p;function m(T,C){var P=T>0,y=C||C===0;return P&&y?"DF":P?"S":y?"F":null}l.getFillStyle=m;function g(T,C){var P,y,b,w;if(T=T||C,Array.isArray(T)){if(T.length>=4)return{top:T[0],right:T[1],bottom:T[2],left:T[3]};if(T.length===3)return{top:T[0],right:T[1],bottom:T[2],left:T[1]};if(T.length===2)return{top:T[0],right:T[1],bottom:T[0],left:T[1]};T.length===1?T=T[0]:T=C}return typeof T=="object"?(typeof T.vertical=="number"&&(T.top=T.vertical,T.bottom=T.vertical),typeof T.horizontal=="number"&&(T.right=T.horizontal,T.left=T.horizontal),{left:(P=T.left)!==null&&P!==void 0?P:C,top:(y=T.top)!==null&&y!==void 0?y:C,right:(b=T.right)!==null&&b!==void 0?b:C,bottom:(w=T.bottom)!==null&&w!==void 0?w:C}):(typeof T!="number"&&(T=C),{top:T,right:T,bottom:T,left:T})}l.parseSpacing=g;function d(T,C){var P=g(C.settings.margin,0);return T.pageSize().width-(P.left+P.right)}l.getPageAvailableWidth=d},796:function(o,l){var h=this&&this.__extends||function(){var d=function(T,C){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,y){P.__proto__=y}||function(P,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(P[b]=y[b])},d(T,C)};return function(T,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");d(T,C);function P(){this.constructor=T}T.prototype=C===null?Object.create(C):(P.prototype=C.prototype,new P)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var p=function(d){h(T,d);function T(C){var P=d.call(this)||this;return P._element=C,P}return T}(Array);l.HtmlRowInput=p;function m(d){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/d,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=m;function g(d){var T={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return T[d]}l.getTheme=g},903:function(o,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var p=h(420);function m(P,y,b,w,k){var j={},z=1.3333333333333333,N=d(y,function(J){return k.getComputedStyle(J).backgroundColor});N!=null&&(j.fillColor=N);var E=d(y,function(J){return k.getComputedStyle(J).color});E!=null&&(j.textColor=E);var R=C(w,b);R&&(j.cellPadding=R);var O="borderTopColor",x=z*b,A=w.borderTopWidth;if(w.borderBottomWidth===A&&w.borderRightWidth===A&&w.borderLeftWidth===A){var L=(parseFloat(A)||0)/x;L&&(j.lineWidth=L)}else j.lineWidth={top:(parseFloat(w.borderTopWidth)||0)/x,right:(parseFloat(w.borderRightWidth)||0)/x,bottom:(parseFloat(w.borderBottomWidth)||0)/x,left:(parseFloat(w.borderLeftWidth)||0)/x},j.lineWidth.top||(j.lineWidth.right?O="borderRightColor":j.lineWidth.bottom?O="borderBottomColor":j.lineWidth.left&&(O="borderLeftColor"));var Y=d(y,function(J){return k.getComputedStyle(J)[O]});Y!=null&&(j.lineColor=Y);var st=["left","right","center","justify"];st.indexOf(w.textAlign)!==-1&&(j.halign=w.textAlign),st=["middle","bottom","top"],st.indexOf(w.verticalAlign)!==-1&&(j.valign=w.verticalAlign);var q=parseInt(w.fontSize||"");isNaN(q)||(j.fontSize=q/z);var Q=g(w);Q&&(j.fontStyle=Q);var X=(w.fontFamily||"").toLowerCase();return P.indexOf(X)!==-1&&(j.font=X),j}l.parseCss=m;function g(P){var y="";return(P.fontWeight==="bold"||P.fontWeight==="bolder"||parseInt(P.fontWeight)>=700)&&(y="bold"),(P.fontStyle==="italic"||P.fontStyle==="oblique")&&(y+="italic"),y}function d(P,y){var b=T(P,y);if(!b)return null;var w=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!w||!Array.isArray(w))return null;var k=[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])],j=parseInt(w[4]);return j===0||isNaN(k[0])||isNaN(k[1])||isNaN(k[2])?null:k}function T(P,y){var b=y(P);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?P.parentElement==null?null:T(P.parentElement,y):b}function C(P,y){var b=[P.paddingTop,P.paddingRight,P.paddingBottom,P.paddingLeft],w=96/(72/y),k=(parseInt(P.lineHeight)-parseInt(P.fontSize))/y/2,j=b.map(function(N){return parseInt(N||"0")/w}),z=(0,p.parseSpacing)(j,0);return k>z.top&&(z.top=k),k>z.bottom&&(z.bottom=k),z}},744:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var h={},p=function(){function m(g){this.jsPDFDocument=g,this.userStyles={textColor:g.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:g.internal.getFontSize(),fontStyle:g.internal.getFont().fontStyle,font:g.internal.getFont().fontName,lineWidth:g.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:g.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return m.setDefaults=function(g,d){d===void 0&&(d=null),d?d.__autoTableDocumentDefaults=g:h=g},m.unifyColor=function(g){return Array.isArray(g)?g:typeof g=="number"?[g,g,g]:typeof g=="string"?[g]:null},m.prototype.applyStyles=function(g,d){var T,C,P;d===void 0&&(d=!1),g.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(g.fontStyle);var y=this.jsPDFDocument.internal.getFont(),b=y.fontStyle,w=y.fontName;if(g.font&&(w=g.font),g.fontStyle){b=g.fontStyle;var k=this.getFontList()[w];k&&k.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(k[0]),b=k[0])}if(this.jsPDFDocument.setFont(w,b),g.fontSize&&this.jsPDFDocument.setFontSize(g.fontSize),!d){var j=m.unifyColor(g.fillColor);j&&(T=this.jsPDFDocument).setFillColor.apply(T,j),j=m.unifyColor(g.textColor),j&&(C=this.jsPDFDocument).setTextColor.apply(C,j),j=m.unifyColor(g.lineColor),j&&(P=this.jsPDFDocument).setDrawColor.apply(P,j),typeof g.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(g.lineWidth)}},m.prototype.splitTextToSize=function(g,d,T){return this.jsPDFDocument.splitTextToSize(g,d,T)},m.prototype.rect=function(g,d,T,C,P){return this.jsPDFDocument.rect(g,d,T,C,P)},m.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},m.prototype.getTextWidth=function(g){return this.jsPDFDocument.getTextWidth(g)},m.prototype.getDocument=function(){return this.jsPDFDocument},m.prototype.setPage=function(g){this.jsPDFDocument.setPage(g)},m.prototype.addPage=function(){return this.jsPDFDocument.addPage()},m.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},m.prototype.getGlobalOptions=function(){return h||{}},m.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},m.prototype.pageSize=function(){var g=this.jsPDFDocument.internal.pageSize;return g.width==null&&(g={width:g.getWidth(),height:g.getHeight()}),g},m.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},m.prototype.getLineHeightFactor=function(){var g=this.jsPDFDocument;return g.getLineHeightFactor?g.getLineHeightFactor():1.15},m.prototype.getLineHeight=function(g){return g/this.scaleFactor()*this.getLineHeightFactor()},m.prototype.pageNumber=function(){var g=this.jsPDFDocument.internal.getCurrentPageInfo();return g?g.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},m}();l.DocHandler=p},4:function(o,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var p=h(903),m=h(796);function g(C,P,y,b,w){var k,j;b===void 0&&(b=!1),w===void 0&&(w=!1);var z;typeof P=="string"?z=y.document.querySelector(P):z=P;var N=Object.keys(C.getFontList()),E=C.scaleFactor(),R=[],O=[],x=[];if(!z)return console.error("Html table could not be found with input: ",P),{head:R,body:O,foot:x};for(var A=0;A<z.rows.length;A++){var L=z.rows[A],Y=(j=(k=L==null?void 0:L.parentElement)===null||k===void 0?void 0:k.tagName)===null||j===void 0?void 0:j.toLowerCase(),st=d(N,E,y,L,b,w);st&&(Y==="thead"?R.push(st):Y==="tfoot"?x.push(st):O.push(st))}return{head:R,body:O,foot:x}}l.parseHtml=g;function d(C,P,y,b,w,k){for(var j=new m.HtmlRowInput(b),z=0;z<b.cells.length;z++){var N=b.cells[z],E=y.getComputedStyle(N);if(w||E.display!=="none"){var R=void 0;k&&(R=(0,p.parseCss)(C,N,P,E,y)),j.push({rowSpan:N.rowSpan,colSpan:N.colSpan,styles:R,_element:N,content:T(N)})}}var O=y.getComputedStyle(b);if(j.length>0&&(w||O.display!=="none"))return j}function T(C){var P=C.cloneNode(!0);return P.innerHTML=P.innerHTML.replace(/\n/g,"").replace(/ +/g," "),P.innerHTML=P.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),P.innerText||P.textContent||""}},776:function(o,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var p=h(4),m=h(356),g=h(420),d=h(744),T=h(792);function C(z,N){var E=new d.DocHandler(z),R=E.getDocumentOptions(),O=E.getGlobalOptions();(0,T.default)(E,O,R,N);var x=(0,m.assign)({},O,R,N),A;typeof window<"u"&&(A=window);var L=P(O,R,N),Y=y(O,R,N),st=b(E,x),q=k(E,x,A);return{id:N.tableId,content:q,hooks:Y,styles:L,settings:st}}l.parseInput=C;function P(z,N,E){for(var R={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},O=function(Y){if(Y==="columnStyles"){var st=z[Y],q=N[Y],Q=E[Y];R.columnStyles=(0,m.assign)({},st,q,Q)}else{var X=[z,N,E],J=X.map(function(at){return at[Y]||{}});R[Y]=(0,m.assign)({},J[0],J[1],J[2])}},x=0,A=Object.keys(R);x<A.length;x++){var L=A[x];O(L)}return R}function y(z,N,E){for(var R=[z,N,E],O={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},x=0,A=R;x<A.length;x++){var L=A[x];L.didParseCell&&O.didParseCell.push(L.didParseCell),L.willDrawCell&&O.willDrawCell.push(L.willDrawCell),L.didDrawCell&&O.didDrawCell.push(L.didDrawCell),L.willDrawPage&&O.willDrawPage.push(L.willDrawPage),L.didDrawPage&&O.didDrawPage.push(L.didDrawPage)}return O}function b(z,N){var E,R,O,x,A,L,Y,st,q,Q,X,J,at=(0,g.parseSpacing)(N.margin,40/z.scaleFactor()),yt=(E=w(z,N.startY))!==null&&E!==void 0?E:at.top,M;N.showFoot===!0?M="everyPage":N.showFoot===!1?M="never":M=(R=N.showFoot)!==null&&R!==void 0?R:"everyPage";var $;N.showHead===!0?$="everyPage":N.showHead===!1?$="never":$=(O=N.showHead)!==null&&O!==void 0?O:"everyPage";var Z=(x=N.useCss)!==null&&x!==void 0?x:!1,et=N.theme||(Z?"plain":"striped"),rt=!!N.horizontalPageBreak,pt=(A=N.horizontalPageBreakRepeat)!==null&&A!==void 0?A:null;return{includeHiddenHtml:(L=N.includeHiddenHtml)!==null&&L!==void 0?L:!1,useCss:Z,theme:et,startY:yt,margin:at,pageBreak:(Y=N.pageBreak)!==null&&Y!==void 0?Y:"auto",rowPageBreak:(st=N.rowPageBreak)!==null&&st!==void 0?st:"auto",tableWidth:(q=N.tableWidth)!==null&&q!==void 0?q:"auto",showHead:$,showFoot:M,tableLineWidth:(Q=N.tableLineWidth)!==null&&Q!==void 0?Q:0,tableLineColor:(X=N.tableLineColor)!==null&&X!==void 0?X:200,horizontalPageBreak:rt,horizontalPageBreakRepeat:pt,horizontalPageBreakBehaviour:(J=N.horizontalPageBreakBehaviour)!==null&&J!==void 0?J:"afterAllRows"}}function w(z,N){var E=z.getLastAutoTable(),R=z.scaleFactor(),O=z.pageNumber(),x=!1;if(E&&E.startPageNumber){var A=E.startPageNumber+E.pageNumber-1;x=A===O}return typeof N=="number"?N:(N==null||N===!1)&&x&&(E==null?void 0:E.finalY)!=null?E.finalY+20/R:null}function k(z,N,E){var R=N.head||[],O=N.body||[],x=N.foot||[];if(N.html){var A=N.includeHiddenHtml;if(E){var L=(0,p.parseHtml)(z,N.html,E,A,N.useCss)||{};R=L.head||R,O=L.body||R,x=L.foot||R}else console.error("Cannot parse html in non browser environment")}var Y=N.columns||j(R,O,x);return{columns:Y,head:R,body:O,foot:x}}function j(z,N,E){var R=z[0]||N[0]||E[0]||[],O=[];return Object.keys(R).filter(function(x){return x!=="_element"}).forEach(function(x){var A=1,L;Array.isArray(R)?L=R[parseInt(x)]:L=R[x],typeof L=="object"&&!Array.isArray(L)&&(A=(L==null?void 0:L.colSpan)||1);for(var Y=0;Y<A;Y++){var st=void 0;Array.isArray(R)?st=O.length:st=x+(Y>0?"_".concat(Y):"");var q={dataKey:st};O.push(q)}}),O}},792:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function h(m,g,d,T){for(var C=function(w){w&&typeof w!="object"&&console.error("The options parameter should be of type object, is: "+typeof w),typeof w.extendWidth<"u"&&(w.tableWidth=w.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof w.margins<"u"&&(typeof w.margin>"u"&&(w.margin=w.margins),console.error("Use of deprecated option: margins, use margin instead.")),w.startY&&typeof w.startY!="number"&&(console.error("Invalid value for startY option",w.startY),delete w.startY),!w.didDrawPage&&(w.afterPageContent||w.beforePageContent||w.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),w.didDrawPage=function(x){m.applyStyles(m.userStyles),w.beforePageContent&&w.beforePageContent(x),m.applyStyles(m.userStyles),w.afterPageContent&&w.afterPageContent(x),m.applyStyles(m.userStyles),w.afterPageAdd&&x.pageNumber>1&&x.afterPageAdd(x),m.applyStyles(m.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(x){w[x]&&console.error('The "'.concat(x,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(x){var A=x[0],L=x[1];w[L]&&(console.error("Use of deprecated option ".concat(L,". Use ").concat(A," instead")),w[A]=w[L])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(x){var A=typeof x=="string"?x:x[0],L=typeof x=="string"?x:x[1];typeof w[A]<"u"&&(typeof w.styles[L]>"u"&&(w.styles[L]=w[A]),console.error("Use of deprecated option: "+A+", use the style "+L+" instead."))});for(var k=0,j=["styles","bodyStyles","headStyles","footStyles"];k<j.length;k++){var z=j[k];p(w[z]||{})}for(var N=w.columnStyles||{},E=0,R=Object.keys(N);E<R.length;E++){var O=R[E];p(N[O]||{})}},P=0,y=[g,d,T];P<y.length;P++){var b=y[P];C(b)}}l.default=h;function p(m){m.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),m.minCellHeight||(m.minCellHeight=m.rowHeight)):m.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),m.cellWidth||(m.cellWidth=m.columnWidth))}},260:function(o,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var p=h(796),m=h(172),g=h(420),d=function(){function y(b,w){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=w.columns,this.head=w.head,this.body=w.body,this.foot=w.foot}return y.prototype.getHeadHeight=function(b){return this.head.reduce(function(w,k){return w+k.getMaxCellHeight(b)},0)},y.prototype.getFootHeight=function(b){return this.foot.reduce(function(w,k){return w+k.getMaxCellHeight(b)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(b,w,k,j,z,N){for(var E=0,R=w;E<R.length;E++){var O=R[E],x=new m.CellHookData(b,this,k,j,z,N),A=O(x)===!1;if(k.text=Array.isArray(k.text)?k.text:[k.text],A)return!1}return!0},y.prototype.callEndPageHooks=function(b,w){b.applyStyles(b.userStyles);for(var k=0,j=this.hooks.didDrawPage;k<j.length;k++){var z=j[k];z(new m.HookData(b,this,w))}},y.prototype.callWillDrawPageHooks=function(b,w){for(var k=0,j=this.hooks.willDrawPage;k<j.length;k++){var z=j[k];z(new m.HookData(b,this,w))}},y.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var w=this.columns.reduce(function(j,z){return j+z.wrappedWidth},0);return w}else{var k=this.settings.margin;return b-k.left-k.right}},y}();l.Table=d;var T=function(){function y(b,w,k,j,z){z===void 0&&(z=!1),this.height=0,this.raw=b,b instanceof p.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=w,this.section=k,this.cells=j,this.spansMultiplePages=z}return y.prototype.getMaxCellHeight=function(b){var w=this;return b.reduce(function(k,j){var z;return Math.max(k,((z=w.cells[j.index])===null||z===void 0?void 0:z.height)||0)},0)},y.prototype.hasRowSpan=function(b){var w=this;return b.filter(function(k){var j=w.cells[k.index];return j?j.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(b,w){return this.getMaxCellHeight(w)<=b},y.prototype.getMinimumRowHeight=function(b,w){var k=this;return b.reduce(function(j,z){var N=k.cells[z.index];if(!N)return 0;var E=w.getLineHeight(N.styles.fontSize),R=N.padding("vertical"),O=R+E;return O>j?O:j},0)},y}();l.Row=T;var C=function(){function y(b,w,k){var j,z;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=w,this.section=k,this.raw=b;var N=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,N=(z=(j=b.content)!==null&&j!==void 0?j:b.title)!==null&&z!==void 0?z:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var E=N!=null?""+N:"",R=/\r\n|\r|\n/g;this.text=E.split(R)}return y.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var w=this.height-this.padding("vertical");b=this.y+w/2+this.padding("top")}var k;if(this.styles.halign==="right")k=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var j=this.width-this.padding("horizontal");k=this.x+j/2+this.padding("left")}else k=this.x+this.padding("left");return{x:k,y:b}},y.prototype.getContentHeight=function(b,w){w===void 0&&(w=1.15);var k=Array.isArray(this.text)?this.text.length:1,j=this.styles.fontSize/b*w,z=k*j+this.padding("vertical");return Math.max(z,this.styles.minCellHeight)},y.prototype.padding=function(b){var w=(0,g.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?w.top+w.bottom:b==="horizontal"?w.left+w.right:w[b]},y}();l.Cell=C;var P=function(){function y(b,w,k){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=w,this.index=k}return y.prototype.getMaxCustomCellWidth=function(b){for(var w=0,k=0,j=b.allRows();k<j.length;k++){var z=j[k],N=z.cells[this.index];N&&typeof N.styles.cellWidth=="number"&&(w=Math.max(w,N.styles.cellWidth))}return w},y}();l.Column=P},356:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function h(p,m,g,d,T){if(p==null)throw new TypeError("Cannot convert undefined or null to object");for(var C=Object(p),P=1;P<arguments.length;P++){var y=arguments[P];if(y!=null)for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(C[b]=y[b])}return C}l.assign=h},972:function(o,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var p=h(744),m=h(260),g=h(324),d=h(796),T=h(356);function C(z,N){var E=new p.DocHandler(z),R=P(N,E.scaleFactor()),O=new m.Table(N,R);return(0,g.calculateWidths)(E,O),E.applyStyles(E.userStyles),O}l.createTable=C;function P(z,N){var E=z.content,R=k(E.columns);if(E.head.length===0){var O=b(R,"head");O&&E.head.push(O)}if(E.foot.length===0){var O=b(R,"foot");O&&E.foot.push(O)}var x=z.settings.theme,A=z.styles;return{columns:R,head:y("head",E.head,R,A,x,N),body:y("body",E.body,R,A,x,N),foot:y("foot",E.foot,R,A,x,N)}}function y(z,N,E,R,O,x){var A={},L=N.map(function(Y,st){for(var q=0,Q={},X=0,J=0,at=0,yt=E;at<yt.length;at++){var M=yt[at];if(A[M.index]==null||A[M.index].left===0)if(J===0){var $=void 0;Array.isArray(Y)?$=Y[M.index-X-q]:$=Y[M.dataKey];var Z={};typeof $=="object"&&!Array.isArray($)&&(Z=($==null?void 0:$.styles)||{});var et=j(z,M,st,O,R,x,Z),rt=new m.Cell($,et,z);Q[M.dataKey]=rt,Q[M.index]=rt,J=rt.colSpan-1,A[M.index]={left:rt.rowSpan-1,times:J}}else J--,X++;else A[M.index].left--,J=A[M.index].times,q++}return new m.Row(Y,st,z,Q)});return L}function b(z,N){var E={};return z.forEach(function(R){if(R.raw!=null){var O=w(N,R.raw);O!=null&&(E[R.dataKey]=O)}}),Object.keys(E).length>0?E:null}function w(z,N){if(z==="head"){if(typeof N=="object")return N.header||N.title||null;if(typeof N=="string"||typeof N=="number")return N}else if(z==="foot"&&typeof N=="object")return N.footer;return null}function k(z){return z.map(function(N,E){var R,O,x;return typeof N=="object"?x=(O=(R=N.dataKey)!==null&&R!==void 0?R:N.key)!==null&&O!==void 0?O:E:x=E,new m.Column(x,N,E)})}function j(z,N,E,R,O,x,A){var L=(0,d.getTheme)(R),Y;z==="head"?Y=O.headStyles:z==="body"?Y=O.bodyStyles:z==="foot"&&(Y=O.footStyles);var st=(0,T.assign)({},L.table,L[z],O.styles,Y),q=O.columnStyles[N.dataKey]||O.columnStyles[N.index]||{},Q=z==="body"?q:{},X=z==="body"&&E%2===0?(0,T.assign)({},L.alternateRow,O.alternateRowStyles):{},J=(0,d.defaultStyles)(x),at=(0,T.assign)({},J,st,X,Q);return(0,T.assign)(at,A)}},664:function(o,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var p=h(420),m=h(260),g=h(744),d=h(356),T=h(136),C=h(224);function P(q,Q){var X=Q.settings,J=X.startY,at=X.margin,yt={x:at.left,y:J},M=Q.getHeadHeight(Q.columns)+Q.getFootHeight(Q.columns),$=J+at.bottom+M;if(X.pageBreak==="avoid"){var Z=Q.body,et=Z.reduce(function(gt,vt){return gt+vt.height},0);$+=et}var rt=new g.DocHandler(q);(X.pageBreak==="always"||X.startY!=null&&$>rt.pageSize().height)&&(st(rt),yt.y=at.top),Q.callWillDrawPageHooks(rt,yt);var pt=(0,d.assign)({},yt);Q.startPageNumber=rt.pageNumber(),X.horizontalPageBreak?y(rt,Q,pt,yt):(rt.applyStyles(rt.userStyles),(X.showHead==="firstPage"||X.showHead==="everyPage")&&Q.head.forEach(function(gt){return O(rt,Q,gt,yt,Q.columns)}),rt.applyStyles(rt.userStyles),Q.body.forEach(function(gt,vt){var kt=vt===Q.body.length-1;R(rt,Q,gt,kt,pt,yt,Q.columns)}),rt.applyStyles(rt.userStyles),(X.showFoot==="lastPage"||X.showFoot==="everyPage")&&Q.foot.forEach(function(gt){return O(rt,Q,gt,yt,Q.columns)})),(0,p.addTableBorder)(rt,Q,pt,yt),Q.callEndPageHooks(rt,yt),Q.finalY=yt.y,q.lastAutoTable=Q,q.previousAutoTable=Q,q.autoTable&&(q.autoTable.previous=Q),rt.applyStyles(rt.userStyles)}l.drawTable=P;function y(q,Q,X,J){var at=(0,C.calculateAllColumnsCanFitInPage)(q,Q),yt=Q.settings;if(yt.horizontalPageBreakBehaviour==="afterAllRows")at.forEach(function(et,rt){q.applyStyles(q.userStyles),rt>0?Y(q,Q,X,J,et.columns,!0):b(q,Q,J,et.columns),w(q,Q,X,J,et.columns),j(q,Q,J,et.columns)});else for(var M=-1,$=at[0],Z=function(){var et=M;if($){q.applyStyles(q.userStyles);var rt=$.columns;M>=0?Y(q,Q,X,J,rt,!0):b(q,Q,J,rt),et=k(q,Q,M+1,J,rt),j(q,Q,J,rt)}var pt=et-M;at.slice(1).forEach(function(gt){q.applyStyles(q.userStyles),Y(q,Q,X,J,gt.columns,!0),k(q,Q,M+1,J,gt.columns,pt),j(q,Q,J,gt.columns)}),M=et};M<Q.body.length-1;)Z()}function b(q,Q,X,J){var at=Q.settings;q.applyStyles(q.userStyles),(at.showHead==="firstPage"||at.showHead==="everyPage")&&Q.head.forEach(function(yt){return O(q,Q,yt,X,J)})}function w(q,Q,X,J,at){q.applyStyles(q.userStyles),Q.body.forEach(function(yt,M){var $=M===Q.body.length-1;R(q,Q,yt,$,X,J,at)})}function k(q,Q,X,J,at,yt){q.applyStyles(q.userStyles),yt=yt??Q.body.length;var M=Math.min(X+yt,Q.body.length),$=-1;return Q.body.slice(X,M).forEach(function(Z,et){var rt=X+et===Q.body.length-1,pt=L(q,Q,rt,J);Z.canEntireRowFit(pt,at)&&(O(q,Q,Z,J,at),$=X+et)}),$}function j(q,Q,X,J){var at=Q.settings;q.applyStyles(q.userStyles),(at.showFoot==="lastPage"||at.showFoot==="everyPage")&&Q.foot.forEach(function(yt){return O(q,Q,yt,X,J)})}function z(q,Q,X){var J=X.getLineHeight(q.styles.fontSize),at=q.padding("vertical"),yt=Math.floor((Q-at)/J);return Math.max(0,yt)}function N(q,Q,X,J){var at={};q.spansMultiplePages=!0,q.height=0;for(var yt=0,M=0,$=X.columns;M<$.length;M++){var Z=$[M],et=q.cells[Z.index];if(et){Array.isArray(et.text)||(et.text=[et.text]);var rt=new m.Cell(et.raw,et.styles,et.section);rt=(0,d.assign)(rt,et),rt.text=[];var pt=z(et,Q,J);et.text.length>pt&&(rt.text=et.text.splice(pt,et.text.length));var gt=J.scaleFactor(),vt=J.getLineHeightFactor();et.contentHeight=et.getContentHeight(gt,vt),et.contentHeight>=Q&&(et.contentHeight=Q,rt.styles.minCellHeight-=Q),et.contentHeight>q.height&&(q.height=et.contentHeight),rt.contentHeight=rt.getContentHeight(gt,vt),rt.contentHeight>yt&&(yt=rt.contentHeight),at[Z.index]=rt}}var kt=new m.Row(q.raw,-1,q.section,at,!0);kt.height=yt;for(var Lt=0,Vt=X.columns;Lt<Vt.length;Lt++){var Z=Vt[Lt],rt=kt.cells[Z.index];rt&&(rt.height=kt.height);var et=q.cells[Z.index];et&&(et.height=q.height)}return kt}function E(q,Q,X,J){var at=q.pageSize().height,yt=J.settings.margin,M=yt.top+yt.bottom,$=at-M;Q.section==="body"&&($-=J.getHeadHeight(J.columns)+J.getFootHeight(J.columns));var Z=Q.getMinimumRowHeight(J.columns,q),et=Z<X;if(Z>$)return console.error("Will not be able to print row ".concat(Q.index," correctly since it's minimum height is larger than page height")),!0;if(!et)return!1;var rt=Q.hasRowSpan(J.columns),pt=Q.getMaxCellHeight(J.columns)>$;return pt?(rt&&console.error("The content of row ".concat(Q.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(rt||J.settings.rowPageBreak==="avoid")}function R(q,Q,X,J,at,yt,M){var $=L(q,Q,J,yt);if(X.canEntireRowFit($,M))O(q,Q,X,yt,M);else if(E(q,X,$,Q)){var Z=N(X,$,Q,q);O(q,Q,X,yt,M),Y(q,Q,at,yt,M),R(q,Q,Z,J,at,yt,M)}else Y(q,Q,at,yt,M),R(q,Q,X,J,at,yt,M)}function O(q,Q,X,J,at){J.x=Q.settings.margin.left;for(var yt=0,M=at;yt<M.length;yt++){var $=M[yt],Z=X.cells[$.index];if(!Z){J.x+=$.width;continue}q.applyStyles(Z.styles),Z.x=J.x,Z.y=J.y;var et=Q.callCellHooks(q,Q.hooks.willDrawCell,Z,X,$,J);if(et===!1){J.x+=$.width;continue}x(q,Z,J);var rt=Z.getTextPos();(0,T.default)(Z.text,rt.x,rt.y,{halign:Z.styles.halign,valign:Z.styles.valign,maxWidth:Math.ceil(Z.width-Z.padding("left")-Z.padding("right"))},q.getDocument()),Q.callCellHooks(q,Q.hooks.didDrawCell,Z,X,$,J),J.x+=$.width}J.y+=X.height}function x(q,Q,X){var J=Q.styles;if(q.getDocument().setFillColor(q.getDocument().getFillColor()),typeof J.lineWidth=="number"){var at=(0,p.getFillStyle)(J.lineWidth,J.fillColor);at&&q.rect(Q.x,X.y,Q.width,Q.height,at)}else typeof J.lineWidth=="object"&&(J.fillColor&&q.rect(Q.x,X.y,Q.width,Q.height,"F"),A(q,Q,X,J.lineWidth))}function A(q,Q,X,J){var at,yt,M,$;J.top&&(at=X.x,yt=X.y,M=X.x+Q.width,$=X.y,J.right&&(M+=.5*J.right),J.left&&(at-=.5*J.left),Z(J.top,at,yt,M,$)),J.bottom&&(at=X.x,yt=X.y+Q.height,M=X.x+Q.width,$=X.y+Q.height,J.right&&(M+=.5*J.right),J.left&&(at-=.5*J.left),Z(J.bottom,at,yt,M,$)),J.left&&(at=X.x,yt=X.y,M=X.x,$=X.y+Q.height,J.top&&(yt-=.5*J.top),J.bottom&&($+=.5*J.bottom),Z(J.left,at,yt,M,$)),J.right&&(at=X.x+Q.width,yt=X.y,M=X.x+Q.width,$=X.y+Q.height,J.top&&(yt-=.5*J.top),J.bottom&&($+=.5*J.bottom),Z(J.right,at,yt,M,$));function Z(et,rt,pt,gt,vt){q.getDocument().setLineWidth(et),q.getDocument().line(rt,pt,gt,vt,"S")}}function L(q,Q,X,J){var at=Q.settings.margin.bottom,yt=Q.settings.showFoot;return(yt==="everyPage"||yt==="lastPage"&&X)&&(at+=Q.getFootHeight(Q.columns)),q.pageSize().height-J.y-at}function Y(q,Q,X,J,at,yt){at===void 0&&(at=[]),yt===void 0&&(yt=!1),q.applyStyles(q.userStyles),Q.settings.showFoot==="everyPage"&&!yt&&Q.foot.forEach(function($){return O(q,Q,$,J,at)}),Q.callEndPageHooks(q,J);var M=Q.settings.margin;(0,p.addTableBorder)(q,Q,X,J),st(q),Q.pageNumber++,Q.pageCount++,J.x=M.left,J.y=M.top,X.y=M.top,Q.callWillDrawPageHooks(q,J),Q.settings.showHead==="everyPage"&&(Q.head.forEach(function($){return O(q,Q,$,J,at)}),q.applyStyles(q.userStyles))}l.addPage=Y;function st(q){var Q=q.pageNumber();q.setPage(Q+1);var X=q.pageNumber();return X===Q?(q.addPage(),!0):!1}},224:function(o,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var p=h(420);function m(d,T,C){var P;C===void 0&&(C={});var y=(0,p.getPageAvailableWidth)(d,T),b=new Map,w=[],k=[],j=[];T.settings.horizontalPageBreakRepeat,Array.isArray(T.settings.horizontalPageBreakRepeat)?j=T.settings.horizontalPageBreakRepeat:(typeof T.settings.horizontalPageBreakRepeat=="string"||typeof T.settings.horizontalPageBreakRepeat=="number")&&(j=[T.settings.horizontalPageBreakRepeat]),j.forEach(function(R){var O=T.columns.find(function(x){return x.dataKey===R||x.index===R});O&&!b.has(O.index)&&(b.set(O.index,!0),w.push(O.index),k.push(T.columns[O.index]),y-=O.wrappedWidth)});for(var z=!0,N=(P=C==null?void 0:C.start)!==null&&P!==void 0?P:0;N<T.columns.length;){if(b.has(N)){N++;continue}var E=T.columns[N].wrappedWidth;if(z||y>=E)z=!1,w.push(N),k.push(T.columns[N]),y-=E;else break;N++}return{colIndexes:w,columns:k,lastIndex:N-1}}function g(d,T){for(var C=[],P=0;P<T.columns.length;P++){var y=m(d,T,{start:P});y.columns.length&&(C.push(y),P=y.lastIndex)}return C}l.calculateAllColumnsCanFitInPage=g},324:function(o,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var p=h(420);function m(w,k){g(w,k);var j=[],z=0;k.columns.forEach(function(E){var R=E.getMaxCustomCellWidth(k);R?E.width=R:(E.width=E.wrappedWidth,j.push(E)),z+=E.width});var N=k.getWidth(w.pageSize().width)-z;N&&(N=d(j,N,function(E){return Math.max(E.minReadableWidth,E.minWidth)})),N&&(N=d(j,N,function(E){return E.minWidth})),N=Math.abs(N),!k.settings.horizontalPageBreak&&N>.1/w.scaleFactor()&&(N=N<1?N:Math.round(N),console.warn("Of the table content, ".concat(N," units width could not fit page"))),C(k),P(k,w),T(k)}l.calculateWidths=m;function g(w,k){var j=w.scaleFactor(),z=k.settings.horizontalPageBreak,N=(0,p.getPageAvailableWidth)(w,k);k.allRows().forEach(function(E){for(var R=0,O=k.columns;R<O.length;R++){var x=O[R],A=E.cells[x.index];if(A){var L=k.hooks.didParseCell;k.callCellHooks(w,L,A,E,x,null);var Y=A.padding("horizontal");A.contentWidth=(0,p.getStringWidth)(A.text,A.styles,w)+Y;var st=(0,p.getStringWidth)(A.text.join(" ").split(/[^\S\u00A0]+/),A.styles,w);if(A.minReadableWidth=st+A.padding("horizontal"),typeof A.styles.cellWidth=="number")A.minWidth=A.styles.cellWidth,A.wrappedWidth=A.styles.cellWidth;else if(A.styles.cellWidth==="wrap"||z===!0)A.contentWidth>N?(A.minWidth=N,A.wrappedWidth=N):(A.minWidth=A.contentWidth,A.wrappedWidth=A.contentWidth);else{var q=10/j;A.minWidth=A.styles.minCellWidth||q,A.wrappedWidth=A.contentWidth,A.minWidth>A.wrappedWidth&&(A.wrappedWidth=A.minWidth)}}}}),k.allRows().forEach(function(E){for(var R=0,O=k.columns;R<O.length;R++){var x=O[R],A=E.cells[x.index];if(A&&A.colSpan===1)x.wrappedWidth=Math.max(x.wrappedWidth,A.wrappedWidth),x.minWidth=Math.max(x.minWidth,A.minWidth),x.minReadableWidth=Math.max(x.minReadableWidth,A.minReadableWidth);else{var L=k.styles.columnStyles[x.dataKey]||k.styles.columnStyles[x.index]||{},Y=L.cellWidth||L.minCellWidth;Y&&typeof Y=="number"&&(x.minWidth=Y,x.wrappedWidth=Y)}A&&(A.colSpan>1&&!x.minWidth&&(x.minWidth=A.minWidth),A.colSpan>1&&!x.wrappedWidth&&(x.wrappedWidth=A.minWidth))}})}function d(w,k,j){for(var z=k,N=w.reduce(function(q,Q){return q+Q.wrappedWidth},0),E=0;E<w.length;E++){var R=w[E],O=R.wrappedWidth/N,x=z*O,A=R.width+x,L=j(R),Y=A<L?L:A;k-=Y-R.width,R.width=Y}if(k=Math.round(k*1e10)/1e10,k){var st=w.filter(function(q){return k<0?q.width>j(q):!0});st.length&&(k=d(st,k,j))}return k}l.resizeColumns=d;function T(w){for(var k={},j=1,z=w.allRows(),N=0;N<z.length;N++)for(var E=z[N],R=0,O=w.columns;R<O.length;R++){var x=O[R],A=k[x.index];if(j>1)j--,delete E.cells[x.index];else if(A)A.cell.height+=E.height,j=A.cell.colSpan,delete E.cells[x.index],A.left--,A.left<=1&&delete k[x.index];else{var L=E.cells[x.index];if(!L)continue;if(L.height=E.height,L.rowSpan>1){var Y=z.length-N,st=L.rowSpan>Y?Y:L.rowSpan;k[x.index]={cell:L,left:st,row:E}}}}}function C(w){for(var k=w.allRows(),j=0;j<k.length;j++)for(var z=k[j],N=null,E=0,R=0,O=0;O<w.columns.length;O++){var x=w.columns[O];if(R-=1,R>1&&w.columns[O+1])E+=x.width,delete z.cells[x.index];else if(N){var A=N;delete z.cells[x.index],N=null,A.width=x.width+E}else{var A=z.cells[x.index];if(!A)continue;if(R=A.colSpan,E=0,A.colSpan>1){N=A,E+=x.width;continue}A.width=x.width+E}}}function P(w,k){for(var j={count:0,height:0},z=0,N=w.allRows();z<N.length;z++){for(var E=N[z],R=0,O=w.columns;R<O.length;R++){var x=O[R],A=E.cells[x.index];if(A){k.applyStyles(A.styles,!0);var L=A.width-A.padding("horizontal");if(A.styles.overflow==="linebreak")A.text=k.splitTextToSize(A.text,L+1/k.scaleFactor(),{fontSize:A.styles.fontSize});else if(A.styles.overflow==="ellipsize")A.text=y(A.text,L,A.styles,k,"...");else if(A.styles.overflow==="hidden")A.text=y(A.text,L,A.styles,k,"");else if(typeof A.styles.overflow=="function"){var Y=A.styles.overflow(A.text,L);typeof Y=="string"?A.text=[Y]:A.text=Y}A.contentHeight=A.getContentHeight(k.scaleFactor(),k.getLineHeightFactor());var st=A.contentHeight/A.rowSpan;A.rowSpan>1&&j.count*j.height<st*A.rowSpan?j={height:st,count:A.rowSpan}:j&&j.count>0&&j.height>st&&(st=j.height),st>E.height&&(E.height=st)}}j.count--}}function y(w,k,j,z,N){return w.map(function(E){return b(E,k,j,z,N)})}l.ellipsize=y;function b(w,k,j,z,N){var E=1e4*z.scaleFactor();if(k=Math.ceil(k*E)/E,k>=(0,p.getStringWidth)(w,j,z))return w;for(;k<(0,p.getStringWidth)(w+N,j,z)&&!(w.length<=1);)w=w.substring(0,w.length-1);return w.trim()+N}},964:function(o){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}o.exports=n}},i={};function a(o){var l=i[o];if(l!==void 0)return l.exports;var h=i[o]={exports:{}};return r[o].call(h.exports,h,h.exports,a),h.exports}var s={};return function(){var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var l=a(340),h=a(776),p=a(664),m=a(972),g=a(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return g.Table}});var d=a(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return d.CellHookData}});var T=a(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return T.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return T.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return T.Row}});function C(k){(0,l.default)(k)}o.applyPlugin=C;function P(k,j){var z=(0,h.parseInput)(k,j),N=(0,m.createTable)(k,z);(0,p.drawTable)(k,N)}function y(k,j){var z=(0,h.parseInput)(k,j);return(0,m.createTable)(k,z)}o.__createTable=y;function b(k,j){(0,p.drawTable)(k,j)}o.__drawTable=b;try{var w=a(964);w.jsPDF&&(w=w.jsPDF),C(w)}catch{}o.default=P}(),s}()})})(tO);const nO=()=>{const[e,t]=ct.useState([]),[n,r]=ct.useState([]),[i,a]=ct.useState(""),[s,o]=ct.useState(null),[l,h]=ct.useState(!1),[p,m]=ct.useState(!1),[g,d]=ct.useState(""),[T,C]=ct.useState(1),[P,y]=ct.useState(0),b=localStorage.getItem("empresaId");ct.useEffect(()=>{m(!0),(async()=>{try{const O=xi(yn,`Empresas/${b}/Vendas`),x=await Yi(O),A=[];x.forEach(Y=>{A.push({id:Y.id,...Y.data()})}),t(A),r(A);const L=A.reduce((Y,st)=>Y+st.TotalVenda,0);d(L)}catch(O){console.error("Erro ao buscar no Firestore:",O)}finally{m(!1)}})()},[]);const w=R=>{const O=new Date;if(R===1){const x=new Date(O.getFullYear(),O.getMonth(),O.getDate(),5,0,0),A=new Date(O.getFullYear(),O.getMonth(),O.getDate()+1,11,0,0),L=e.filter(Y=>{const st=new Date(Y.Data.seconds*1e3);return st>=x&&st<A});r(L)}else if(R===0){const x=new Date(O.getFullYear(),O.getMonth(),O.getDate()-1,5,0,0),A=new Date(O.getFullYear(),O.getMonth(),O.getDate(),5,0,0),L=e.filter(Y=>{const st=new Date(Y.Data.seconds*1e3);return st>=x&&st<A});r(L)}else{const x=e.filter(A=>{const L=new Date(A.Data.seconds*1e3);return Math.abs(O-L)/(1e3*60*60*24)<=R});r(x)}};ct.useEffect(()=>{w(T)},[T,e]),ct.useEffect(()=>{const R=n.reduce((O,x)=>O+x.TotalVenda,0);d(R)},[n]),ct.useEffect(()=>{const R=n.reduce((O,x)=>O+(x.Fiado||0),0);y(R)},[n]);const k=R=>{if(a(R),R.trim()==="")r(e);else{const O=e.filter(x=>x.Cliente.nome.toLowerCase().includes(R.toLowerCase()));r(O)}},j=R=>{o(R),h(!0)},z=()=>{o(null),h(!1)},N=async()=>{if(s)try{const R=Qr(yn,`Empresas/${b}/Vendas`,s.id);await F6(R),t(e.filter(O=>O.id!==s.id)),r(n.filter(O=>O.id!==s.id)),z(),alert("Venda excluída com sucesso!")}catch(R){console.error("Erro ao excluir a venda:",R),alert("Erro ao excluir a venda!")}},E=()=>{if(!s)return;const R=new le;R.text("Mercearia Sagrada Família",14,10),R.autoTable({head:[["Cliente","Telefone","Data","Total","Fiado","Operador"]],body:[[s.Cliente.nome,s.Cliente.telefone,new Date(s.Data.seconds*1e3).toLocaleString(),`R$ ${s.TotalVenda}`,`R$ ${s.Fiado||0}`,s.Operador]]}),s.Lista.forEach((O,x)=>{R.setFontSize(10),R.text(`${O.quantity}x ${O.nome} - R$ ${O.preco.toFixed(2)}`,14,60+x*10)}),R.save(`Venda_${s.Cliente.nome}.pdf`)};return p?W.jsx(Bg,{}):W.jsxs("div",{id:"vendas",children:[W.jsxs("div",{id:"clientFilter",children:[W.jsx("label",{htmlFor:"filterName",children:"Filtrar por nome do cliente:"}),W.jsx("input",{className:"form-control",type:"text",id:"filterSale",value:i,onChange:R=>k(R.target.value),placeholder:"Digite o nome do cliente"})]}),W.jsxs("div",{id:"dateFilter",children:[W.jsx("label",{htmlFor:"timeFilter",children:"Filtrar por data das vendas:"}),W.jsxs("select",{id:"timeFilter",className:"form-control",value:T,onChange:R=>C(Number(R.target.value)),children:[W.jsx("option",{value:1,children:"Hoje (após as 05h)"}),W.jsx("option",{value:0,children:"Ontem"}),W.jsx("option",{value:7,children:"Últimos 7 dias"}),W.jsx("option",{value:15,children:"Últimos 15 dias"}),W.jsx("option",{value:30,children:"Últimos 30 dias"})]})]}),W.jsxs("div",{id:"salesNumbers",children:[W.jsxs("p",{children:[W.jsx("strong",{children:"Total de Vendas:"})," R$ ",Number(g).toFixed(2)]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Total de Fiado:"})," R$ ",P.toFixed(2)]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Total Pago:"})," R$",Number(g)-P]})]}),W.jsx("ul",{children:n.map(R=>W.jsxs("li",{className:"individualSale",onClick:()=>j(R),children:[W.jsxs("span",{children:[W.jsx("strong",{children:"Cliente:"})," ",R.Cliente.nome," "]}),W.jsxs("span",{children:["ID: ",R.id," "]}),W.jsxs("span",{children:[W.jsx("strong",{children:"Total:"})," R$",R.TotalVenda.toFixed(2)]})]},R.id))}),l&&s&&W.jsx("div",{id:"modal",children:W.jsxs("div",{id:"modalContent",children:[W.jsx("button",{id:"closeModal",className:"material-symbols-outlined",onClick:z,children:"close"}),W.jsx("h2",{children:"Detalhes da Venda:"}),W.jsxs("p",{children:[W.jsx("strong",{children:"Operador:"}),s.Operador]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Cliente:"})," ",s.Cliente.nome]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Telefone:"})," ",s.Cliente.telefone]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Data:"})," ",new Date(s.Data.seconds*1e3).toLocaleString()]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Total:"})," R$",s.TotalVenda.toFixed(2)]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Pago:"})," R$",s.Pago||""]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Fiado:"})," R$",s.Fiado||""]}),W.jsx("h3",{children:"Itens da Venda:"}),W.jsx("ul",{children:s.Lista.map((R,O)=>W.jsxs("li",{children:[R.quantity," x ",R.nome," - R$",R.preco.toFixed(2)]},O))}),W.jsxs("div",{id:"modalButtons",children:[W.jsx("button",{onClick:E,className:"btn btn-primary",children:"Exportar PDF"}),W.jsx("button",{className:"btn btn-danger",onClick:N,children:"Deletar Venda"})]})]})})]})},rO=()=>{const[e,t]=ct.useState([]),[n,r]=ct.useState([]),[i,a]=ct.useState(""),[s,o]=ct.useState(null),[l,h]=ct.useState(),[p,m]=ct.useState(!1),[g,d]=ct.useState(!1),[T,C]=ct.useState({nome:"",telefone:"",divida:0}),[P,y]=ct.useState(!1),b=localStorage.getItem("empresaId"),w=A=>{o(A),y(!0)},k=async()=>{m(!0);try{const A=xi(yn,`Empresas/${b}/Clientes`),L=xi(yn,"Vendas"),[Y,st]=await Promise.all([Yi(A),Yi(L)]),q={};st.forEach(X=>{const J=X.data(),at=J.Cliente.nome;q[at]?q[at].push(J):q[at]=[J]});let Q=[];Y.forEach(X=>{const J=X.data(),at=J.nome,yt=J.telefone,M=J.divida||0,$=q[at]||[];Q.push({telefone:yt,nome:at,comprasFeitas:$.length,divida:M})}),Q=Q.sort((X,J)=>X.nome.localeCompare(J.nome)),t(Q),r(Q)}catch(A){console.error("Erro ao buscar clientes e vendas:",A)}finally{m(!1)}},j=A=>{if(a(A),A.trim()==="")r(e);else{const L=e.filter(Y=>Y.nome.toLowerCase().includes(A.toLowerCase()));r(L)}};ct.useEffect(()=>{k();const A=jP(xi(yn,`Empresas/${b}/Clientes`),L=>{const Y=[];L.forEach(st=>{const q=st.data();Y.push({telefone:q.telefone,nome:q.nome,divida:q.divida||0})}),t(Y),r(Y)});return()=>A()},[]);const z=async A=>{A.preventDefault();const{nome:L,telefone:Y}=T;if(!L||!Y){alert("Preencha todos os campos obrigatórios!");return}try{const st=L.trim(),q=Qr(yn,`Empresas/${b}/Clientes`,st),Q={nome:L,telefone:Y,criadoEm:new Date,divida:parseFloat(T.divida)||0,dataUltimoPagamento:"",nomeMinusculo:L.toLowerCase()};await iu(q,Q),alert("Cliente criado com sucesso!"),C({nome:"",telefone:"",divida:0}),O()}catch(st){console.error("Erro ao criar cliente:",st),alert("Erro ao criar cliente. Tente novamente.")}},N=async A=>{if(!A||!A.nome||!A.telefone){console.error("Dados do cliente incompletos. Verifique antes de salvar."),alert("Erro: Dados do cliente estão incompletos.");return}try{const L=Qr(yn,`Empresas/${b}/Clientes`,A.nome),Y={nome:A.nome,telefone:A.telefone,divida:A.divida,nomeMinusculo:A.nome.toLowerCase()};await MP(L,Y),console.log("Cliente atualizado com sucesso!"),alert("Dados do cliente atualizados com sucesso!")}catch(L){console.error("Erro ao atualizar cliente no Firebase:",L),alert("Erro ao salvar os dados. Por favor, tente novamente.")}},E=async A=>{if(window.confirm(`Tem certeza que deseja excluir o cliente ${A.nome}?`))try{const Y=Qr(yn,`Empresas/${b}/Clientes`,A.nome);await F6(Y),alert("Cliente excluído com sucesso!")}catch(Y){console.error("Erro ao excluir cliente:",Y),alert("Erro ao excluir cliente. Tente novamente.")}},R=()=>{d(!0)},O=()=>{d(!1)},x=()=>e.reduce((A,L)=>A+(L.divida||0),0).toFixed(2);return p?W.jsx(Bg,{}):W.jsxs("div",{id:"clientes",children:[W.jsxs("div",{children:[W.jsx("label",{htmlFor:"filterName",children:"Filtrar por Nome:"}),W.jsx("input",{type:"text",id:"filterName",value:i,onChange:A=>j(A.target.value),placeholder:"Digite o nome do cliente",className:"form-control"})]}),W.jsxs("table",{id:"clientsList",children:[W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{children:"Nome"}),W.jsx("th",{children:"Telefone"}),W.jsx("th",{children:"Compras Feitas"}),W.jsx("th",{children:"Dívida Atual"}),W.jsx("th",{children:"Ações"})]})}),W.jsx("tbody",{children:n.map((A,L)=>W.jsxs("tr",{children:[W.jsx("td",{className:"openClientModal",onClick:()=>{o(A),w(A)},children:A.nome}),W.jsx("td",{children:A.telefone}),W.jsx("td",{children:A.comprasFeitas}),W.jsx("td",{children:A.divida.toFixed(2)}),W.jsx("td",{children:W.jsx("button",{className:"btn btn-danger",onClick:Y=>{Y.stopPropagation(),E(A)},children:"Deletar"})})]},L))}),W.jsx("tfoot",{children:W.jsxs("tr",{children:[W.jsx("td",{colSpan:"4",children:"Dívida total dos clientes"}),W.jsx("td",{children:W.jsx("strong",{children:x()})})]})})]}),P&&s&&W.jsx("div",{id:"editClientModal",children:W.jsxs("div",{children:[W.jsx("h2",{children:"Editar Cliente"}),W.jsxs("form",{onSubmit:A=>{A.preventDefault(),N(s),y(!1)},children:[W.jsx("label",{children:"Nome"}),W.jsx("input",{type:"text",className:"form-control",value:s.nome,onChange:A=>o({...s,nome:A.target.value})}),W.jsx("label",{children:"Telefone"}),W.jsx("input",{type:"text",className:"form-control",value:s.telefone,onChange:A=>o({...s,telefone:A.target.value})}),W.jsxs("label",{children:["Fiado (Dívida Atual: ",s.divida.toFixed(2),")"]}),W.jsx("input",{type:"number",className:"form-control",value:s.divida,onChange:A=>o({...s,divida:parseFloat(A.target.value)})}),W.jsx("small",{children:'Insira "0" para quitar a dívida.'}),W.jsxs("div",{className:"mt-3",children:[W.jsx("button",{type:"submit",className:"btn btn-dark form-control",children:"Salvar Alterações"}),W.jsx("button",{type:"button",className:"btn btn-danger mt-2",onClick:()=>y(!1),children:"Cancelar"})]})]})]})}),W.jsx("button",{className:"btn btn-dark",id:"addClient",onClick:R,children:"+"}),g&&W.jsx("div",{id:"addClientContainer",children:W.jsxs("form",{id:"addClientForm",onSubmit:z,children:[W.jsx("button",{type:"button",onClick:O,id:"closeFormButton",children:"X"}),W.jsx("input",{type:"text",placeholder:"Nome",className:"form-control",value:T.nome,onChange:A=>C({...T,nome:A.target.value})}),W.jsx("input",{type:"text",placeholder:"Telefone",className:"form-control",value:T.telefone,onChange:A=>C({...T,telefone:A.target.value})}),W.jsx("input",{type:"number",placeholder:"Fiado",className:"form-control",value:T.divida,onChange:A=>C({...T,divida:A.target.value})}),W.jsx("button",{type:"submit",className:"btn btn-dark form-control",children:"Adicionar"})]})})]})},iO=()=>{const[e,t]=ct.useState([]),[n,r]=ct.useState(!1),[i,a]=ct.useState(0),s=localStorage.getItem("empresaId"),o=async()=>{r(!0);try{const l=xi(yn,`Empresas/${s}/Produtos`),h=await Yi(l),p=[];let m=0;h.forEach(g=>{const d=g.data(),T=d.estoque*d.preco;m+=T,p.push({...d,valorTotalEstoque:T})}),p.sort((g,d)=>g.nome.localeCompare(d.nome)),t(p),a(m)}catch(l){console.error("Erro ao buscar produtos:",l)}finally{r(!1)}};return ct.useEffect(()=>{o()},[]),n?W.jsx(Bg,{}):W.jsx("div",{id:"balanço",children:n?W.jsx("p",{children:"Carregando..."}):W.jsx("div",{className:"tabela-balanco",children:W.jsxs("table",{children:[W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{children:"Nome do Produto"}),W.jsx("th",{children:"Preço Unitário"}),W.jsx("th",{children:"Quantidade em Estoque"}),W.jsx("th",{children:"Valor Total do Estoque"})]})}),W.jsx("tbody",{children:e.map(l=>W.jsxs("tr",{children:[W.jsx("td",{children:l.nome}),W.jsxs("td",{children:["R$",l.preco.toFixed(2)]}),W.jsx("td",{children:l.estoque}),W.jsxs("td",{children:["R$",l.valorTotalEstoque.toFixed(2)]})]},l.nome))}),W.jsx("tfoot",{children:W.jsxs("tr",{children:[W.jsx("td",{colSpan:"3",children:W.jsx("strong",{children:"Total do Balanço"})}),W.jsx("td",{children:W.jsxs("strong",{children:["R$",i.toFixed(2)]})})]})})]})})})},aO=()=>{const[e,t]=ct.useState(""),[n,r]=ct.useState(""),[i,a]=ct.useState(""),[s,o]=ct.useState(""),[l,h]=ct.useState(!1),[p,m]=ct.useState([]),[g,d]=ct.useState(null),[T,C]=ct.useState([]),[P,y]=ct.useState(""),[b,w]=ct.useState(""),[k,j]=ct.useState(""),z=localStorage.getItem("empresaId"),N=async L=>{if(L.preventDefault(),!e||!n||!i){o("Por favor, preencha todos os campos.");return}const Y={title:e,date:n,value:parseFloat(i)};try{await V6(xi(yn,`Empresas/${z}/Despesas`),Y),o("Despesa registrada com sucesso!"),t(""),r(""),a("")}catch(st){o(`Erro ao registrar despesa: ${st.message}`)}},E=async()=>{try{const Y=(await Yi(xi(yn,`Empresas/${z}/Despesas`))).docs.map(st=>({id:st.id,...st.data()}));m(Y),C(Y)}catch(L){console.error("Erro ao buscar despesas:",L)}};ct.useEffect(()=>{let L=p;P&&(L=L.filter(Y=>Y.date===P)),b&&k&&(L=L.filter(Y=>{const st=new Date(Y.date);return st.getMonth()+1===parseInt(b)&&st.getFullYear()===parseInt(k)})),C(L)},[P,b,k,p]);const R=()=>T.reduce((L,Y)=>L+Y.value,0).toFixed(2),O=async L=>{try{const Y=await Pg(Qr(yn,`Empresas/${z}/Despesas`,L));Y.exists()?d({id:Y.id,...Y.data()}):o("Despesa não encontrada.")}catch(Y){console.error("Erro ao buscar detalhes da despesa:",Y)}},x=()=>{h(L=>!L),l||E()},A=()=>{d(null)};return W.jsxs("div",{children:[l?W.jsxs("div",{children:[W.jsx("button",{className:"btn btn-secondary",onClick:x,children:"Voltar"}),W.jsx("h1",{children:"Lista de Despesas"}),W.jsx("input",{type:"date",value:P,onChange:L=>y(L.target.value),className:"form-control"}),W.jsxs("select",{value:b,onChange:L=>w(L.target.value),className:"form-control",children:[W.jsx("option",{value:"",children:"Selecione o mês"}),W.jsx("option",{value:"1",children:"Janeiro"}),W.jsx("option",{value:"2",children:"Fevereiro"}),W.jsx("option",{value:"3",children:"Março"}),W.jsx("option",{value:"4",children:"Abril"}),W.jsx("option",{value:"5",children:"Maio"}),W.jsx("option",{value:"6",children:"Junho"}),W.jsx("option",{value:"7",children:"Julho"}),W.jsx("option",{value:"8",children:"Agosto"}),W.jsx("option",{value:"9",children:"Setembro"}),W.jsx("option",{value:"10",children:"Outubro"}),W.jsx("option",{value:"11",children:"Novembro"}),W.jsx("option",{value:"12",children:"Dezembro"})]}),W.jsxs("select",{value:k,onChange:L=>j(L.target.value),className:"form-control",children:[W.jsx("option",{value:"",children:"Selecione o ano"}),new Array(5).fill(0).map((L,Y)=>{const st=new Date().getFullYear()-Y;return W.jsx("option",{value:st,children:st},st)})]}),W.jsxs("h3",{children:["Total: R$",R()]}),T.length>0?W.jsx("ul",{className:"list-group",children:T.map(L=>W.jsx("li",{className:"list-group-item",onClick:()=>O(L.id),children:L.title},L.id))}):W.jsx("p",{children:"Nenhuma despesa encontrada."})]}):W.jsxs("div",{children:[W.jsx("h1",{children:"Registrar Despesa"}),W.jsxs("form",{onSubmit:N,className:"saveBillForm",children:[W.jsx("input",{type:"text",name:"billTitle",id:"billTitle",className:"form-control",placeholder:"Título da Despesa",value:e,onChange:L=>t(L.target.value)}),W.jsx("input",{type:"date",name:"billDate",id:"billDate",className:"form-control",value:n,onChange:L=>r(L.target.value)}),W.jsx("input",{type:"number",name:"billValue",id:"billValue",className:"form-control",placeholder:"Custo da Despesa",value:i,onChange:L=>a(L.target.value)}),W.jsx("button",{type:"submit",className:"btn btn-dark form-control",children:"Registrar"})]}),s&&W.jsx("p",{children:s}),W.jsx("button",{id:"showBills",className:"btn btn-primary",onClick:x,children:"Minhas Despesas"})]}),g&&W.jsx("div",{className:"bill-details-overlay",children:W.jsxs("div",{className:"bill-details-container",children:[W.jsx("h2",{children:"Detalhes da Despesa"}),W.jsxs("p",{children:[W.jsx("strong",{children:"Título:"})," ",g.title]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Data:"})," ",g.date]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Valor:"})," R$",g.value]}),W.jsx("button",{className:"btn btn-danger",onClick:A,children:"X"})]})})]})},sO=()=>{const[e,t]=ct.useState("FrenteCaixa"),[n,r]=ct.useState([]);return W.jsxs("div",{id:"home",children:[W.jsx("h1",{id:"logoTitle",children:"Mercado Forte®"}),e==="FrenteCaixa"&&W.jsx(mE,{shoppingList:n,setShoppingList:r}),e==="CriarProduto"&&W.jsx(X9,{}),e==="EditarProdutos"&&W.jsx(Z9,{}),e==="Balanço"&&W.jsx(iO,{}),e==="Vendas"&&W.jsx(nO,{}),e==="Clientes"&&W.jsx(rO,{}),e==="EntradaDeNotas"&&W.jsx(aO,{}),W.jsx("menu",{id:"menuNavigation",children:[{label:"VENDER",section:"FrenteCaixa"},{label:"CRIAR PRODUTO",section:"CriarProduto"},{label:"EDITAR PRODUTOS",section:"EditarProdutos"},{label:"VENDAS FEITAS",section:"Vendas"},{label:"CLIENTES",section:"Clientes"},{label:"ENTRADA DE NOTAS",section:"EntradaDeNotas"},{label:"BALANÇO",section:"Balanço"}].map(({label:i,section:a})=>W.jsx("button",{onClick:()=>t(a),style:{backgroundColor:e===a?"black":"white",color:e===a?"white":"black",border:"1px solid black",padding:"8px 8px",cursor:"pointer",margin:"0 0px"},children:i},a))})]})},oO=()=>{const[e,t]=ct.useState({companyName:"",companyCategory:"",companyPhone:"",companyManager:"",companyPassword:""}),[n,r]=ct.useState(""),i=o=>{t({...e,[o.target.name]:o.target.value})},a=o=>o.toLowerCase().match(/\w+('\w+)?/g)||[],s=async o=>{o.preventDefault();const{companyName:l,companyCategory:h,companyPhone:p,companyManager:m,companyPassword:g}=e,d=a(l);try{await iu(Qr(yn,"Empresas",p),{nome:l,nomeMinusculo:l.toLowerCase(),keywords:d,keywordsMinusculo:d.map(T=>T.toLowerCase()),categoria:h,telefone:p,gestor:m,senha:g}),t({companyName:"",companyCategory:"",companyPhone:"",companyManager:"",companyPassword:""}),r("Conta criada com sucesso!")}catch(T){console.error("Erro ao criar conta:",T),r(T.code==="permission-denied"?"Permissão insuficiente. Verifique as regras do Firestore.":"Erro ao criar conta. Tente novamente.")}};return W.jsxs("div",{children:[W.jsx("h1",{children:"Criar Conta"}),n&&W.jsx("p",{children:n}),W.jsxs("form",{onSubmit:s,children:[W.jsx("input",{type:"text",name:"companyName",className:"form-control",placeholder:"Nome da Empresa",value:e.companyName,onChange:i}),W.jsxs("select",{name:"companyCategory",className:"form-control",value:e.companyCategory,onChange:i,children:[W.jsx("option",{value:"",disabled:!0,children:"Informe a Categoria"}),W.jsx("option",{value:"Loja de Roupas",children:"Loja de Roupas"}),W.jsx("option",{value:"Minimercado",children:"Minimercado"}),W.jsx("option",{value:"Supermercado",children:"Supermercado"})]}),W.jsx("input",{type:"text",name:"companyPhone",className:"form-control",placeholder:"Telefone da empresa",value:e.companyPhone,onChange:i}),W.jsx("input",{type:"text",name:"companyManager",className:"form-control",placeholder:"Gestor da empresa",value:e.companyManager,onChange:i}),W.jsx("input",{type:"password",name:"companyPassword",className:"form-control",placeholder:"Crie uma senha",value:e.companyPassword,onChange:i}),W.jsx("button",{className:"btn btn-dark",type:"submit",children:"Criar Minha Conta"})]})]})};function lO(){return W.jsx(U8,{children:W.jsxs(v8,{children:[W.jsx(ef,{path:"/",element:W.jsx(zP,{})}),W.jsx(ef,{path:"/home",element:W.jsx(sO,{})}),W.jsx(ef,{path:"/frente-de-caixa",element:W.jsx(mE,{})}),W.jsx(ef,{path:"/criar-conta",element:W.jsx(oO,{})})]})})}yC.createRoot(document.getElementById("root")).render(W.jsx(Fc.StrictMode,{children:W.jsx(lO,{})}));export{Qe as _,l1 as c,$w as g};
